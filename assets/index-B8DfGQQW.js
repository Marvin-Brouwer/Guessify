const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/camera-viewfinder-BmeZ1Hjd.css"])))=>i.map(i=>d[i]);
(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const Tr=(r,e)=>r===e,ht=Symbol("solid-proxy"),Br=typeof Proxy=="function",De={equals:Tr};let Me=null,tr=cr;const Y=1,We=2,rr={owned:null,cleanups:null,context:null,owner:null};var k=null;let it=null,Lr=null,A=null,N=null,J=null,Ye=0;function sr(r,e){const t=A,s=k,n=r.length===0,a=e===void 0?s:e,o=n?rr:{owned:null,cleanups:null,context:a?a.context:null,owner:a},c=n?r:()=>r(()=>K(()=>Ae(o)));k=o,A=null;try{return re(c,!0)}finally{A=t,k=s}}function R(r,e){e=e?Object.assign({},De,e):De;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},s=n=>(typeof n=="function"&&(n=n(t.value)),ar(t,n));return[or.bind(t),s]}function H(r,e,t){const s=Xe(r,e,!1,Y);$e(s)}function Mt(r,e,t){tr=jr;const s=Xe(r,e,!1,Y);s.user=!0,J?J.push(s):$e(s)}function S(r,e,t){t=t?Object.assign({},De,t):De;const s=Xe(r,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=t.equals||void 0,$e(s),or.bind(s)}function qr(r){return re(r,!1)}function K(r){if(A===null)return r();const e=A;A=null;try{return r()}finally{A=e}}function kt(r,e,t){const s=Array.isArray(r);let n,a=t&&t.defer;return o=>{let c;if(s){c=Array(r.length);for(let i=0;i<r.length;i++)c[i]=r[i]()}else c=r();if(a)return a=!1,o;const d=K(()=>e(c,n,o));return n=c,d}}function X(r){Mt(()=>K(r))}function oe(r){return k===null||(k.cleanups===null?k.cleanups=[r]:k.cleanups.push(r)),r}function Nr(r,e){Me||(Me=Symbol("error")),k=Xe(void 0,void 0,!0),k.context={...k.context,[Me]:[e]};try{return r()}catch(t){Re(t)}finally{k=k.owner}}function nr(){return k}function ir(r,e){const t=k,s=A;k=r,A=null;try{return re(e,!0)}catch(n){Re(n)}finally{k=t,A=s}}function Ir(r){const e=A,t=k;return Promise.resolve().then(()=>{A=e,k=t;let s;return re(r,!1),A=k=null,s?s.done:void 0})}function we(r,e){const t=Symbol("context");return{id:t,Provider:Dr(t),defaultValue:r}}function ve(r){let e;return k&&k.context&&(e=k.context[r.id])!==void 0?e:r.defaultValue}function te(r){const e=S(r),t=S(()=>pt(e()));return t.toArray=()=>{const s=t();return Array.isArray(s)?s:s!=null?[s]:[]},t}function or(){if(this.sources&&this.state)if(this.state===Y)$e(this);else{const r=N;N=null,re(()=>He(this),!1),N=r}if(A){const r=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(r)):(A.sources=[this],A.sourceSlots=[r]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function ar(r,e,t){let s=r.value;return(!r.comparator||!r.comparator(s,e))&&(r.value=e,r.observers&&r.observers.length&&re(()=>{for(let n=0;n<r.observers.length;n+=1){const a=r.observers[n],o=it&&it.running;o&&it.disposed.has(a),(o?!a.tState:!a.state)&&(a.pure?N.push(a):J.push(a),a.observers&&lr(a)),o||(a.state=Y)}if(N.length>1e6)throw N=[],new Error},!1)),e}function $e(r){if(!r.fn)return;Ae(r);const e=Ye;Ur(r,r.value,e)}function Ur(r,e,t){let s;const n=k,a=A;A=k=r;try{s=r.fn(e)}catch(o){return r.pure&&(r.state=Y,r.owned&&r.owned.forEach(Ae),r.owned=null),r.updatedAt=t+1,Re(o)}finally{A=a,k=n}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?ar(r,s):r.value=s,r.updatedAt=t)}function Xe(r,e,t,s=Y,n){const a={fn:r,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:k,context:k?k.context:null,pure:t};return k===null||k!==rr&&(k.owned?k.owned.push(a):k.owned=[a]),a}function Ge(r){if(r.state===0)return;if(r.state===We)return He(r);if(r.suspense&&K(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Ye);)r.state&&e.push(r);for(let t=e.length-1;t>=0;t--)if(r=e[t],r.state===Y)$e(r);else if(r.state===We){const s=N;N=null,re(()=>He(r,e[0]),!1),N=s}}function re(r,e){if(N)return r();let t=!1;e||(N=[]),J?t=!0:J=[],Ye++;try{const s=r();return Vr(t),s}catch(s){t||(J=null),N=null,Re(s)}}function Vr(r){if(N&&(cr(N),N=null),r)return;const e=J;J=null,e.length&&re(()=>tr(e),!1)}function cr(r){for(let e=0;e<r.length;e++)Ge(r[e])}function jr(r){let e,t=0;for(e=0;e<r.length;e++){const s=r[e];s.user?r[t++]=s:Ge(s)}for(e=0;e<t;e++)Ge(r[e])}function He(r,e){r.state=0;for(let t=0;t<r.sources.length;t+=1){const s=r.sources[t];if(s.sources){const n=s.state;n===Y?s!==e&&(!s.updatedAt||s.updatedAt<Ye)&&Ge(s):n===We&&He(s,e)}}}function lr(r){for(let e=0;e<r.observers.length;e+=1){const t=r.observers[e];t.state||(t.state=We,t.pure?N.push(t):J.push(t),t.observers&&lr(t))}}function Ae(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),s=r.sourceSlots.pop(),n=t.observers;if(n&&n.length){const a=n.pop(),o=t.observerSlots.pop();s<n.length&&(a.sourceSlots[o]=s,n[s]=a,t.observerSlots[s]=o)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)Ae(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)Ae(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function zr(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Rt(r,e,t){try{for(const s of e)s(r)}catch(s){Re(s,t&&t.owner||null)}}function Re(r,e=k){const t=Me&&e&&e.context&&e.context[Me],s=zr(r);if(!t)throw s;J?J.push({fn(){Rt(s,t,e)},state:Y}):Rt(s,t,e)}function pt(r){if(typeof r=="function"&&!r.length)return pt(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const s=pt(r[t]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return r}function Dr(r,e){return function(s){let n;return H(()=>n=K(()=>(k.context={...k.context,[r]:s.value},te(()=>s.children))),void 0),n}}function _(r,e){return K(()=>r(e||{}))}function Be(){return!0}const Wr={get(r,e,t){return e===ht?t:r.get(e)},has(r,e){return e===ht?!0:r.has(e)},set:Be,deleteProperty:Be,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:Be,deleteProperty:Be}},ownKeys(r){return r.keys()}};function ot(r){return(r=typeof r=="function"?r():r)?r:{}}function Gr(){for(let r=0,e=this.length;r<e;++r){const t=this[r]();if(t!==void 0)return t}}function Hr(...r){let e=!1;for(let o=0;o<r.length;o++){const c=r[o];e=e||!!c&&ht in c,r[o]=typeof c=="function"?(e=!0,S(c)):c}if(Br&&e)return new Proxy({get(o){for(let c=r.length-1;c>=0;c--){const d=ot(r[c])[o];if(d!==void 0)return d}},has(o){for(let c=r.length-1;c>=0;c--)if(o in ot(r[c]))return!0;return!1},keys(){const o=[];for(let c=0;c<r.length;c++)o.push(...Object.keys(ot(r[c])));return[...new Set(o)]}},Wr);const t={},s=Object.create(null);for(let o=r.length-1;o>=0;o--){const c=r[o];if(!c)continue;const d=Object.getOwnPropertyNames(c);for(let i=d.length-1;i>=0;i--){const l=d[i];if(l==="__proto__"||l==="constructor")continue;const u=Object.getOwnPropertyDescriptor(c,l);if(!s[l])s[l]=u.get?{enumerable:!0,configurable:!0,get:Gr.bind(t[l]=[u.get.bind(c)])}:u.value!==void 0?u:void 0;else{const p=t[l];p&&(u.get?p.push(u.get.bind(c)):u.value!==void 0&&p.push(()=>u.value))}}}const n={},a=Object.keys(s);for(let o=a.length-1;o>=0;o--){const c=a[o],d=s[c];d&&d.get?Object.defineProperty(n,c,d):n[c]=d?d.value:void 0}return n}const Kr=r=>`Stale read from <${r}>.`;function ur(r){const e=r.keyed,t=S(()=>r.when,void 0,{equals:(s,n)=>e?s===n:!s==!n});return S(()=>{const s=t();if(s){const n=r.children;return typeof n=="function"&&n.length>0?K(()=>n(e?s:()=>{if(!K(t))throw Kr("Show");return r.when})):n}return r.fallback},void 0,void 0)}let pe;function Qr(){pe&&[...pe].forEach(r=>r())}function Jr(r){let e;const[t,s]=R(e,void 0);return pe||(pe=new Set),pe.add(s),oe(()=>pe.delete(s)),S(()=>{let n;if(n=t()){const a=r.fallback;return typeof a=="function"&&a.length?K(()=>a(n,()=>s())):a}return Nr(()=>r.children,s)},void 0,void 0)}function Yr(r,e,t){let s=t.length,n=e.length,a=s,o=0,c=0,d=e[n-1].nextSibling,i=null;for(;o<n||c<a;){if(e[o]===t[c]){o++,c++;continue}for(;e[n-1]===t[a-1];)n--,a--;if(n===o){const l=a<s?c?t[c-1].nextSibling:t[a-c]:d;for(;c<a;)r.insertBefore(t[c++],l)}else if(a===c)for(;o<n;)(!i||!i.has(e[o]))&&e[o].remove(),o++;else if(e[o]===t[a-1]&&t[c]===e[n-1]){const l=e[--n].nextSibling;r.insertBefore(t[c++],e[o++].nextSibling),r.insertBefore(t[--a],l),e[n]=t[a]}else{if(!i){i=new Map;let u=c;for(;u<a;)i.set(t[u],u++)}const l=i.get(e[o]);if(l!=null)if(c<l&&l<a){let u=o,p=1,f;for(;++u<n&&u<a&&!((f=i.get(e[u]))==null||f!==l+p);)p++;if(p>l-c){const g=e[o];for(;c<l;)r.insertBefore(t[c++],g)}else r.replaceChild(t[c++],e[o++])}else o++;else e[o++].remove()}}}const Ft="_$DX_DELEGATE";function Xr(r,e,t,s={}){let n;return sr(a=>{n=a,e===document?r():v(e,r(),e.firstChild?null:void 0,t)},s.owner),()=>{n(),e.textContent=""}}function M(r,e,t){let s;const n=()=>{const o=document.createElement("template");return o.innerHTML=r,o.content.firstChild},a=()=>(s||(s=n())).cloneNode(!0);return a.cloneNode=a,a}function Fe(r,e=window.document){const t=e[Ft]||(e[Ft]=new Set);for(let s=0,n=r.length;s<n;s++){const a=r[s];t.has(a)||(t.add(a),e.addEventListener(a,es))}}function q(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function _t(r,e){e==null?r.removeAttribute("class"):r.className=e}function Zr(r,e,t){return K(()=>r(e,t))}function v(r,e,t,s){if(t!==void 0&&!s&&(s=[]),typeof e!="function")return Ke(r,e,s,t);H(n=>Ke(r,e(),n,t),s)}function es(r){let e=r.target;const t=`$$${r.type}`,s=r.target,n=r.currentTarget,a=d=>Object.defineProperty(r,"target",{configurable:!0,value:d}),o=()=>{const d=e[t];if(d&&!e.disabled){const i=e[`${t}Data`];if(i!==void 0?d.call(e,i,r):d.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&a(e.host),!0},c=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const d=r.composedPath();a(d[0]);for(let i=0;i<d.length-2&&(e=d[i],!!o());i++){if(e._$host){e=e._$host,c();break}if(e.parentNode===n)break}}else c();a(s)}function Ke(r,e,t,s,n){for(;typeof t=="function";)t=t();if(e===t)return t;const a=typeof e,o=s!==void 0;if(r=o&&t[0]&&t[0].parentNode||r,a==="string"||a==="number"){if(a==="number"&&(e=e.toString(),e===t))return t;if(o){let c=t[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),t=de(r,t,s,c)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||a==="boolean")t=de(r,t,s);else{if(a==="function")return H(()=>{let c=e();for(;typeof c=="function";)c=c();t=Ke(r,c,t,s)}),()=>t;if(Array.isArray(e)){const c=[],d=t&&Array.isArray(t);if(mt(c,e,t,n))return H(()=>t=Ke(r,c,t,s,!0)),()=>t;if(c.length===0){if(t=de(r,t,s),o)return t}else d?t.length===0?Ot(r,c,s):Yr(r,t,c):(t&&de(r),Ot(r,c));t=c}else if(e.nodeType){if(Array.isArray(t)){if(o)return t=de(r,t,s,e);de(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}}return t}function mt(r,e,t,s){let n=!1;for(let a=0,o=e.length;a<o;a++){let c=e[a],d=t&&t[r.length],i;if(!(c==null||c===!0||c===!1))if((i=typeof c)=="object"&&c.nodeType)r.push(c);else if(Array.isArray(c))n=mt(r,c,d)||n;else if(i==="function")if(s){for(;typeof c=="function";)c=c();n=mt(r,Array.isArray(c)?c:[c],Array.isArray(d)?d:[d])||n}else r.push(c),n=!0;else{const l=String(c);d&&d.nodeType===3&&d.data===l?r.push(d):r.push(document.createTextNode(l))}}return n}function Ot(r,e,t=null){for(let s=0,n=e.length;s<n;s++)r.insertBefore(e[s],t)}function de(r,e,t,s){if(t===void 0)return r.textContent="";const n=s||document.createTextNode("");if(e.length){let a=!1;for(let o=e.length-1;o>=0;o--){const c=e[o];if(n!==c){const d=c.parentNode===r;!a&&!o?d?r.replaceChild(n,c):r.insertBefore(n,t):d&&c.remove()}else a=!0}}else r.insertBefore(n,t);return[n]}const ts=()=>{},dr=!1;function fr(){let r=new Set;function e(n){return r.add(n),()=>r.delete(n)}let t=!1;function s(n,a){if(t)return!(t=!1);const o={to:n,options:a,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const c of r)c.listener({...o,from:c.location,retry:d=>{d&&(t=!0),c.navigate(n,{...a,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:s}}let gt;function Pt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),gt=window.history.state._depth}Pt();function rs(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function ss(r,e){let t=!1;return()=>{const s=gt;Pt();const n=s==null?null:gt-s;if(t){t=!1;return}n&&e(n)?(t=!0,window.history.go(-n)):r()}}const ns=/^(?:[a-z0-9]+:)?\/\//i,is=/^\/+|(\/)\/+$/g,hr="http://sr";function ke(r,e=!1){const t=r.replace(is,"$1");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function Ve(r,e,t){if(ns.test(e))return;const s=ke(r),n=t&&ke(t);let a="";return!n||e.startsWith("/")?a=s:n.toLowerCase().indexOf(s.toLowerCase())!==0?a=s+n:a=n,(a||"/")+ke(e,!a)}function os(r,e){if(r==null)throw new Error(e);return r}function as(r,e){return ke(r).replace(/\/*(\*.*)?$/g,"")+ke(e)}function pr(r){const e={};return r.searchParams.forEach((t,s)=>{s in e?Array.isArray(e[s])?e[s].push(t):e[s]=[e[s],t]:e[s]=t}),e}function cs(r,e,t){const[s,n]=r.split("/*",2),a=s.split("/").filter(Boolean),o=a.length;return c=>{const d=c.split("/").filter(Boolean),i=d.length-o;if(i<0||i>0&&n===void 0&&!e)return null;const l={path:o?"":"/",params:{}},u=p=>t===void 0?void 0:t[p];for(let p=0;p<o;p++){const f=a[p],g=f[0]===":",h=g?d[p]:d[p].toLowerCase(),w=g?f.slice(1):f.toLowerCase();if(g&&at(h,u(w)))l.params[w]=h;else if(g||!at(h,w))return null;l.path+=`/${h}`}if(n){const p=i?d.slice(-i).join("/"):"";if(at(p,u(n)))l.params[n]=p;else return null}return l}}function at(r,e){const t=s=>s===r;return e===void 0?!0:typeof e=="string"?t(e):typeof e=="function"?e(r):Array.isArray(e)?e.some(t):e instanceof RegExp?e.test(r):!1}function ls(r){const[e,t]=r.pattern.split("/*",2),s=e.split("/").filter(Boolean);return s.reduce((n,a)=>n+(a.startsWith(":")?2:3),s.length-(t===void 0?0:1))}function mr(r){const e=new Map,t=nr();return new Proxy({},{get(s,n){return e.has(n)||ir(t,()=>e.set(n,S(()=>r()[n]))),e.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function gr(r){let e=/(\/?\:[^\/]+)\?/.exec(r);if(!e)return[r];let t=r.slice(0,e.index),s=r.slice(e.index+e[0].length);const n=[t,t+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(s);)n.push(t+=e[1]),s=s.slice(e[0].length);return gr(s).reduce((a,o)=>[...a,...n.map(c=>c+o)],[])}const us=100,wr=we(),vr=we(),xt=()=>os(ve(wr),"<A> and 'use' router primitives can be only used inside a Route."),ds=r=>{const e=xt();return S(()=>{const t=r();return t!==void 0?e.renderPath(t):t})},fs=()=>xt().navigatorFactory(),hs=()=>xt().params;function ps(r,e=""){const{component:t,preload:s,load:n,children:a,info:o}=r,c=!a||Array.isArray(a)&&!a.length,d={key:r,component:t,preload:s||n,info:o};return br(r.path).reduce((i,l)=>{for(const u of gr(l)){const p=as(e,u);let f=c?p:p.split("/*",1)[0];f=f.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),i.push({...d,originalPath:l,pattern:f,matcher:cs(f,!c,r.matchFilters)})}return i},[])}function ms(r,e=0){return{routes:r,score:ls(r[r.length-1])*1e4-e,matcher(t){const s=[];for(let n=r.length-1;n>=0;n--){const a=r[n],o=a.matcher(t);if(!o)return null;s.unshift({...o,route:a})}return s}}}function br(r){return Array.isArray(r)?r:[r]}function yr(r,e="",t=[],s=[]){const n=br(r);for(let a=0,o=n.length;a<o;a++){const c=n[a];if(c&&typeof c=="object"){c.hasOwnProperty("path")||(c.path="");const d=ps(c,e);for(const i of d){t.push(i);const l=Array.isArray(c.children)&&c.children.length===0;if(c.children&&!l)yr(c.children,i.pattern,t,s);else{const u=ms([...t],s.length);s.push(u)}t.pop()}}}return t.length?s:s.sort((a,o)=>o.score-a.score)}function ct(r,e){for(let t=0,s=r.length;t<s;t++){const n=r[t].matcher(e);if(n)return n}return[]}function gs(r,e,t){const s=new URL(hr),n=S(l=>{const u=r();try{return new URL(u,s)}catch{return console.error(`Invalid path ${u}`),l}},s,{equals:(l,u)=>l.href===u.href}),a=S(()=>n().pathname),o=S(()=>n().search,!0),c=S(()=>n().hash),d=()=>"",i=kt(o,()=>pr(n()));return{get pathname(){return a()},get search(){return o()},get hash(){return c()},get state(){return e()},get key(){return d()},query:t?t(i):mr(i)}}let se;function ws(){return se}function vs(r,e,t,s={}){const{signal:[n,a],utils:o={}}=r,c=o.parsePath||(P=>P),d=o.renderPath||(P=>P),i=o.beforeLeave||fr(),l=Ve("",s.base||"");if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!n().value&&a({value:l,replace:!0,scroll:!1});const[u,p]=R(!1);let f;const g=(P,C)=>{C.value===h()&&C.state===b()||(f===void 0&&p(!0),se=P,f=C,Ir(()=>{f===C&&(w(f.value),y(f.state),Qr(),U[1](z=>z.filter(le=>le.pending)))}).finally(()=>{f===C&&qr(()=>{se=void 0,P==="navigate"&&ce(f),p(!1),f=void 0})}))},[h,w]=R(n().value),[b,y]=R(n().state),O=gs(h,b,o.queryWrapper),T=[],U=R([]),E=S(()=>typeof s.transformUrl=="function"?ct(e(),s.transformUrl(O.pathname)):ct(e(),O.pathname)),B=()=>{const P=E(),C={};for(let z=0;z<P.length;z++)Object.assign(C,P[z].params);return C},V=o.paramsWrapper?o.paramsWrapper(B,e):mr(B),L={pattern:l,path:()=>l,outlet:()=>null,resolvePath(P){return Ve(l,P)}};return H(kt(n,P=>g("native",P),{defer:!0})),{base:L,location:O,params:V,isRouting:u,renderPath:d,parsePath:c,navigatorFactory:Q,matches:E,beforeLeave:i,preloadRoute:Or,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:U};function Oe(P,C,z){K(()=>{if(typeof C=="number"){C&&(o.go?o.go(C):console.warn("Router integration does not support relative routing"));return}const le=!C||C[0]==="?",{replace:st,resolve:ue,scroll:nt,state:be}={replace:!1,resolve:!le,scroll:!0,...z},Te=ue?P.resolvePath(C):Ve(le&&O.pathname||"",C);if(Te===void 0)throw new Error(`Path '${C}' is not a routable path`);if(T.length>=us)throw new Error("Too many redirects");const $t=h();(Te!==$t||be!==b())&&(dr||i.confirm(Te,z)&&(T.push({value:$t,replace:st,scroll:nt,state:b()}),g("navigate",{value:Te,state:be})))})}function Q(P){return P=P||ve(vr)||L,(C,z)=>Oe(P,C,z)}function ce(P){const C=T[0];C&&(a({...P,replace:C.replace,scroll:C.scroll}),T.length=0)}function Or(P,C){const z=ct(e(),P.pathname),le=se;se="preload";for(let st in z){const{route:ue,params:nt}=z[st];ue.component&&ue.component.preload&&ue.component.preload();const{preload:be}=ue;C&&be&&ir(t(),()=>be({params:nt,location:{pathname:P.pathname,search:P.search,hash:P.hash,query:pr(P),state:null,key:""},intent:"preload"}))}se=le}}function bs(r,e,t,s){const{base:n,location:a,params:o}=r,{pattern:c,component:d,preload:i}=s().route,l=S(()=>s().path);d&&d.preload&&d.preload();const u=i?i({params:o,location:a,intent:se||"initial"}):void 0;return{parent:e,pattern:c,path:l,outlet:()=>d?_(d,{params:o,location:a,data:u,get children(){return t()}}):t(),resolvePath(f){return Ve(n.path(),f,l())}}}const Sr=r=>e=>{const{base:t}=e,s=te(()=>e.children),n=S(()=>yr(s(),e.base||""));let a;const o=vs(r,n,()=>a,{base:t,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return r.create&&r.create(o),_(wr.Provider,{value:o,get children(){return _(ys,{routerState:o,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[S(()=>(a=nr())&&null),_(Ss,{routerState:o,get branches(){return n()}})]}})}})};function ys(r){const e=r.routerState.location,t=r.routerState.params,s=S(()=>r.preload&&K(()=>{r.preload({params:t,location:e,intent:ws()||"initial"})}));return _(ur,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:n=>_(n,{params:t,location:e,get data(){return s()},get children(){return r.children}})})}function Ss(r){const e=[];let t;const s=S(kt(r.routerState.matches,(n,a,o)=>{let c=a&&n.length===a.length;const d=[];for(let i=0,l=n.length;i<l;i++){const u=a&&a[i],p=n[i];o&&u&&p.route.key===u.route.key?d[i]=o[i]:(c=!1,e[i]&&e[i](),sr(f=>{e[i]=f,d[i]=bs(r.routerState,d[i-1]||r.routerState.base,Tt(()=>s()[i+1]),()=>r.routerState.matches()[i])}))}return e.splice(n.length).forEach(i=>i()),o&&c?o:(t=d[0],d)}));return Tt(()=>s()&&t)()}const Tt=r=>()=>_(ur,{get when(){return r()},keyed:!0,children:e=>_(vr.Provider,{value:e,get children(){return e.outlet()}})}),Le=r=>{const e=te(()=>r.children);return Hr(r,{get children(){return e()}})};function Ms([r,e],t,s){return[r,n=>e(s(n))]}function ks(r){let e=!1;const t=n=>typeof n=="string"?{value:n}:n,s=Ms(R(t(r.get()),{equals:(n,a)=>n.value===a.value&&n.state===a.state}),void 0,n=>(!e&&r.set(n),n));return r.init&&oe(r.init((n=r.get())=>{e=!0,s[1](t(n)),e=!1})),Sr({signal:s,create:r.create,utils:r.utils})}function _s(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}function Ps(r,e){const t=r&&document.getElementById(r);t?t.scrollIntoView():e&&window.scrollTo(0,0)}function xs(r){const e=new URL(r);return e.pathname+e.search}function As(r){let e;const t={value:r.url||(e=ts())&&xs(e.request.url)||""};return Sr({signal:[()=>t,s=>Object.assign(t,s)]})(r)}const Cs=new Map;function Es(r=!0,e=!1,t="/_server",s){return n=>{const a=n.base.path(),o=n.navigatorFactory(n.base);let c,d;function i(h){return h.namespaceURI==="http://www.w3.org/2000/svg"}function l(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const w=h.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!w||e&&!w.hasAttribute("link"))return;const b=i(w),y=b?w.href.baseVal:w.href;if((b?w.target.baseVal:w.target)||!y&&!w.hasAttribute("state"))return;const T=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||T&&T.includes("external"))return;const U=b?new URL(y,document.baseURI):new URL(y);if(!(U.origin!==window.location.origin||a&&U.pathname&&!U.pathname.toLowerCase().startsWith(a.toLowerCase())))return[w,U]}function u(h){const w=l(h);if(!w)return;const[b,y]=w,O=n.parsePath(y.pathname+y.search+y.hash),T=b.getAttribute("state");h.preventDefault(),o(O,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:T?JSON.parse(T):void 0})}function p(h){const w=l(h);if(!w)return;const[b,y]=w;s&&(y.pathname=s(y.pathname)),n.preloadRoute(y,b.getAttribute("preload")!=="false")}function f(h){clearTimeout(c);const w=l(h);if(!w)return d=null;const[b,y]=w;d!==b&&(s&&(y.pathname=s(y.pathname)),c=setTimeout(()=>{n.preloadRoute(y,b.getAttribute("preload")!=="false"),d=b},20))}function g(h){if(h.defaultPrevented)return;let w=h.submitter&&h.submitter.hasAttribute("formaction")?h.submitter.getAttribute("formaction"):h.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const y=new URL(w,hr);if(w=n.parsePath(y.pathname+y.search),!w.startsWith(t))return}if(h.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=Cs.get(w);if(b){h.preventDefault();const y=new FormData(h.target,h.submitter);b.call({r:n,f:h.target},h.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}Fe(["click","submit"]),document.addEventListener("click",u),r&&(document.addEventListener("mousemove",f,{passive:!0}),document.addEventListener("focusin",p,{passive:!0}),document.addEventListener("touchstart",p,{passive:!0})),document.addEventListener("submit",g),oe(()=>{document.removeEventListener("click",u),r&&(document.removeEventListener("mousemove",f),document.removeEventListener("focusin",p),document.removeEventListener("touchstart",p)),document.removeEventListener("submit",g)})}}function $s(r){if(dr)return As(r);const e=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,n=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:n}},t=fr();return ks({get:e,set({value:s,replace:n,scroll:a,state:o}){n?window.history.replaceState(rs(o),"",s):window.history.pushState(o,"",s),Ps(decodeURIComponent(window.location.hash.slice(1)),a),Pt()},init:s=>_s(window,"popstate",ss(s,n=>{if(n&&n<0)return!t.confirm(n);{const a=e();return!t.confirm(a.value,{state:a.state})}})),create:Es(r.preload,r.explicitLinks,r.actionBase,r.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:t}})(r)}var lt={},qe={},je={exports:{}},Rs=je.exports,Bt;function Fs(){return Bt||(Bt=1,function(r,e){(function(t,s){r.exports=s()})(Rs,function(){return function(t){var s={};function n(a){if(s[a])return s[a].exports;var o=s[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=s,n.d=function(a,o,c){n.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:c})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,o){if(1&o&&(a=n(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var d in a)n.d(c,d,function(i){return a[i]}.bind(null,d));return c},n.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(o,"a",o),o},n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},n.p="",n(n.s=90)}({17:function(t,s,n){s.__esModule=!0,s.default=void 0;var a=n(18),o=function(){function c(){}return c.getFirstMatch=function(d,i){var l=i.match(d);return l&&l.length>0&&l[1]||""},c.getSecondMatch=function(d,i){var l=i.match(d);return l&&l.length>1&&l[2]||""},c.matchAndReturnConst=function(d,i,l){if(d.test(i))return l},c.getWindowsVersionName=function(d){switch(d){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},c.getMacOSVersionName=function(d){var i=d.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(i.push(0),i[0]===10)switch(i[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},c.getAndroidVersionName=function(d){var i=d.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(i.push(0),!(i[0]===1&&i[1]<5))return i[0]===1&&i[1]<6?"Cupcake":i[0]===1&&i[1]>=6?"Donut":i[0]===2&&i[1]<2?"Eclair":i[0]===2&&i[1]===2?"Froyo":i[0]===2&&i[1]>2?"Gingerbread":i[0]===3?"Honeycomb":i[0]===4&&i[1]<1?"Ice Cream Sandwich":i[0]===4&&i[1]<4?"Jelly Bean":i[0]===4&&i[1]>=4?"KitKat":i[0]===5?"Lollipop":i[0]===6?"Marshmallow":i[0]===7?"Nougat":i[0]===8?"Oreo":i[0]===9?"Pie":void 0},c.getVersionPrecision=function(d){return d.split(".").length},c.compareVersions=function(d,i,l){l===void 0&&(l=!1);var u=c.getVersionPrecision(d),p=c.getVersionPrecision(i),f=Math.max(u,p),g=0,h=c.map([d,i],function(w){var b=f-c.getVersionPrecision(w),y=w+new Array(b+1).join(".0");return c.map(y.split("."),function(O){return new Array(20-O.length).join("0")+O}).reverse()});for(l&&(g=f-Math.min(u,p)),f-=1;f>=g;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===g)return 0;f-=1}else if(h[0][f]<h[1][f])return-1}},c.map=function(d,i){var l,u=[];if(Array.prototype.map)return Array.prototype.map.call(d,i);for(l=0;l<d.length;l+=1)u.push(i(d[l]));return u},c.find=function(d,i){var l,u;if(Array.prototype.find)return Array.prototype.find.call(d,i);for(l=0,u=d.length;l<u;l+=1){var p=d[l];if(i(p,l))return p}},c.assign=function(d){for(var i,l,u=d,p=arguments.length,f=new Array(p>1?p-1:0),g=1;g<p;g++)f[g-1]=arguments[g];if(Object.assign)return Object.assign.apply(Object,[d].concat(f));var h=function(){var w=f[i];typeof w=="object"&&w!==null&&Object.keys(w).forEach(function(b){u[b]=w[b]})};for(i=0,l=f.length;i<l;i+=1)h();return d},c.getBrowserAlias=function(d){return a.BROWSER_ALIASES_MAP[d]},c.getBrowserTypeByAlias=function(d){return a.BROWSER_MAP[d]||""},c}();s.default=o,t.exports=s.default},18:function(t,s,n){s.__esModule=!0,s.ENGINE_MAP=s.OS_MAP=s.PLATFORMS_MAP=s.BROWSER_MAP=s.BROWSER_ALIASES_MAP=void 0,s.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},s.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},s.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},s.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},s.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,s,n){s.__esModule=!0,s.default=void 0;var a,o=(a=n(91))&&a.__esModule?a:{default:a},c=n(18);function d(l,u){for(var p=0;p<u.length;p++){var f=u[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}var i=function(){function l(){}var u,p,f;return l.getParser=function(g,h){if(h===void 0&&(h=!1),typeof g!="string")throw new Error("UserAgent should be a string");return new o.default(g,h)},l.parse=function(g){return new o.default(g).getResult()},u=l,f=[{key:"BROWSER_MAP",get:function(){return c.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return c.ENGINE_MAP}},{key:"OS_MAP",get:function(){return c.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return c.PLATFORMS_MAP}}],(p=null)&&d(u.prototype,p),f&&d(u,f),l}();s.default=i,t.exports=s.default},91:function(t,s,n){s.__esModule=!0,s.default=void 0;var a=l(n(92)),o=l(n(93)),c=l(n(94)),d=l(n(95)),i=l(n(17));function l(p){return p&&p.__esModule?p:{default:p}}var u=function(){function p(g,h){if(h===void 0&&(h=!1),g==null||g==="")throw new Error("UserAgent parameter can't be empty");this._ua=g,this.parsedResult={},h!==!0&&this.parse()}var f=p.prototype;return f.getUA=function(){return this._ua},f.test=function(g){return g.test(this._ua)},f.parseBrowser=function(){var g=this;this.parsedResult.browser={};var h=i.default.find(a.default,function(w){if(typeof w.test=="function")return w.test(g);if(w.test instanceof Array)return w.test.some(function(b){return g.test(b)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.browser=h.describe(this.getUA())),this.parsedResult.browser},f.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},f.getBrowserName=function(g){return g?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},f.getBrowserVersion=function(){return this.getBrowser().version},f.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},f.parseOS=function(){var g=this;this.parsedResult.os={};var h=i.default.find(o.default,function(w){if(typeof w.test=="function")return w.test(g);if(w.test instanceof Array)return w.test.some(function(b){return g.test(b)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.os=h.describe(this.getUA())),this.parsedResult.os},f.getOSName=function(g){var h=this.getOS().name;return g?String(h).toLowerCase()||"":h||""},f.getOSVersion=function(){return this.getOS().version},f.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},f.getPlatformType=function(g){g===void 0&&(g=!1);var h=this.getPlatform().type;return g?String(h).toLowerCase()||"":h||""},f.parsePlatform=function(){var g=this;this.parsedResult.platform={};var h=i.default.find(c.default,function(w){if(typeof w.test=="function")return w.test(g);if(w.test instanceof Array)return w.test.some(function(b){return g.test(b)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.platform=h.describe(this.getUA())),this.parsedResult.platform},f.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},f.getEngineName=function(g){return g?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},f.parseEngine=function(){var g=this;this.parsedResult.engine={};var h=i.default.find(d.default,function(w){if(typeof w.test=="function")return w.test(g);if(w.test instanceof Array)return w.test.some(function(b){return g.test(b)});throw new Error("Browser's test function is not valid")});return h&&(this.parsedResult.engine=h.describe(this.getUA())),this.parsedResult.engine},f.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},f.getResult=function(){return i.default.assign({},this.parsedResult)},f.satisfies=function(g){var h=this,w={},b=0,y={},O=0;if(Object.keys(g).forEach(function(Q){var ce=g[Q];typeof ce=="string"?(y[Q]=ce,O+=1):typeof ce=="object"&&(w[Q]=ce,b+=1)}),b>0){var T=Object.keys(w),U=i.default.find(T,function(Q){return h.isOS(Q)});if(U){var E=this.satisfies(w[U]);if(E!==void 0)return E}var B=i.default.find(T,function(Q){return h.isPlatform(Q)});if(B){var V=this.satisfies(w[B]);if(V!==void 0)return V}}if(O>0){var L=Object.keys(y),Oe=i.default.find(L,function(Q){return h.isBrowser(Q,!0)});if(Oe!==void 0)return this.compareVersion(y[Oe])}},f.isBrowser=function(g,h){h===void 0&&(h=!1);var w=this.getBrowserName().toLowerCase(),b=g.toLowerCase(),y=i.default.getBrowserTypeByAlias(b);return h&&y&&(b=y.toLowerCase()),b===w},f.compareVersion=function(g){var h=[0],w=g,b=!1,y=this.getBrowserVersion();if(typeof y=="string")return g[0]===">"||g[0]==="<"?(w=g.substr(1),g[1]==="="?(b=!0,w=g.substr(2)):h=[],g[0]===">"?h.push(1):h.push(-1)):g[0]==="="?w=g.substr(1):g[0]==="~"&&(b=!0,w=g.substr(1)),h.indexOf(i.default.compareVersions(y,w,b))>-1},f.isOS=function(g){return this.getOSName(!0)===String(g).toLowerCase()},f.isPlatform=function(g){return this.getPlatformType(!0)===String(g).toLowerCase()},f.isEngine=function(g){return this.getEngineName(!0)===String(g).toLowerCase()},f.is=function(g,h){return h===void 0&&(h=!1),this.isBrowser(g,h)||this.isOS(g)||this.isPlatform(g)},f.some=function(g){var h=this;return g===void 0&&(g=[]),g.some(function(w){return h.is(w)})},p}();s.default=u,t.exports=s.default},92:function(t,s,n){s.__esModule=!0,s.default=void 0;var a,o=(a=n(17))&&a.__esModule?a:{default:a},c=/version\/(\d+(\.?_?\d+)+)/i,d=[{test:[/googlebot/i],describe:function(i){var l={name:"Googlebot"},u=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/opera/i],describe:function(i){var l={name:"Opera"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/opr\/|opios/i],describe:function(i){var l={name:"Opera"},u=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/SamsungBrowser/i],describe:function(i){var l={name:"Samsung Internet for Android"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/Whale/i],describe:function(i){var l={name:"NAVER Whale Browser"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/MZBrowser/i],describe:function(i){var l={name:"MZ Browser"},u=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/focus/i],describe:function(i){var l={name:"Focus"},u=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/swing/i],describe:function(i){var l={name:"Swing"},u=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/coast/i],describe:function(i){var l={name:"Opera Coast"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(i){var l={name:"Opera Touch"},u=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/yabrowser/i],describe:function(i){var l={name:"Yandex Browser"},u=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/ucbrowser/i],describe:function(i){var l={name:"UC Browser"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/Maxthon|mxios/i],describe:function(i){var l={name:"Maxthon"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/epiphany/i],describe:function(i){var l={name:"Epiphany"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/puffin/i],describe:function(i){var l={name:"Puffin"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/sleipnir/i],describe:function(i){var l={name:"Sleipnir"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/k-meleon/i],describe:function(i){var l={name:"K-Meleon"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/micromessenger/i],describe:function(i){var l={name:"WeChat"},u=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/qqbrowser/i],describe:function(i){var l={name:/qqbrowserlite/i.test(i)?"QQ Browser Lite":"QQ Browser"},u=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/msie|trident/i],describe:function(i){var l={name:"Internet Explorer"},u=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/\sedg\//i],describe:function(i){var l={name:"Microsoft Edge"},u=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/edg([ea]|ios)/i],describe:function(i){var l={name:"Microsoft Edge"},u=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/vivaldi/i],describe:function(i){var l={name:"Vivaldi"},u=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/seamonkey/i],describe:function(i){var l={name:"SeaMonkey"},u=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/sailfish/i],describe:function(i){var l={name:"Sailfish"},u=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,i);return u&&(l.version=u),l}},{test:[/silk/i],describe:function(i){var l={name:"Amazon Silk"},u=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/phantom/i],describe:function(i){var l={name:"PhantomJS"},u=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/slimerjs/i],describe:function(i){var l={name:"SlimerJS"},u=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(i){var l={name:"BlackBerry"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/(web|hpw)[o0]s/i],describe:function(i){var l={name:"WebOS Browser"},u=o.default.getFirstMatch(c,i)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/bada/i],describe:function(i){var l={name:"Bada"},u=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/tizen/i],describe:function(i){var l={name:"Tizen"},u=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/qupzilla/i],describe:function(i){var l={name:"QupZilla"},u=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(i){var l={name:"Firefox"},u=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/electron/i],describe:function(i){var l={name:"Electron"},u=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/MiuiBrowser/i],describe:function(i){var l={name:"Miui"},u=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/chromium/i],describe:function(i){var l={name:"Chromium"},u=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,i)||o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/chrome|crios|crmo/i],describe:function(i){var l={name:"Chrome"},u=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/GSA/i],describe:function(i){var l={name:"Google Search"},u=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){var l=!i.test(/like android/i),u=i.test(/android/i);return l&&u},describe:function(i){var l={name:"Android Browser"},u=o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/playstation 4/i],describe:function(i){var l={name:"PlayStation 4"},u=o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/safari|applewebkit/i],describe:function(i){var l={name:"Safari"},u=o.default.getFirstMatch(c,i);return u&&(l.version=u),l}},{test:[/.*/i],describe:function(i){var l=i.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(l,i),version:o.default.getSecondMatch(l,i)}}}];s.default=d,t.exports=s.default},93:function(t,s,n){s.__esModule=!0,s.default=void 0;var a,o=(a=n(17))&&a.__esModule?a:{default:a},c=n(18),d=[{test:[/Roku\/DVP/],describe:function(i){var l=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,i);return{name:c.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(i){var l=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,i);return{name:c.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(i){var l=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,i),u=o.default.getWindowsVersionName(l);return{name:c.OS_MAP.Windows,version:l,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(i){var l={name:c.OS_MAP.iOS},u=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,i);return u&&(l.version=u),l}},{test:[/macintosh/i],describe:function(i){var l=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,i).replace(/[_\s]/g,"."),u=o.default.getMacOSVersionName(l),p={name:c.OS_MAP.MacOS,version:l};return u&&(p.versionName=u),p}},{test:[/(ipod|iphone|ipad)/i],describe:function(i){var l=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,i).replace(/[_\s]/g,".");return{name:c.OS_MAP.iOS,version:l}}},{test:function(i){var l=!i.test(/like android/i),u=i.test(/android/i);return l&&u},describe:function(i){var l=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,i),u=o.default.getAndroidVersionName(l),p={name:c.OS_MAP.Android,version:l};return u&&(p.versionName=u),p}},{test:[/(web|hpw)[o0]s/i],describe:function(i){var l=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,i),u={name:c.OS_MAP.WebOS};return l&&l.length&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(i){var l=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,i)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,i)||o.default.getFirstMatch(/\bbb(\d+)/i,i);return{name:c.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(i){var l=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,i);return{name:c.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(i){var l=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,i);return{name:c.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:c.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:c.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(i){var l=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,i);return{name:c.OS_MAP.PlayStation4,version:l}}}];s.default=d,t.exports=s.default},94:function(t,s,n){s.__esModule=!0,s.default=void 0;var a,o=(a=n(17))&&a.__esModule?a:{default:a},c=n(18),d=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(i){var l=o.default.getFirstMatch(/(can-l01)/i,i)&&"Nova",u={type:c.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(u.model=l),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(i){var l=i.test(/ipod|iphone/i),u=i.test(/like (ipod|iphone)/i);return l&&!u},describe:function(i){var l=o.default.getFirstMatch(/(ipod|iphone)/i,i);return{type:c.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getBrowserName(!0)==="blackberry"},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(i){return i.getBrowserName(!0)==="bada"},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getBrowserName()==="windows phone"},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(i){var l=Number(String(i.getOSVersion()).split(".")[0]);return i.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(i){return i.getOSName(!0)==="android"},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getOSName(!0)==="macos"},describe:function(){return{type:c.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(i){return i.getOSName(!0)==="windows"},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(i){return i.getOSName(!0)==="linux"},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(i){return i.getOSName(!0)==="playstation 4"},describe:function(){return{type:c.PLATFORMS_MAP.tv}}},{test:function(i){return i.getOSName(!0)==="roku"},describe:function(){return{type:c.PLATFORMS_MAP.tv}}}];s.default=d,t.exports=s.default},95:function(t,s,n){s.__esModule=!0,s.default=void 0;var a,o=(a=n(17))&&a.__esModule?a:{default:a},c=n(18),d=[{test:function(i){return i.getBrowserName(!0)==="microsoft edge"},describe:function(i){if(/\sedg\//i.test(i))return{name:c.ENGINE_MAP.Blink};var l=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,i);return{name:c.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(i){var l={name:c.ENGINE_MAP.Trident},u=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){return i.test(/presto/i)},describe:function(i){var l={name:c.ENGINE_MAP.Presto},u=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){var l=i.test(/gecko/i),u=i.test(/like gecko/i);return l&&!u},describe:function(i){var l={name:c.ENGINE_MAP.Gecko},u=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:c.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(i){var l={name:c.ENGINE_MAP.WebKit},u=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}}];s.default=d,t.exports=s.default}})})}(je)),je.exports}var Lt;function Os(){return Lt||(Lt=1,function(r){var e=qe.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.requestVideoPermissions=r.requestAudioPermissions=r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;const t=e(Fs());var s;(function(c){c.SystemPermissionDenied="SystemPermissionDenied",c.UserPermissionDenied="UserPermissionDenied",c.CouldNotStartVideoSource="CouldNotStartVideoSource",c.Generic="Generic"})(s=r.MediaPermissionsErrorType||(r.MediaPermissionsErrorType={}));const n=c=>new Promise((d,i)=>{navigator.mediaDevices.getUserMedia(c??{audio:!0,video:!0}).then(l=>{l.getTracks().forEach(u=>{u.stop()}),d(!0)}).catch(l=>{const p=t.default.getParser(window.navigator.userAgent).getBrowserName(),f=l.name,g=l.message;let h=s.Generic;p==="Chrome"?f==="NotAllowedError"?g==="Permission denied by system"?h=s.SystemPermissionDenied:g==="Permission denied"&&(h=s.UserPermissionDenied):f==="NotReadableError"&&(h=s.CouldNotStartVideoSource):p==="Safari"?f==="NotAllowedError"&&(h=s.UserPermissionDenied):p==="Microsoft Edge"?f==="NotAllowedError"?h=s.UserPermissionDenied:f==="NotReadableError"&&(h=s.CouldNotStartVideoSource):p==="Firefox"&&(f==="NotFoundError"||f==="NotReadableError"?h=s.SystemPermissionDenied:f==="NotAllowedError"?h=s.UserPermissionDenied:f==="AbortError"&&(h=s.CouldNotStartVideoSource)),i({type:h,name:l.name,message:l.message})})});r.requestMediaPermissions=n;const a=()=>(0,r.requestMediaPermissions)({audio:!0,video:!1});r.requestAudioPermissions=a;const o=()=>(0,r.requestMediaPermissions)({audio:!1,video:!0});r.requestVideoPermissions=o}(qe)),qe}var qt;function Ts(){return qt||(qt=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;var e=Os();Object.defineProperty(r,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return e.MediaPermissionsErrorType}}),Object.defineProperty(r,"requestMediaPermissions",{enumerable:!0,get:function(){return e.requestMediaPermissions}})}(lt)),lt}var fe=Ts(),Bs=(r,e)=>{if(e)for(const[t,s]of Object.entries(e))r=r.replace(new RegExp(`{{\\s*${t}\\s*}}`,"g"),s);return r},Ls=M("<br>");const qs={common:{close:"Close",offline:"You appear to be offline, please check your network connection",unhandledError:{title:"Something went wrong.",details:"Details",explainer:["The application has encountered an unhandled error, please try again.","If this problem persists, please file a bug report, using the details below.","Closing this message will restart the application."]}},spotify:{title:"Spotify",explainer:[["Please connect to Spotify. ",Ls(),"We need you to log into Spotify to be able to play music in the browser."],"For Spotify to allow this app to play music, your account needs to be a premium subscription."],signingIn:"Signing in...",signIn:"Sign in to Spotify",signOut:"Sign out",errors:{access_denied:"Access denied, please try again!",unknown:"Something went wrong, please try again!"},stats:{country:"Country",followers:"Followers",premium:"Premium"},details:{hasPremium:"Spotify premium user.",noPremium:"User doesn't have premium account!"}},camera:{title:"Camera",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Environment
camera`,unknown:"Camera",loading:""},openingCam:"Connecting...",explainer:["To be able to scan the codes, we need access to your device's camera.","Please, give your browser permission to access the camera."],noSupport:["Your device likely doesn't have a camera, or your system doesn't allow your browser to access the camera.","Sadly, you cannot use the app."],noPermission:["Your browser doesn't have the correct permissions, possibly you denied the use of the camera.","To use this application, you need to "],selectedCamera:'You selected "{{label}}" to scan the codes.',switchBanner:"When using the app, you can change the camera at any time.",requestPermission:"Request permission",requestingPermission:"Requesting permission...",permissions:{title:"Reset browser permissions",permissionLink:"reset your browser permissions",deviceDetails:"Device details",explainer:"We couldn't find a page for your browser, please look in your settings to reset the browser permissions.",cta:["If you like, you can ","file a request"," to add your browser to our instructions."]}}};var Ns=M("<br>");const Is={common:{close:"Sluiten",offline:"U bent offline, controleer a.u.b. uw verbinding",unhandledError:{title:"Er is iets mis gegaan.",details:"Foutgegevens",explainer:["Er heeft zich een niet afgehandelde fout voorgedaan, probeer a.u.b. opniew.","Als dit probleem aan blijft houden, verzoeken wij u vriendelijk een bug rapport in te schieten met de onderstaande gegevens.","Het sluiten van dit bericht zal de applicatie herstarten."]}},spotify:{title:"Spotify",explainer:[["Wilt u a.u.b met Spotify verbinden? ",Ns(),"U moet ingelogd zijn bij Spotify om muziek in de browser te kunnen spelen."],"Spotify vereist een premuim account voor muziek in de browser."],signingIn:"Inloggen...",signIn:"Log in bij Spotify",signOut:"Uitloggen",errors:{access_denied:"Toegang geweigerd, probeer opnieuw!",unknown:"Er ging iets mis, probeer opnieuw!"},stats:{country:"Land",followers:"Volgers",premium:"Premium"},details:{hasPremium:"Spotify premium gebruiker.",noPremium:"Gebruiker heeft geen premium account!"}},camera:{title:"Video camera",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Achterkant
camera`,unknown:"Camera",loading:""},openingCam:"Verbinden...",explainer:["Om de codes te kunnen scannen hebben wij toegang nodig tot uw camera.","Verleen uw browser a.u.b. toegang tot de camera."],noSupport:["Uw apparaat heeft mogelijk geen camera, of uw besturingssysteem staat het gebruik hiervan niet toe.","Helaas kunt u deze applicatie niet gebruiken."],noPermission:["Uw browser geeft geen toestemming tot het gebruik van de camera. Mogelijk heeft u de toestemming geweigerd.","Om gebruik te kunnen maken van de camera moet u "],selectedCamera:'U heeft "{{label}}" geselecteerd voor het scannen.',switchBanner:"U kunt dit later altijd nog veranderen.",requestPermission:"Vraag toestemming",requestingPermission:"Toestemming vragen...",permissions:{title:"Browser toestemming herstellen",deviceDetails:"Apparaat details",permissionLink:"uw browser toestemming herstellen",explainer:"Wij konden geen uitleg vinden voor jouw browser, probeer a.u.b. in uw instellingen te zoeken hoe u de camera toestemming kunt herstellen.",cta:["Wilt u a.u.b. ook ","een verzoek indienen"," om uw eigen browser toe te voegen aan onze instructies?"]}}},Qe={en:qs,nl:Is},Ze=()=>localStorage.getItem("stored-locale"),Mr=r=>localStorage.setItem("stored-locale",r),Us=r=>{const e=r&&Object.keys(Qe).includes(r)?r:"en";return Qe[e]},[ut,Vs]=R(Ze()??"en");function js(){const r=hs(),e=r.locale&&Object.keys(Qe).includes(r.locale)?r.locale:void 0;Vs(e??Ze()??"en"),e&&Mr(e)}const j=()=>{try{X(js)}catch(e){console.error(console.trace(),e)}const r=S(()=>Qe[ut()],[ds,ut]);return{locale:ut,dictionary:r,template:Bs}},zs={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},kr={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},$={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},I={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Z={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class m{static getFirstMatch(e,t){const s=t.match(e);return s&&s.length>0&&s[1]||""}static getSecondMatch(e,t){const s=t.match(e);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(e,t,s){if(e.test(t))return s}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,s=!1){const n=m.getVersionPrecision(e),a=m.getVersionPrecision(t);let o=Math.max(n,a),c=0;const d=m.map([e,t],i=>{const l=o-m.getVersionPrecision(i),u=i+new Array(l+1).join(".0");return m.map(u.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(s&&(c=o-Math.min(n,a)),o-=1;o>=c;){if(d[0][o]>d[1][o])return 1;if(d[0][o]===d[1][o]){if(o===c)return 0;o-=1}else if(d[0][o]<d[1][o])return-1}}static map(e,t){const s=[];let n;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)s.push(t(e[n]));return s}static find(e,t){let s,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(s=0,n=e.length;s<n;s+=1){const a=e[s];if(t(a,s))return a}}static assign(e,...t){const s=e;let n,a;if(Object.assign)return Object.assign(e,...t);for(n=0,a=t.length;n<a;n+=1){const o=t[n];typeof o=="object"&&o!==null&&Object.keys(o).forEach(d=>{s[d]=o[d]})}return e}static getBrowserAlias(e){return zs[e]}static getBrowserTypeByAlias(e){return kr[e]||""}}const x=/version\/(\d+(\.?_?\d+)+)/i,Ds=[{test:[/googlebot/i],describe(r){const e={name:"Googlebot"},t=m.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/opera/i],describe(r){const e={name:"Opera"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(r){const e={name:"Opera"},t=m.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(r){const e={name:"Samsung Internet for Android"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Whale/i],describe(r){const e={name:"NAVER Whale Browser"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(r){const e={name:"MZ Browser"},t=m.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/focus/i],describe(r){const e={name:"Focus"},t=m.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/swing/i],describe(r){const e={name:"Swing"},t=m.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/coast/i],describe(r){const e={name:"Opera Coast"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const e={name:"Opera Touch"},t=m.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(r){const e={name:"Yandex Browser"},t=m.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(r){const e={name:"UC Browser"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(r){const e={name:"Maxthon"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(r){const e={name:"Epiphany"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/puffin/i],describe(r){const e={name:"Puffin"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(r){const e={name:"Sleipnir"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(r){const e={name:"K-Meleon"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(r){const e={name:"WeChat"},t=m.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(r){const e={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},t=m.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(r){const e={name:"Internet Explorer"},t=m.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(r){const e={name:"Microsoft Edge"},t=m.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(r){const e={name:"Microsoft Edge"},t=m.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(r){const e={name:"Vivaldi"},t=m.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(r){const e={name:"SeaMonkey"},t=m.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(r){const e={name:"Sailfish"},t=m.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return t&&(e.version=t),e}},{test:[/silk/i],describe(r){const e={name:"Amazon Silk"},t=m.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/phantom/i],describe(r){const e={name:"PhantomJS"},t=m.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(r){const e={name:"SlimerJS"},t=m.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e={name:"BlackBerry"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(r){const e={name:"WebOS Browser"},t=m.getFirstMatch(x,r)||m.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/bada/i],describe(r){const e={name:"Bada"},t=m.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/tizen/i],describe(r){const e={name:"Tizen"},t=m.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(r){const e={name:"QupZilla"},t=m.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(r){const e={name:"Firefox"},t=m.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/electron/i],describe(r){const e={name:"Electron"},t=m.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(r){const e={name:"Miui"},t=m.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/chromium/i],describe(r){const e={name:"Chromium"},t=m.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(r){const e={name:"Chrome"},t=m.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/GSA/i],describe(r){const e={name:"Google Search"},t=m.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e={name:"Android Browser"},t=m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(r){const e={name:"PlayStation 4"},t=m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(r){const e={name:"Safari"},t=m.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/.*/i],describe(r){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,n=r.search("\\(")!==-1?t:e;return{name:m.getFirstMatch(n,r),version:m.getSecondMatch(n,r)}}}],Ws=[{test:[/Roku\/DVP/],describe(r){const e=m.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:I.Roku,version:e}}},{test:[/windows phone/i],describe(r){const e=m.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:I.WindowsPhone,version:e}}},{test:[/windows /i],describe(r){const e=m.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),t=m.getWindowsVersionName(e);return{name:I.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const e={name:I.iOS},t=m.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(r){const e=m.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),t=m.getMacOSVersionName(e),s={name:I.MacOS,version:e};return t&&(s.versionName=t),s}},{test:[/(ipod|iphone|ipad)/i],describe(r){const e=m.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:I.iOS,version:e}}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e=m.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),t=m.getAndroidVersionName(e),s={name:I.Android,version:e};return t&&(s.versionName=t),s}},{test:[/(web|hpw)[o0]s/i],describe(r){const e=m.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),t={name:I.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e=m.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||m.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||m.getFirstMatch(/\bbb(\d+)/i,r);return{name:I.BlackBerry,version:e}}},{test:[/bada/i],describe(r){const e=m.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:I.Bada,version:e}}},{test:[/tizen/i],describe(r){const e=m.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:I.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:I.Linux}}},{test:[/CrOS/],describe(){return{name:I.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const e=m.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:I.PlayStation4,version:e}}}],Gs=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const e=m.getFirstMatch(/(can-l01)/i,r)&&"Nova",t={type:$.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:$.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:$.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:$.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:$.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:$.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:$.tablet}}},{test(r){const e=r.test(/ipod|iphone/i),t=r.test(/like (ipod|iphone)/i);return e&&!t},describe(r){const e=m.getFirstMatch(/(ipod|iphone)/i,r);return{type:$.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:$.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:$.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:$.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:$.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:$.mobile,vendor:"Microsoft"}}},{test(r){const e=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&e>=3},describe(){return{type:$.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:$.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:$.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:$.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:$.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:$.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:$.tv}}}],Hs=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:Z.Blink};const t=m.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:Z.EdgeHTML,version:t}}},{test:[/trident/i],describe(r){const e={name:Z.Trident},t=m.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){return r.test(/presto/i)},describe(r){const e={name:Z.Presto},t=m.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=r.test(/gecko/i),t=r.test(/like gecko/i);return e&&!t},describe(r){const e={name:Z.Gecko},t=m.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Z.Blink}}},{test:[/(apple)?webkit/i],describe(r){const e={name:Z.WebKit},t=m.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}}];class Nt{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=m.find(Ds,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=m.find(Ws,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=m.find(Gs,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=m.find(Hs,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return m.assign({},this.parsedResult)}satisfies(e){const t={};let s=0;const n={};let a=0;if(Object.keys(e).forEach(c=>{const d=e[c];typeof d=="string"?(n[c]=d,a+=1):typeof d=="object"&&(t[c]=d,s+=1)}),s>0){const c=Object.keys(t),d=m.find(c,l=>this.isOS(l));if(d){const l=this.satisfies(t[d]);if(l!==void 0)return l}const i=m.find(c,l=>this.isPlatform(l));if(i){const l=this.satisfies(t[i]);if(l!==void 0)return l}}if(a>0){const c=Object.keys(n),d=m.find(c,i=>this.isBrowser(i,!0));if(d!==void 0)return this.compareVersion(n[d])}}isBrowser(e,t=!1){const s=this.getBrowserName().toLowerCase();let n=e.toLowerCase();const a=m.getBrowserTypeByAlias(n);return t&&a&&(n=a.toLowerCase()),n===s}compareVersion(e){let t=[0],s=e,n=!1;const a=this.getBrowserVersion();if(typeof a=="string")return e[0]===">"||e[0]==="<"?(s=e.substr(1),e[1]==="="?(n=!0,s=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?s=e.substr(1):e[0]==="~"&&(n=!0,s=e.substr(1)),t.indexOf(m.compareVersions(a,s,n))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}class Ks{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Nt(e,t)}static parse(e){return new Nt(e).getResult()}static get BROWSER_MAP(){return kr}static get ENGINE_MAP(){return Z}static get OS_MAP(){return I}static get PLATFORMS_MAP(){return $}}let Ne;const At=()=>Ne||(Ne=Ks.parse(window.navigator.userAgent),Ne),Qs=r=>(r.stack??=new Error().stack,r),ne=async r=>{try{return await r()}catch(e){throw Qs(e instanceof Error?e:new Error(e?.toString()))}};function _r(r){return{...It,video:{...It.video,deviceId:{exact:r}}}}const It={audio:!1,video:{facingMode:{ideal:"environment"},frameRate:{ideal:60,min:30},sampleRate:{ideal:60,min:30}}},[Js,Ys]=R([]);async function Ct(){if(navigator.mediaDevices?.enumerateDevices)try{const e=(await ne(()=>navigator.mediaDevices?.enumerateDevices())).filter(t=>t.kind==="videoinput");Ys(e)}catch(r){if(r.message.includes("Illegal invocation"))return;throw r}}function Xs(){if(!("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices)){D("error:nosupport");return}navigator.permissions.query({name:"camera"}).then(e=>{e.state==="granted"&&D("granted"),e.state==="denied"&&D("denied")}).catch(e=>{console.error(e)}).finally(async()=>Ct())}const[he,D]=R("unknown");Xs();const[Pr,wt]=R();async function xr(){const r=Pr();if(!r)return;const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:r}});if(e.active){e.getTracks().forEach(t=>{t.readyState!=="ended"&&(t.stop(),t.enabled=!1)});try{e.stop&&e.stop()}catch{}wt(void 0)}}const Zs=we({permission:he,hasPermission:()=>he()==="granted",canPrompt:()=>he()==="unknown"||he()==="error:inuse",hasMediaSupport:()=>he()!=="error:nosupport",getCamera:tn,stopCameraStream:xr,requestPermission:en,devices:Js}),ae=()=>ve(Zs);async function en(){D("pending");const r=localStorage.getItem("camera")??void 0;return await fe.requestMediaPermissions(_r(r)).then(async()=>(await Ct(),D("granted"))).catch(e=>Ar(e,r))}function Ar(r,e){const{type:t,message:s,name:n}=r;return t===fe.MediaPermissionsErrorType.SystemPermissionDenied?D("denied:system"):t===fe.MediaPermissionsErrorType.UserPermissionDenied?D("denied"):t===fe.MediaPermissionsErrorType.CouldNotStartVideoSource?D("error:inuse"):t===fe.MediaPermissionsErrorType.Generic&&s==="Permission dismissed"?D("unknown"):t===fe.MediaPermissionsErrorType.Generic&&n==="OverconstrainedError"&&s===""&&e?(D("denied:system"),localStorage.removeItem("camera"),window.location.reload(),D("denied:system")):(console.error(r),D("error"))}async function tn(r){if(he()!=="granted")throw new Error("Call 'requestPermission' before 'getStream'");const e=localStorage.getItem("camera")??void 0,t=r??e??void 0;Pr()!==t&&await xr();const s=await ne(()=>navigator.mediaDevices.getUserMedia(_r(t))).catch(a=>{if(a.name==="NotReadableError")return new MediaStream;if(Ar(a,e)==="error")throw a;return new MediaStream});if(await Ct(),!s.active){wt(void 0),D("error:inuse"),localStorage.setItem("camera",t),window.location.reload();const{dictionary:a}=j();return{id:t,label:"?",facing:"loading",name:a().camera.openingCam,stream:s}}const n=s.getTracks()[0].getSettings().deviceId;return wt(n),localStorage.setItem("camera",n),{id:n,name:s.getTracks()[0].label,label:s.getTracks()[0].label.split("(")[0].split(",")[0].trim(),facing:At().platform.type==="desktop"?"desktop":s.getTracks()[0].getSettings().facingMode,stream:s}}class F{api;constructor(e){this.api=e}async getRequest(e){return await this.api.makeRequest("GET",e)}async postRequest(e,t,s=void 0){return await this.api.makeRequest("POST",e,t,s)}async putRequest(e,t,s=void 0){return await this.api.makeRequest("PUT",e,t,s)}async deleteRequest(e,t){return await this.api.makeRequest("DELETE",e,t)}paramsFor(e){const t=new URLSearchParams;for(let s of Object.getOwnPropertyNames(e))(e[s]||e[s]===0||!e[s]&&typeof e[s]=="boolean")&&t.append(s,e[s].toString());return[...t].length>0?`?${t.toString()}`:""}}class rn extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return await this.getRequest(`albums/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`albums${s}`)).albums}tracks(e,t,s,n){const a=this.paramsFor({market:t,limit:s,offset:n});return this.getRequest(`albums/${e}/tracks${a}`)}}class sn extends F{async get(e){if(typeof e=="string")return this.getRequest(`artists/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`artists${t}`)).artists}albums(e,t,s,n,a){const o=this.paramsFor({include_groups:t,market:s,limit:n,offset:a});return this.getRequest(`artists/${e}/albums${o}`)}topTracks(e,t){const s=this.paramsFor({market:t});return this.getRequest(`artists/${e}/top-tracks${s}`)}relatedArtists(e){return this.getRequest(`artists/${e}/related-artists`)}}class nn extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`audiobooks/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`audiobooks${s}`)).audiobooks}getAudiobookChapters(e,t,s,n){const a=this.paramsFor({market:t,limit:s,offset:n});return this.getRequest(`audiobooks/${e}/chapters${a}`)}}class on extends F{getCategories(e,t,s,n){const a=this.paramsFor({country:e,locale:t,limit:s,offset:n});return this.getRequest(`browse/categories${a}`)}getCategory(e,t,s){const n=this.paramsFor({country:t,locale:s});return this.getRequest(`browse/categories/${e}${n}`)}getNewReleases(e,t,s){const n=this.paramsFor({country:e,limit:t,offset:s});return this.getRequest(`browse/new-releases${n}`)}getFeaturedPlaylists(e,t,s,n,a){const o=this.paramsFor({country:e,locale:t,timestamp:s,limit:n,offset:a});return this.getRequest(`browse/featured-playlists${o}`)}getPlaylistsForCategory(e,t,s,n){const a=this.paramsFor({country:t,limit:s,offset:n});return this.getRequest(`browse/categories/${e}/playlists${a}`)}}class an extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`chapters/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`chapters${s}`)).chapters}}class cn extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`episodes/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`episodes${s}`)).episodes}}class ln extends F{get(e){const t=this.paramsFor(e);return this.getRequest(`recommendations${t}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}}class un extends F{getAvailableMarkets(){return this.getRequest("markets")}}class dn extends F{getPlaybackState(e,t){const s=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player${s}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(e,t){const s=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player/currently-playing${s}`)}getRecentlyPlayedTracks(e,t){const s={limit:e};t&&(t.type==="before"?s.before=t.timestamp:t.type==="after"&&(s.after=t.timestamp));const n=this.paramsFor(s);return this.getRequest(`me/player/recently-played${n}`)}getUsersQueue(){return this.getRequest("me/player/queue")}async transferPlayback(e,t){if(e.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");await this.putRequest("me/player",{device_ids:e,play:t})}async startResumePlayback(e,t,s,n,a){const o=this.paramsFor({device_id:e});await this.putRequest(`me/player/play${o}`,{context_uri:t,uris:s,offset:n,positionMs:a})}async pausePlayback(e){const t=this.paramsFor({device_id:e});await this.putRequest(`me/player/pause${t}`)}async skipToNext(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/next${t}`)}async skipToPrevious(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/previous${t}`)}async seekToPosition(e,t){const s=this.paramsFor({position_ms:e,device_id:t});await this.putRequest(`me/player/seek${s}`)}async setRepeatMode(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/repeat${s}`)}async setPlaybackVolume(e,t){const s=this.paramsFor({volume_percent:e,device_id:t});await this.putRequest(`me/player/volume${s}`)}async togglePlaybackShuffle(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/shuffle${s}`)}async addItemToPlaybackQueue(e,t){const s=this.paramsFor({uri:e,device_id:t});await this.postRequest(`me/player/queue${s}`)}}class fn extends F{getPlaylist(e,t,s,n){const a=this.paramsFor({market:t,fields:s,additional_types:n?.join(",")});return this.getRequest(`playlists/${e}${a}`)}getPlaylistItems(e,t,s,n,a,o){const c=this.paramsFor({market:t,fields:s,limit:n,offset:a,additional_types:o?.join(",")});return this.getRequest(`playlists/${e}/tracks${c}`)}async changePlaylistDetails(e,t){await this.putRequest(`playlists/${e}`,t)}movePlaylistItems(e,t,s,n){return this.updatePlaylistItems(e,{range_start:t,range_length:s,insert_before:n})}updatePlaylistItems(e,t){return this.putRequest(`playlists/${e}/tracks`,t)}async addItemsToPlaylist(e,t,s){await this.postRequest(`playlists/${e}/tracks`,{position:s,uris:t})}async removeItemsFromPlaylist(e,t){await this.deleteRequest(`playlists/${e}/tracks`,t)}getUsersPlaylists(e,t,s){const n=this.paramsFor({limit:t,offset:s});return this.getRequest(`users/${e}/playlists${n}`)}createPlaylist(e,t){return this.postRequest(`users/${e}/playlists`,t)}getPlaylistCoverImage(e){return this.getRequest(`playlists/${e}/images`)}async addCustomPlaylistCoverImage(e,t){let s="";if(t instanceof Buffer)s=t.toString("base64");else if(t instanceof HTMLCanvasElement)s=t.toDataURL("image/jpeg").split(";base64,")[1];else if(t instanceof HTMLImageElement){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const a=n.getContext("2d");if(!a)throw new Error("Could not get canvas context");a.drawImage(t,0,0),s=n.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof t=="string")s=t;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");await this.addCustomPlaylistCoverImageFromBase64String(e,s)}async addCustomPlaylistCoverImageFromBase64String(e,t){await this.putRequest(`playlists/${e}/images`,t,"image/jpeg")}}class hn extends F{async execute(e,t,s,n,a,o){const c=this.paramsFor({q:e,type:t,market:s,limit:n,offset:a,include_external:o});return await this.getRequest(`search${c}`)}}class pn extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`shows/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`shows${s}`)).shows}episodes(e,t,s,n){const a=this.paramsFor({market:t,limit:s,offset:n});return this.getRequest(`shows/${e}/episodes${a}`)}}class mn extends F{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`tracks/${e}${a}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`tracks${s}`)).tracks}async audioFeatures(e){if(typeof e=="string")return this.getRequest(`audio-features/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`audio-features${t}`)).audio_features}audioAnalysis(e){return this.getRequest(`audio-analysis/${e}`)}}const Et={access_token:"emptyAccessToken",token_type:"",expires_in:0,refresh_token:"",expires:-1};function ye(r){return r===Et}class gn extends F{profile(e){return this.getRequest(`users/${e}`)}}class wn extends F{albums;audiobooks;episodes;playlists;shows;tracks;constructor(e){super(e),this.albums=new vn(e),this.audiobooks=new bn(e),this.episodes=new yn(e),this.playlists=new Sn(e),this.shows=new Mn(e),this.tracks=new kn(e)}profile(){return this.getRequest("me")}topItems(e,t,s,n){const a=this.paramsFor({time_range:t,limit:s,offset:n});return this.getRequest(`me/top/${e}${a}`)}followedArtists(e,t){const s=this.paramsFor({type:"artist",after:e,limit:t});return this.getRequest(`me/following${s}`)}async followArtistsOrUsers(e,t){const s=this.paramsFor({type:t});await this.putRequest(`me/following${s}`,{ids:e})}async unfollowArtistsOrUsers(e,t){const s=this.paramsFor({type:t});await this.deleteRequest(`me/following${s}`,{ids:e})}followsArtistsOrUsers(e,t){const s=this.paramsFor({ids:e,type:t});return this.getRequest(`me/following/contains${s}`)}}class vn extends F{savedAlbums(e,t,s){const n=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/albums${n}`)}async saveAlbums(e){await this.putRequest("me/albums",e)}async removeSavedAlbums(e){await this.deleteRequest("me/albums",e)}hasSavedAlbums(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/albums/contains${t}`)}}class bn extends F{savedAudiobooks(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/audiobooks${s}`)}async saveAudiobooks(e){await this.putRequest("me/audiobooks",e)}async removeSavedAudiobooks(e){await this.deleteRequest("me/audiobooks",e)}hasSavedAudiobooks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/audiobooks/contains${t}`)}}class yn extends F{savedEpisodes(e,t,s){const n=this.paramsFor({market:e,limit:t,offset:s});return this.getRequest(`me/episodes${n}`)}async saveEpisodes(e){await this.putRequest("me/episodes",e)}async removeSavedEpisodes(e){await this.deleteRequest("me/episodes",e)}hasSavedEpisodes(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/episodes/contains${t}`)}}class Sn extends F{playlists(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/playlists${s}`)}async follow(e){await this.putRequest(`playlists/${e}/followers`)}async unfollow(e){await this.deleteRequest(`playlists/${e}/followers`)}isFollowing(e,t){const s=this.paramsFor({ids:t});return this.getRequest(`playlists/${e}/followers/contains${s}`)}}class Mn extends F{savedShows(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/shows${s}`)}saveShows(e){const t=this.paramsFor({ids:e});return this.putRequest(`me/shows${t}`)}removeSavedShows(e,t){const s=this.paramsFor({ids:e,market:t});return this.deleteRequest(`me/shows${s}`)}hasSavedShow(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/shows/contains${t}`)}}class kn extends F{savedTracks(e,t,s){const n=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/tracks${n}`)}async saveTracks(e){await this.putRequest("me/tracks",e)}async removeSavedTracks(e){await this.deleteRequest("me/tracks",e)}hasSavedTracks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/tracks/contains${t}`)}}class _n{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}class G{static async refreshCachedAccessToken(e,t){const s=await G.refreshToken(e,t.refresh_token);return G.toCachable(s)}static toCachable(e){return e.expires&&e.expires===-1?e:{...e,expires:this.calculateExpiry(e)}}static calculateExpiry(e){return Date.now()+e.expires_in*1e3}static async refreshToken(e,t){const s=new URLSearchParams;s.append("client_id",e),s.append("grant_type","refresh_token"),s.append("refresh_token",t);const n=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),a=await n.text();if(!n.ok)throw new Error(`Failed to refresh token: ${n.statusText}, ${a}`);return JSON.parse(a)}static generateCodeVerifier(e){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<e;n++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}static async generateCodeChallenge(e){const t=new TextEncoder().encode(e),s=await _n.current.subtle.digest("SHA-256",t),n=[...new Uint8Array(s)];return(typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(String.fromCharCode.apply(null,n))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}class _e{clientId;clientSecret;scopes;static cacheKey="spotify-sdk:ClientCredentialsStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s=[]){this.clientId=e,this.clientSecret=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(_e.cacheKey,async()=>{const t=await this.getTokenFromApi();return G.toCachable(t)},async t=>{const s=await this.getTokenFromApi();return G.toCachable(s)})}async getAccessToken(){return await this.cache.get(_e.cacheKey)}removeAccessToken(){this.cache.remove(_e.cacheKey)}async getTokenFromApi(){const e={grant_type:"client_credentials",scope:this.scopes.join(" ")},t=Object.keys(e).map(d=>d+"="+e[d]).join("&"),s=typeof Buffer<"u",n=`${this.clientId}:${this.clientSecret}`,a=s?Buffer.from(n).toString("base64"):btoa(n),o=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:t});if(o.status!==200)throw new Error("Failed to get access token.");return await o.json()}}class Pe{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:ImplicitGrantStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s){this.clientId=e,this.redirectUri=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(Pe.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return G.toCachable(t)},async t=>G.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(Pe.cacheKey)}removeAccessToken(){this.cache.remove(Pe.cacheKey)}async redirectOrVerifyToken(){const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");if(t)return Promise.resolve({access_token:t,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var n=(this.scopes??[]).join(" ");const a=new URLSearchParams;a.append("client_id",this.clientId),a.append("response_type","token"),a.append("redirect_uri",this.redirectUri),a.append("scope",n);const o="https://accounts.spotify.com/authorize?"+a.toString();return this.configuration.redirectionStrategy.redirect(o),Et}}class me{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:AuthorizationCodeWithPKCEStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s){this.clientId=e,this.redirectUri=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(me.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return G.toCachable(t)},async t=>G.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(me.cacheKey)}removeAccessToken(){this.cache.remove(me.cacheKey)}async redirectOrVerifyToken(){const t=new URLSearchParams(window.location.search).get("code");if(t){const s=await this.verifyAndExchangeCode(t);return this.removeCodeFromUrl(),s}return this.redirectToSpotify(),Et}async redirectToSpotify(){const e=G.generateCodeVerifier(128),t=await G.generateCodeChallenge(e),s={verifier:e,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",s);const n=await this.generateRedirectUrlForUser(this.scopes,t);await this.configuration.redirectionStrategy.redirect(n)}async verifyAndExchangeCode(e){const s=(await this.cache.get("spotify-sdk:verifier"))?.verifier;if(!s)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return await this.configuration.redirectionStrategy.onReturnFromRedirect(),await this.exchangeCodeForToken(e,s)}removeCodeFromUrl(){const e=new URL(window.location.href);e.searchParams.delete("code");const t=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,t)}async generateRedirectUrlForUser(e,t){const s=e.join(" "),n=new URLSearchParams;return n.append("client_id",this.clientId),n.append("response_type","code"),n.append("redirect_uri",this.redirectUri),n.append("scope",s),n.append("code_challenge_method","S256"),n.append("code_challenge",t),`https://accounts.spotify.com/authorize?${n.toString()}`}async exchangeCodeForToken(e,t){const s=new URLSearchParams;s.append("client_id",this.clientId),s.append("grant_type","authorization_code"),s.append("code",e),s.append("redirect_uri",this.redirectUri),s.append("code_verifier",t);const n=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),a=await n.text();if(!n.ok)throw new Error(`Failed to exchange code for token: ${n.statusText}, ${a}`);return JSON.parse(a)}}class Pn{async deserialize(e){const t=await e.text();return t.length>0?JSON.parse(t):null}}class xn{async validateResponse(e){switch(e.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:const t=await e.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${t}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!e.status.toString().startsWith("20")){const s=await e.text();throw new Error(`Unrecognised response code: ${e.status} - ${e.statusText}. Body: ${s}`)}}}}class An{async handleErrors(e){return!1}}class Cn{async redirect(e){document.location=e.toString()}async onReturnFromRedirect(){}}class Cr{storage;updateFunctions;autoRenewInterval;autoRenewWindow;constructor(e,t=new Map,s=0,n=2*60*1e3){this.storage=e,this.updateFunctions=t,this.autoRenewInterval=s,this.autoRenewWindow=n,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}async getOrCreate(e,t,s){s&&this.updateFunctions.set(e,s);const n=await this.get(e);if(n)return n;const a=await t();if(!a)throw new Error("Could not create cache item");return ye(a)||this.setCacheItem(e,a),a}async get(e){let t=this.storage.get(e),s=t?JSON.parse(t):null;if(this.itemDueToExpire(s)&&this.updateFunctions.has(e)){const n=this.updateFunctions.get(e);await this.tryUpdateItem(e,s,n),t=this.storage.get(e),s=t?JSON.parse(t):null}return s?s.expires&&(s.expires===-1||s.expires<=Date.now())?(this.remove(e),null):(s.expiresOnAccess&&s.expiresOnAccess===!0&&this.remove(e),s):null}set(e,t,s){const n=Date.now()+s,a={...t,expires:n};this.setCacheItem(e,a)}setCacheItem(e,t){const s=JSON.stringify(t);this.storage.set(e,s)}remove(e){this.storage.remove(e)}itemDueToExpire(e){return!e||!e.expires?!1:e.expires-Date.now()<this.autoRenewWindow}async autoRenewRenewableItems(){this.updateFunctions.forEach(async(e,t)=>{const s=await this.get(t);s&&e&&this.itemDueToExpire(s)&&await this.tryUpdateItem(t,s,e)})}async tryUpdateItem(e,t,s){try{const n=await s(t);n&&this.setCacheItem(e,n)}catch(n){console.error(n)}}}class En extends Cr{constructor(){super(new $n)}}class $n{get(e){return localStorage.getItem(e)}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class Rn extends Cr{constructor(){super(new Fn)}}class Fn{cache=new Map;get(e){return this.cache.get(e)??null}set(e,t){this.cache.set(e,t)}remove(e){this.cache.delete(e)}}class On{clientId;accessToken;refreshTokenAction;constructor(e,t,s){this.clientId=e,this.accessToken=t,this.refreshTokenAction=s||G.refreshCachedAccessToken,this.accessToken.expires||(this.accessToken.expires=G.calculateExpiry(this.accessToken))}setConfiguration(e){}async getOrCreateAccessToken(){if(this.accessToken.expires&&this.accessToken.expires<=Date.now()){const e=await this.refreshTokenAction(this.clientId,this.accessToken);this.accessToken=e}return this.accessToken}async getAccessToken(){return this.accessToken}removeAccessToken(){this.accessToken={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0}}}class ee{sdkConfig;static rootUrl="https://api.spotify.com/v1/";authenticationStrategy;albums;artists;audiobooks;browse;chapters;episodes;recommendations;markets;player;playlists;shows;tracks;users;search;currentUser;constructor(e,t){this.sdkConfig=this.initializeSdk(t),this.albums=new rn(this),this.artists=new sn(this),this.audiobooks=new nn(this),this.browse=new on(this),this.chapters=new an(this),this.episodes=new cn(this),this.recommendations=new ln(this),this.markets=new un(this),this.player=new dn(this),this.playlists=new fn(this),this.shows=new pn(this),this.tracks=new mn(this),this.users=new gn(this),this.currentUser=new wn(this);const s=new hn(this);this.search=s.execute.bind(s),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}async makeRequest(e,t,s=void 0,n=void 0){try{const a=await this.authenticationStrategy.getOrCreateAccessToken();if(ye(a))return console.warn("No access token found, authenticating now."),null;const o=a?.access_token,c=ee.rootUrl+t,d={method:e,headers:{Authorization:`Bearer ${o}`,"Content-Type":n??"application/json"},body:s?typeof s=="string"?s:JSON.stringify(s):void 0};this.sdkConfig.beforeRequest(c,d);const i=await this.sdkConfig.fetch(c,d);return this.sdkConfig.afterRequest(c,d,i),i.status===204?null:(await this.sdkConfig.responseValidator.validateResponse(i),this.sdkConfig.deserializer.deserialize(i))}catch(a){if(!await this.sdkConfig.errorHandler.handleErrors(a))throw a;return null}}initializeSdk(e){const t=typeof window<"u";return{...{fetch:(n,a)=>fetch(n,a),beforeRequest:(n,a)=>{},afterRequest:(n,a,o)=>{},deserializer:new Pn,responseValidator:new xn,errorHandler:new An,redirectionStrategy:new Cn,cachingStrategy:t?new En:new Rn},...e}}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}async authenticate(){const e=await this.authenticationStrategy.getOrCreateAccessToken();return{authenticated:e.expires>Date.now()&&!ye(e),accessToken:e}}async getAccessToken(){return this.authenticationStrategy.getAccessToken()}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,t,s=[],n){const a=new me(e,t,s);return new ee(a,n)}static withClientCredentials(e,t,s=[],n){const a=new _e(e,t,s);return new ee(a,n)}static withImplicitGrant(e,t,s=[],n){const a=new Pe(e,t,s);return new ee(a,n)}static withAccessToken(e,t,s){const n=new On(e,t);return new ee(n,s)}static async performUserAuthorization(e,t,s,n,a){const o=new me(e,t,s),d=await new ee(o,a).authenticationStrategy.getOrCreateAccessToken();return ye(d)||(typeof n=="string"?(console.log("Posting access token to postback URL."),await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})):await n(d)),{authenticated:d.expires>Date.now()&&!ye(d),accessToken:d}}}const Tn="fea5ab12dbbb422485f6621e2cf89e24",Bn="https://marvin-brouwer.github.io",Ce=()=>ee.withUserAuthorization(Tn,`${Bn}/guessify/spotify-auth`,["streaming","user-read-private","user-read-email"]),Ln=()=>Ce().logOut(),qn=()=>{Ln(),xe(void 0)};async function Nn(){const r=`../${Ze()}/`,e=new URL(window.location.href);if(e.searchParams.has("code")){const t=await Ce().authenticate();return xe(t.authenticated?"success":"error.auth_failed"),r}return e.searchParams.has("error")?(xe(`error.${e.searchParams.get("error")}`),r):(xe("error.invalid_request"),r)}const[In,xe]=R(),vt=we({api:Object.assign(Ce(),{logOut:qn}),status:In,handleAuthReturn:Nn}),et=()=>ve(vt),Un=r=>(X(async()=>{if(await ne(()=>Ce().getAccessToken()).then(t=>!!t)){const t=await ne(()=>Ce().authenticate());xe(t.authenticated?"success":"error.auth_failed")}}),_(vt.Provider,{get value(){return vt.defaultValue},get children(){return te(()=>r.children)()}})),Je=r=>r()==="success";function Vn(){const{api:r,status:e}=et();if(!Je(e)){ge(!1);return}r.logOut(),ge(!1)}async function Ut(r){const{api:e,status:t}=et();Je(t)&&ge(!1),Mr(r),ge(!0);try{if((await ne(()=>e.authenticate())).accessToken.access_token==="emptyAccessToken")return;const n=await ne(()=>e.currentUser.profile());jn(n)}catch(s){const n=s;throw n.restore=()=>{n.message.includes("Unfortunately, re-authenticating the user won't help here")&&localStorage.removeItem("spotify-sdk:AuthorizationCodeWithPKCEStrategy:token")},n}finally{ge(!1)}}const[Er,ge]=R(!1),[ze,jn]=R(),$r=we({logIn:()=>Promise.resolve(),logOut:()=>Promise.resolve(),isAuthenticating:Er,isAuthenticated:()=>!1,isValid:()=>!1,profile:ze,errorMessage:()=>{}}),Ee=()=>ve($r),zn=r=>{const{api:e,status:t}=et(),{dictionary:s,locale:n}=j();X(async()=>{await ne(()=>e.getAccessToken()).then(d=>!!d)&&(ge(!0),await Ut(n()))});const a=()=>Je(t)&&ze()?.product==="premium",o=()=>{if(t()&&t()!=="success")return t()==="error.access_denied"?s().spotify.errors.access_denied:s().spotify.errors.unknown};return _($r.Provider,{get value(){return{isValid:S(a,[t,ze]),isAuthenticated:S(()=>Je(t),t),errorMessage:o,isAuthenticating:Er,logIn:()=>Ut(n()),logOut:Vn,profile:ze}},get children(){return te(()=>r.children)()}})},Dn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%204c1.93%200%203.5%201.57%203.5%203.5S13.93%2013%2012%2013s-3.5-1.57-3.5-3.5S10.07%206%2012%206zm0%2014c-2.03%200-4.43-.82-6.14-2.88C7.55%2015.8%209.68%2015%2012%2015s4.45.8%206.14%202.12C16.43%2019.18%2014.03%2020%2012%2020z'/%3e%3c/g%3e%3c/svg%3e",Wn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%231ed760'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7%20l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z%20M10.09,16.72l-3.8-3.81l1.48-1.48l2.32,2.33%20l5.85-5.87l1.48,1.48L10.09,16.72z'/%3e%3c/g%3e%3c/svg%3e",Gn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23d71e1e'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M1%2021h22L12%202%201%2021zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3e%3c/svg%3e",Hn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%207l-1.41%201.41L18.17%2011H8v2h10.17l-2.58%202.58L17%2017l5-5zM4%205h8V3H4c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h8v-2H4V5z'/%3e%3c/svg%3e",Kn="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z%20M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z'/%3e%3c/g%3e%3c/svg%3e";var Qn=M("<div class=spotify-card><h2>"),Jn=M('<div class="spotify-login-card card"><div class=details><p></p><p></p></div><div class=controls><button>'),Yn=M("<p class=error>"),Vt=M("<span>"),Xn=M("<img>"),Zn=M("<img class=placeholder>"),ei=M('<div class="spotify-profile-card card"><div class=thumbnail></div><p class=stats><b></b><i></i></p><p class=stats><b></b><i></i></p><p class=stats><b></b><i><img></i></p><div class=details><h3></h3></div><div class=controls><button><span></span><img>'),jt=M("<p>"),ti=M("<p class=no-premium>");const ri=()=>{const r=Ee(),{hasMediaSupport:e}=ae();if(!e())return null;const{dictionary:t}=j(),s=()=>!Ee().isAuthenticating()&&r.isAuthenticated()?_(ni,{}):_(si,{});return(()=>{var n=Qn(),a=n.firstChild;return v(a,()=>t().spotify.title),v(n,s,null),n})()},si=()=>{const r=Ee(),{dictionary:e}=j();return(()=>{var t=Jn(),s=t.firstChild,n=s.firstChild,a=n.nextSibling,o=s.nextSibling,c=o.firstChild;return v(n,()=>e().spotify.explainer[0]),v(a,()=>e().spotify.explainer[1]),v(s,(()=>{var d=S(()=>!!r.errorMessage());return()=>d()&&(()=>{var i=Yn();return v(i,()=>r.errorMessage()),i})()})(),null),c.$$click=()=>{r.logIn()},v(c,(()=>{var d=S(()=>!!r.isAuthenticating());return()=>d()?(()=>{var i=Vt();return v(i,()=>e().spotify.signingIn),i})():(()=>{var i=Vt();return v(i,()=>e().spotify.signIn),i})()})(),null),v(c,(()=>{var d=S(()=>!r.isAuthenticating());return()=>d()&&(()=>{var i=Xn();return q(i,"src",Kn),i})()})(),null),H(()=>c.disabled=r.isAuthenticating()),t})()},ni=()=>{const r=Ee(),{dictionary:e}=j(),t=r.profile();if(!t)return null;const s=t.images?.find(c=>c.width===300)??void 0,[n,a]=R((()=>{var c=Zn();return q(c,"src",Dn),c})());Mt(()=>{if(!s||n().src===s.url)return;const c=n().cloneNode(!0);c.className="",c.addEventListener("load",()=>a(c),{once:!0}),c.src=s.url},s);const o=r.isValid();return(()=>{var c=ei(),d=c.firstChild,i=d.nextSibling,l=i.firstChild,u=l.nextSibling,p=i.nextSibling,f=p.firstChild,g=f.nextSibling,h=p.nextSibling,w=h.firstChild,b=w.nextSibling,y=b.firstChild,O=h.nextSibling,T=O.firstChild,U=O.nextSibling,E=U.firstChild,B=E.firstChild,V=B.nextSibling;return v(d,n),v(l,()=>e().spotify.stats.country),v(u,()=>t.country),v(f,()=>e().spotify.stats.followers),v(g,()=>t.followers.total),v(w,()=>e().spotify.stats.premium),q(y,"src",o?Wn:Gn),v(T,()=>t.display_name),v(O,o?(()=>{var L=jt();return v(L,()=>e().spotify.details.hasPremium),L})():[(()=>{var L=ti();return v(L,()=>e().spotify.details.noPremium),L})(),(()=>{var L=jt();return v(L,()=>e().spotify.explainer[1]),L})()],null),E.$$click=()=>r.logOut(),v(B,()=>e().spotify.signOut),q(V,"src",Hn),c})()};Fe(["click"]);const ii="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M9.4%2010.5l4.77-8.26C13.47%202.09%2012.75%202%2012%202c-2.4%200-4.6.85-6.32%202.25l3.66%206.35.06-.1zM21.54%209c-.92-2.92-3.15-5.26-6-6.34L11.88%209h9.66zm.26%201h-7.49l.29.5%204.76%208.25C21%2016.97%2022%2014.61%2022%2012c0-.69-.07-1.35-.2-2zM8.54%2012l-3.9-6.75C3.01%207.03%202%209.39%202%2012c0%20.69.07%201.35.2%202h7.49l-1.15-2zm-6.08%203c.92%202.92%203.15%205.26%206%206.34L12.12%2015H2.46zm11.27%200l-3.9%206.76c.7.15%201.42.24%202.17.24%202.4%200%204.6-.85%206.32-2.25l-3.66-6.35-.93%201.6z'/%3e%3c/svg%3e",oi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3.2'/%3e%3cpath%20d='M9%202L7.17%204H4c-1.1%200-2%20.9-2%202v12c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2h-3.17L15%202H9zm3%2015c-2.76%200-5-2.24-5-5s2.24-5%205-5%205%202.24%205%205-2.24%205-5%205z'/%3e%3c/svg%3e",ai="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2012c2.21%200%204-1.79%204-4s-1.79-4-4-4-4%201.79-4%204%201.79%204%204%204zm0%202c-2.67%200-8%201.34-8%204v2h16v-2c0-2.66-5.33-4-8-4z'/%3e%3c/svg%3e",ci="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M21%2019V5c0-1.1-.9-2-2-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2zM8.5%2013.5l2.5%203.01L14.5%2012l4.5%206H5l3.5-4.5z'/%3e%3c/svg%3e",li="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3cpath%20d='M3,4V1h2v3h3v2H5v3H3V6H0V4H3z%20M6,10V7h3V4h7l1.83,2H21c1.1,0,2,0.9,2,2v12c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V10H6z%20M13,19c2.76,0,5-2.24,5-5s-2.24-5-5-5s-5,2.24-5,5S10.24,19,13,19z%20M9.8,14c0,1.77,1.43,3.2,3.2,3.2s3.2-1.43,3.2-3.2%20s-1.43-3.2-3.2-3.2S9.8,12.23,9.8,14z'/%3e%3c/svg%3e",ui="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3cpath%20d='M0,0h24v24H0V0z'%20fill='none'/%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M16,7h-1l-1-1h-4L9,7H8C6.9,7,6,7.9,6,9v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V9C18,7.9,17.1,7,16,7z%20M12,14%20c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C14,13.1,13.1,14,12,14z'/%3e%3cpath%20d='M8.57,0.51l4.48,4.48V2.04c4.72,0.47,8.48,4.23,8.95,8.95c0,0,2,0,2,0C23.34,3.02,15.49-1.59,8.57,0.51z'/%3e%3cpath%20d='M10.95,21.96C6.23,21.49,2.47,17.73,2,13.01c0,0-2,0-2,0c0.66,7.97,8.51,12.58,15.43,10.48l-4.48-4.48V21.96z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",di="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e";var fi=M("<dialog><div><div class=details></div><div class=controls><button><span></span><img>");const Rr=r=>{r instanceof HTMLDialogElement?r.showModal():r().showModal()},Fr=({children:r,class:e,beforeClose:t})=>{const{dictionary:s}=j(),n=()=>{if(!t)return o.close();t()!==!1&&o.close()},a=(()=>{var d=fi(),i=d.firstChild,l=i.firstChild,u=l.nextSibling,p=u.firstChild,f=p.firstChild,g=f.nextSibling;return _t(i,`modal card ${e}`),v(l,r),p.$$click=n,v(f,()=>s().common.close),q(g,"src",di),d})(),o=a,c=d=>{o.hidden||o.addEventListener("click",function(i){const l=o.getBoundingClientRect();l.top<=i.clientY&&i.clientY<=l.top+l.height&&l.left<=i.clientX&&i.clientX<=l.left+l.width||o.close()},{once:!0})};return X(()=>{o.addEventListener("click",c)}),oe(()=>{o.removeEventListener("click",c)}),a};Fe(["click"]);var hi=M("<h2>"),zt=M("<p>"),pi=M("<p><a href=#todo target=_blank>"),mi=M("<details><summary></summary><pre>"),gi=M("<a href=#instructions>"),wi=M("<a target=_blank>");const vi=At(),bi=()=>{const{locale:r,dictionary:e}=j(),t=S(()=>yi(vi,r()),r),s=_(Fr,{class:"reset-permission-modal",get children(){return[(()=>{var o=hi();return v(o,()=>e().camera.permissions.title),o})(),(()=>{var o=zt();return v(o,()=>e().camera.permissions.explainer),o})(),(()=>{var o=pi(),c=o.firstChild;return v(o,()=>e().camera.permissions.cta[0],c),v(c,()=>e().camera.permissions.cta[1]),v(o,()=>e().camera.permissions.cta[2],null),o})(),(()=>{var o=mi(),c=o.firstChild,d=c.nextSibling;return v(c,()=>e().camera.permissions.deviceDetails),v(d,()=>JSON.stringify(At(),null,4)),o})(),zt()]}}),n=async o=>(o.preventDefault(),o.stopPropagation(),Rr(s),!1),a=S(()=>t()?(()=>{var o=wi();return v(o,()=>e().camera.permissions.permissionLink),H(()=>q(o,"href",t())),o})():(()=>{var o=gi();return o.$$click=n,v(o,()=>e().camera.permissions.permissionLink),o})(),t);return[S(a),s]};function yi(r,e){if(r.browser.name==="Chrome"){if(r.platform.type==="desktop")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DDesktop`;if(r.os.name==="Android")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DAndroid`;if(r.os.name==="IOS")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DiOS`}}Fe(["click"]);var Si=M("<div class=camera-card><h2>"),Mi=M('<div class="camera-request-card card no-controls"><div class=details><p></p><p> </p><p> '),ki=M('<div class="camera-request-card card no-controls"><div class=details><p></p><p></p><p> <!>.'),_i=M('<div class="camera-request-card card"><div class=details><p></p><p></p></div><div class=controls><button><img>'),Dt=M("<span>"),Wt=M("<video>"),Pi=M("<option>"),Ie=M("<img>"),xi=M('<div class="camera-request-card card"><div class=video-overlay></div><div class=details><p></p><p><i></i></p></div><div class=controls><select></select><div><span></span><img>'),Ai=M("<div class=stats><span>");const Ci=()=>{const r=ae(),{dictionary:e}=j(),t=S(()=>r.hasMediaSupport()?r.canPrompt()||r.permission()==="pending"?_(Ri,{}):r.hasPermission()?_(Fi,{}):_($i,{}):_(Ei,{}),[r.hasMediaSupport,r.canPrompt,r.hasPermission]);return(()=>{var s=Si(),n=s.firstChild;return v(n,()=>e().camera.title),v(s,t,null),s})()},Ei=()=>{const{dictionary:r}=j();return(()=>{var e=Mi(),t=e.firstChild,s=t.firstChild,n=s.nextSibling,a=n.firstChild,o=n.nextSibling,c=o.firstChild;return v(s,()=>r().camera.explainer[0]),v(n,()=>r().camera.noSupport[0],a),v(o,()=>r().camera.noSupport[1],c),e})()},$i=()=>{const{dictionary:r}=j();return(()=>{var e=ki(),t=e.firstChild,s=t.firstChild,n=s.nextSibling,a=n.nextSibling,o=a.firstChild,c=o.nextSibling;return c.nextSibling,v(s,()=>r().camera.explainer[0]),v(n,()=>r().camera.noPermission[0]),v(a,()=>r().camera.noPermission[1],o),v(a,_(bi,{}),c),e})()},Ri=()=>{const r=ae(),{dictionary:e}=j();return(()=>{var t=_i(),s=t.firstChild,n=s.firstChild,a=n.nextSibling,o=s.nextSibling,c=o.firstChild,d=c.firstChild;return v(n,()=>e().camera.explainer[0]),v(a,()=>e().camera.explainer[1]),c.$$click=()=>{r.requestPermission()},v(c,(()=>{var i=S(()=>r.permission()==="pending");return()=>i()?(()=>{var l=Dt();return v(l,()=>e().camera.requestingPermission),l})():(()=>{var l=Dt();return v(l,()=>e().camera.requestPermission),l})()})(),d),q(d,"src",li),H(()=>c.disabled=!r.canPrompt()),t})()},Fi=()=>{const r=ae(),{dictionary:e,template:t}=j(),[s,n]=R(),a=S(()=>s()?.stream??null,s),o=Wt(),c=o,d=S(()=>(c.srcObject=a(),c.srcObject?(c.removeAttribute("src"),c.onloadedmetadata=()=>{c.play()},o):(c.src="",c.srcObject=null,c.pause(),Wt())),[a]);X(()=>{r.getCamera().then(n).catch(console.error)});const i=S(()=>r.devices().map(u=>(()=>{var p=Pi();return v(p,()=>u.label),H(()=>p.selected=u.deviceId===s()?.id),H(()=>p.value=u.deviceId),p})()),[r.devices,s]),l=S(()=>{const u=s()?.facing;return u==="loading"?null:u==="desktop"?(()=>{var p=Ie();return q(p,"src",oi),p})():u==="user"?(()=>{var p=Ie();return q(p,"src",ai),p})():u==="environment"?(()=>{var p=Ie();return q(p,"src",ci),p})():(()=>{var p=Ie();return q(p,"src",ii),p})()},s);return(()=>{var u=xi(),p=u.firstChild,f=p.nextSibling,g=f.firstChild,h=g.nextSibling,w=h.firstChild,b=f.nextSibling,y=b.firstChild,O=y.nextSibling,T=O.firstChild,U=T.nextSibling;return v(u,d,p),v(p,(()=>{var E=S(()=>!!s());return()=>E()&&(()=>{var B=Ai(),V=B.firstChild;return v(B,l,V),v(V,()=>e().camera.type[s()?.facing??"unknown"]),B})()})()),v(g,()=>t(e().camera.selectedCamera,{label:s()?.label??"?"})),v(w,()=>e().camera.switchBanner),y.addEventListener("change",async E=>{const B=s();if(E.target.value===B?.id)return;c.pause(),c.srcObject=null;const V=E.target.value;n(void 0),await r.getCamera(V).then(n).catch(L=>{n(B),console.error(L)})}),v(y,i),v(T,()=>s()?.name??e().camera.openingCam),q(U,"src",ui),H(E=>{var B=s()?.id,V=!s(),L=s()?"fake-button":"fake-button disabled";return B!==E.e&&q(y,"data-value",E.e=B),V!==E.t&&(y.disabled=E.t=V),L!==E.a&&_t(O,E.a=L),E},{e:void 0,t:void 0,a:void 0}),u})()};Fe(["click"]);const bt="/guessify/assets/guessify-logo-DT33HoF3.svg",[yt,Gt]=R(window.navigator.onLine?"online":"offline"),Oi=S(()=>yt()!=="offline",yt),St=we({status:yt,online:Oi}),Ti=()=>ve(St),Bi=r=>{const e=()=>Gt("online"),t=()=>Gt("offline");return X(()=>{window.addEventListener("online",e),window.addEventListener("offline",t)}),oe(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}),_(St.Provider,{get value(){return St.defaultValue},get children(){return te(()=>r.children)()}})};var Li=M("<div class=dependency-gate><h1 class=logo><img> Guessify</h1><p>"),qi=M("<div class=dependency-gate><h1 class=logo><img> Guessify");const Ni=({children:r})=>{const e=Ee(),t=ae(),{online:s}=Ti(),{dictionary:n}=j();if(!s())return(()=>{var o=Li(),c=o.firstChild,d=c.firstChild,i=c.nextSibling;return q(d,"src",bt),v(i,()=>n().common.offline),o})();const a=S(()=>e.isValid()&&t.hasPermission(),[e.isValid,t.hasPermission,t.permission]);return S(()=>S(()=>a()?r:(()=>{var o=qi(),c=o.firstChild,d=c.firstChild;return q(d,"src",bt),v(o,_(ri,{}),null),v(o,_(Ci,{}),null),o})(),a)())},Ii="modulepreload",Ui=function(r){return"/guessify/"+r},Ht={},Vi=function(e,t,s){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");n=Promise.allSettled(t.map(d=>{if(d=Ui(d),d in Ht)return;Ht[d]=!0;const i=d.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Ii,i||(u.as="script"),u.crossOrigin="",u.href=d,c&&u.setAttribute("nonce",c),document.head.appendChild(u),i)return new Promise((p,f)=>{u.addEventListener("load",p),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return n.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},W={canvasContextOptions:{willReadFrequently:!0},showScaleCanvas:!1,showGrayscaleImage:!0,showOrientationLines:!0,sampleRate:200,blurAmount:r=>Math.max(5,Math.min(r/80,2)),debugEnabled(){return this.showScaleCanvas||this.showGrayscaleImage||this.showOrientationLines}},Ue=W.debugEnabled()?async(r,e)=>{const t=document.createElement("a");if(t.download=`camera-feed-${e}-${r.id}.png`,r instanceof HTMLCanvasElement)t.href=r.toDataURL();else{const n=await r.convertToBlob({type:"image/png"});var s=new FileReader;t.href=await new Promise(a=>{s.onload=o=>{a(o.target.result)},s.readAsDataURL(n)})}t.click()}:void 0,tt=(r,e,t,s)=>{if(e){const a=document.createElement("canvas");return Object.assign(a,{width:t,height:s,id:r,writeOutput:Ue&&(o=>Ue(a,o))})}const n=new OffscreenCanvas(t,s);return Object.assign(n,{id:r,writeOutput:Ue&&(a=>Ue(n,a))})},ie=(r,e={})=>r.getContext("2d",{...W.canvasContextOptions,...e}),rt=r=>new Promise(e=>{requestAnimationFrame(()=>{e(r())})});function ji(r,e){const t=r.getBoundingClientRect(),s=e.getSettings();let{width:n,height:a,aspectRatio:o}=s;n||(n=a*o),a||(a=n*o);const c=Math.max(t.width/n,t.height/a),d=n*c,i=a*c;var l=(t.width-n*c)/2,u=(t.height-a*c)/2;return{boxWidth:d,boxHeight:i,frameWidth:n,frameHeight:a,offsetX:l,offsetY:u}}function zi(r,e){const t=ji(r,e),{boxWidth:s,boxHeight:n,frameWidth:a,frameHeight:o,offsetX:c,offsetY:d}=t;return rt(()=>{const i=tt("scale",W.showScaleCanvas,s,n);return ie(i,{alpha:!1,desynchronized:!0}).drawImage(r,0,0,a,o,c,d,s,n),i})}function Kt(r,e,t){return rt(()=>{const s=tt(t?"grayscale-inverted":"grayscale",!t&&W.showGrayscaleImage,r.width,r.height),n=ie(s,{alpha:!1,desynchronized:!1});return n.filter=`brightness(1.4) grayscale() ${t?"invert()":""} contrast(4)`,n.drawImage(e,r.x,r.y,r.width,r.height,0,0,s.width,s.height),s})}function Di(r,e){return rt(()=>{const t=tt(r.id.replace("grayscale","blur"),!1,r.width,r.height),s=ie(t,{desynchronized:!1});return s.filter=`blur(${W.blurAmount(e)}px) brightness(1.1) contrast(3.5)`,s.drawImage(r,0,0,r.width,r.height,0,0,t.width,t.height),t})}function Qt(r,e){return[r[e],r[e+1],r[e+2],r[e+3]]}async function Wi(r,e){const t=ie(r).getImageData(0,0,r.width,r.height),s=ie(e).getImageData(0,0,e.width,e.height);return await rt(()=>{const n=[],a=t.data,o=s.data;for(var c=0;c<a.length;c+=4){const d=Math.floor(c/4),i=Math.floor(d/t.width),l=d-t.width*i;n[i]??=[];const u=Qt(a,c),p=Qt(o,c),f=Jt(u)?1:0,g=Jt(p)?2:0,h=f+g;n[i][l]=[...u,l,i,h]}return Object.assign(n,{width:t.width,height:t.height})})}function Jt([r,e,t]){return!(r>180||r<60||e>180||e<60||t>180||t<60)}var Gi=M("<div>"),Hi=M("<div class=feedback>");W.debugEnabled()&&await Vi(()=>Promise.resolve({}),__vite__mapDeps([0]));const[Ki,mo]=R(""),[Qi,go]=R(!1),[Se,Ji]=R();function dt(r,e){if(!r||!(e instanceof HTMLCanvasElement))return;document.getElementById(e.id)?.remove(),Se()?.appendChild(e)}function Yi(r,e,t){if(!t.width)return;const s=tt("edge",r,t.width,t.height),n=s;return document.getElementById(n.id)?.remove(),e.appendChild(n),s}function Xi(r,e,t,...s){{const n=async()=>{const c=document.createElement("a"),d=r.getSettings(),i=document.createElement("canvas");i.width=d.width,i.height=d.height,i.getContext("2d").drawImage(e,0,0);const u=Date.now();c.download=`camera-feed-${u}-raw.png`,c.href=i.toDataURL(),c.click();for(const p of s)await p.writeOutput?.(u)};t().ondblclick=n,t().oncontextmenu=n;let a,o=!1;t().ontouchend=()=>{o===!0&&n(),clearTimeout(a),o=!0,a=setTimeout(()=>o=!1,500)}}}const Yt=({videoElement:r})=>{const e=ae();let t;async function s(){if(!e.hasPermission()){window.location.reload();return}const n=await e.getCamera().catch(()=>{});if(!n){window.location.reload();return}if(!Se())return;const a=Se().getBoundingClientRect();if(a.width===0||r.getBoundingClientRect().width===0)return;const o=n.stream.getVideoTracks()[0];(!n.stream.active||!o.enabled)&&window.location.reload();const c=await zi(r,o);dt(W.showScaleCanvas,c);const d=await Promise.all([Kt(a,c,!1),Kt(a,c,!0)]);d.forEach(f=>dt(W.showGrayscaleImage,f));const i=await Promise.all(d.map(f=>Di(f,c.width)));i.forEach(f=>dt(W.showGrayscaleImage,f));const l=await Wi(i[0],i[1]),u=Yi(W.showOrientationLines,Se(),l);ie(u).clearRect(0,0,u.width,u.height);const p=l.flatMap(f=>f.flatMap(g=>{const h=g[6];return h===1?[0,128,0,100]:h===2?[128,255,0,100]:h===3?[0,255,0,255]:[0,0,0,0]}));ie(u).putImageData(new ImageData(new Uint8ClampedArray(p),l.width,l.length),0,0),Xi(o,r,Se,c,...d,...i,u),t=setTimeout(()=>requestAnimationFrame(s),W.sampleRate)}return X(async()=>{!e.hasPermission()||!await e.getCamera()||(t=setTimeout(()=>requestAnimationFrame(s),W.sampleRate))}),oe(()=>{clearTimeout(t)}),[(()=>{var n=Gi();return Zr(Ji,n),H(()=>_t(n,Qi()?"viewfinder scanning":"viewfinder")),n})(),(()=>{var n=Hi();return v(n,Ki),n})()]};var Xt=M("<video>"),Zi=M("<div class=camera-canvas>"),Zt=M("<div class=video-overlay>"),eo=M('<div class="video-overlay debug">');const to=()=>{const r=ae(),[e,t]=R(),s=S(()=>e()?.stream??null,e),n=Xt(),a=n,o=S(()=>(a.srcObject=s(),a.srcObject?(a.removeAttribute("src"),a.onloadedmetadata=()=>{a.play()},n):(a.src="",a.srcObject=null,a.pause(),Xt())),[s]);return X(()=>{r.hasPermission()&&r.getCamera().then(t).catch(console.error)}),(()=>{var c=Zi();return v(c,o,null),v(c,(()=>{var d=S(()=>!!W.debugEnabled());return()=>d()?[Zt(),(()=>{var i=eo();return v(i,_(Yt,{videoElement:a})),i})()]:(()=>{var i=Zt();return v(i,_(Yt,{videoElement:a})),i})()})(),null),c})()};var ro=M("<h1>"),ft=M("<p>"),so=M("<p><i>"),no=M(`<details><summary></summary><pre class=version> 
</pre><pre>`);const io=r=>{const{dictionary:e}=j(),[t,s]=R(),n="Application Version: 1.0.0-alpha.32",a=Array.from(n).fill("-").join(""),c=_(Fr,{class:"uncaught-error-modal",beforeClose:()=>(t()?.restore?.(),window.location.reload(),!1),get children(){return[(()=>{var u=ro();return v(u,()=>e().common.unhandledError.title),u})(),(()=>{var u=ft();return v(u,()=>e().common.unhandledError.explainer[0]),u})(),(()=>{var u=ft();return v(u,()=>e().common.unhandledError.explainer[1]),u})(),S(()=>S(()=>!!t())()&&[(()=>{var u=no(),p=u.firstChild,f=p.nextSibling,g=f.firstChild,h=f.nextSibling;return v(p,()=>e().common.unhandledError.details),v(f,n,g),v(f,a,null),v(h,()=>t().stack?.toString()??t().toString()),u})(),ft()]),(()=>{var u=so(),p=u.firstChild;return v(p,()=>e().common.unhandledError.explainer[2]),u})()]}}),d=u=>{s(u instanceof Error?u:new Error(u)),console.error("Uncaught application error",u);debugger;Rr(c)},i=u=>{const p=u.reason instanceof Error?u.reason:Object.assign(new Error(u.reason),{stack:u.promise.__creationPoint});d(p)},l=u=>d(u.error);return X(()=>{addEventListener("unhandledrejection",i),addEventListener("error",l)}),oe(()=>{removeEventListener("unhandledrejection",i),removeEventListener("error",l)}),[c,_(Jr,{fallback:(u,p)=>[],get children(){return te(()=>r.children)()}})]};var oo=M("<p>TODO, language selector <a href=/guessify/en/>English</a> / <a href=/guessify/nl/>Nederlands");const ao=r=>_(io,{get children(){return _(Bi,{get children(){return _(Un,{get children(){return te(()=>r.children)()}})}})}}),co=()=>_(zn,{get children(){return _(Ni,{get children(){return _(to,{})}})}}),er=()=>oo(),lo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16.24%207.76C15.07%206.59%2013.54%206%2012%206v6l-4.24%204.24c2.34%202.34%206.14%202.34%208.49%200%202.34-2.34%202.34-6.14-.01-8.48zM12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.42%200-8-3.58-8-8s3.58-8%208-8%208%203.58%208%208-3.58%208-8%208z'/%3e%3c/svg%3e";var uo=M("<div class=auth><h1 class=logo><img> Guessify</h1><div class=details><p><img>");const fo=()=>{const r=fs(),{handleAuthReturn:e}=et(),t=Ze(),s=t?Us(t).spotify.signingIn:"...";return Mt(()=>{e().then(n=>{r(n,{replace:!0})})}),(()=>{var n=uo(),a=n.firstChild,o=a.firstChild,c=a.nextSibling,d=c.firstChild,i=d.firstChild;return q(o,"src",bt),q(i,"src",lo),v(d,s,null),n})()},ho=document.getElementById("root"),po=r=>r.replace("/guessify/?","/guessify");globalThis.Promise=class extends Promise{constructor(){super(...arguments),this.__creationPoint=new Error().stack}};Xr(()=>_($s,{get base(){return"/guessify"},explicitLinks:!0,transformUrl:po,root:ao,get children(){return[_(Le,{path:"/spotify-auth",component:fo}),_(Le,{path:"/:locale/",component:co}),_(Le,{path:"/",component:er}),_(Le,{path:"*404",component:er})]}}),ho)})();
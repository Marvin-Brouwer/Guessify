const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/camera-viewfinder-CdmQCq1D.css"])))=>i.map(i=>d[i]);
(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const Gr=(r,e)=>r===e,kt=Symbol("solid-proxy"),Hr=typeof Proxy=="function",Qe={equals:Gr};let xe=null,pr=vr;const Z=1,Je=2,mr={owned:null,cleanups:null,context:null,owner:null};var M=null;let ft=null,Kr=null,A=null,L=null,Q=null,rt=0;function Ft(r,e){const t=A,n=M,s=r.length===0,a=e===void 0?n:e,c=s?mr:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=s?r:()=>r(()=>G(()=>Ee(c)));M=c,A=null;try{return ie(o,!0)}finally{A=t,M=n}}function $(r,e){e=e?Object.assign({},Qe,e):Qe;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},n=s=>(typeof s=="function"&&(s=s(t.value)),wr(t,s));return[gr.bind(t),n]}function D(r,e,t){const n=nt(r,e,!1,Z);Le(n)}function Be(r,e,t){pr=en;const n=nt(r,e,!1,Z);(!t||!t.render)&&(n.user=!0),Q?Q.push(n):Le(n)}function k(r,e,t){t=t?Object.assign({},Qe,t):Qe;const n=nt(r,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,Le(n),gr.bind(n)}function Qr(r){return ie(r,!1)}function G(r){if(A===null)return r();const e=A;A=null;try{return r()}finally{A=e}}function Rt(r,e,t){const n=Array.isArray(r);let s,a=t&&t.defer;return c=>{let o;if(n){o=Array(r.length);for(let i=0;i<r.length;i++)o[i]=r[i]()}else o=r();if(a)return a=!1,c;const d=G(()=>e(o,s,c));return s=o,d}}function ee(r){Be(()=>G(r))}function J(r){return M===null||(M.cleanups===null?M.cleanups=[r]:M.cleanups.push(r)),r}function Jr(r,e){xe||(xe=Symbol("error")),M=nt(void 0,void 0,!0),M.context={...M.context,[xe]:[e]};try{return r()}catch(t){qe(t)}finally{M=M.owner}}function Ot(){return M}function Tt(r,e){const t=M,n=A;M=r,A=null;try{return ie(e,!0)}catch(s){qe(s)}finally{M=t,A=n}}function Xr(r){const e=A,t=M;return Promise.resolve().then(()=>{A=e,M=t;let n;return ie(r,!1),A=M=null,n?n.done:void 0})}function be(r,e){const t=Symbol("context");return{id:t,Provider:rn(t),defaultValue:r}}function ye(r){let e;return M&&M.context&&(e=M.context[r.id])!==void 0?e:r.defaultValue}function X(r){const e=k(r),t=k(()=>_t(e()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}function gr(){if(this.sources&&this.state)if(this.state===Z)Le(this);else{const r=L;L=null,ie(()=>Ye(this),!1),L=r}if(A){const r=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(r)):(A.sources=[this],A.sourceSlots=[r]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function wr(r,e,t){let n=r.value;return(!r.comparator||!r.comparator(n,e))&&(r.value=e,r.observers&&r.observers.length&&ie(()=>{for(let s=0;s<r.observers.length;s+=1){const a=r.observers[s],c=ft&&ft.running;c&&ft.disposed.has(a),(c?!a.tState:!a.state)&&(a.pure?L.push(a):Q.push(a),a.observers&&br(a)),c||(a.state=Z)}if(L.length>1e6)throw L=[],new Error},!1)),e}function Le(r){if(!r.fn)return;Ee(r);const e=rt;Yr(r,r.value,e)}function Yr(r,e,t){let n;const s=M,a=A;A=M=r;try{n=r.fn(e)}catch(c){return r.pure&&(r.state=Z,r.owned&&r.owned.forEach(Ee),r.owned=null),r.updatedAt=t+1,qe(c)}finally{A=a,M=s}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?wr(r,n):r.value=n,r.updatedAt=t)}function nt(r,e,t,n=Z,s){const a={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:M,context:M?M.context:null,pure:t};return M===null||M!==mr&&(M.owned?M.owned.push(a):M.owned=[a]),a}function Xe(r){if(r.state===0)return;if(r.state===Je)return Ye(r);if(r.suspense&&G(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<rt);)r.state&&e.push(r);for(let t=e.length-1;t>=0;t--)if(r=e[t],r.state===Z)Le(r);else if(r.state===Je){const n=L;L=null,ie(()=>Ye(r,e[0]),!1),L=n}}function ie(r,e){if(L)return r();let t=!1;e||(L=[]),Q?t=!0:Q=[],rt++;try{const n=r();return Zr(t),n}catch(n){t||(Q=null),L=null,qe(n)}}function Zr(r){if(L&&(vr(L),L=null),r)return;const e=Q;Q=null,e.length&&ie(()=>pr(e),!1)}function vr(r){for(let e=0;e<r.length;e++)Xe(r[e])}function en(r){let e,t=0;for(e=0;e<r.length;e++){const n=r[e];n.user?r[t++]=n:Xe(n)}for(e=0;e<t;e++)Xe(r[e])}function Ye(r,e){r.state=0;for(let t=0;t<r.sources.length;t+=1){const n=r.sources[t];if(n.sources){const s=n.state;s===Z?n!==e&&(!n.updatedAt||n.updatedAt<rt)&&Xe(n):s===Je&&Ye(n,e)}}}function br(r){for(let e=0;e<r.observers.length;e+=1){const t=r.observers[e];t.state||(t.state=Je,t.pure?L.push(t):Q.push(t),t.observers&&br(t))}}function Ee(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),n=r.sourceSlots.pop(),s=t.observers;if(s&&s.length){const a=s.pop(),c=t.observerSlots.pop();n<s.length&&(a.sourceSlots[c]=n,s[n]=a,t.observerSlots[n]=c)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)Ee(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)Ee(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function tn(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Dt(r,e,t){try{for(const n of e)n(r)}catch(n){qe(n,t&&t.owner||null)}}function qe(r,e=M){const t=xe&&e&&e.context&&e.context[xe],n=tn(r);if(!t)throw n;Q?Q.push({fn(){Dt(n,t,e)},state:Z}):Dt(n,t,e)}function _t(r){if(typeof r=="function"&&!r.length)return _t(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const n=_t(r[t]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return r}function rn(r,e){return function(n){let s;return D(()=>s=G(()=>(M.context={...M.context,[r]:n.value},X(()=>n.children))),void 0),s}}function b(r,e){return G(()=>r(e||{}))}function Ve(){return!0}const nn={get(r,e,t){return e===kt?t:r.get(e)},has(r,e){return e===kt?!0:r.has(e)},set:Ve,deleteProperty:Ve,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:Ve,deleteProperty:Ve}},ownKeys(r){return r.keys()}};function ht(r){return(r=typeof r=="function"?r():r)?r:{}}function sn(){for(let r=0,e=this.length;r<e;++r){const t=this[r]();if(t!==void 0)return t}}function on(...r){let e=!1;for(let c=0;c<r.length;c++){const o=r[c];e=e||!!o&&kt in o,r[c]=typeof o=="function"?(e=!0,k(o)):o}if(Hr&&e)return new Proxy({get(c){for(let o=r.length-1;o>=0;o--){const d=ht(r[o])[c];if(d!==void 0)return d}},has(c){for(let o=r.length-1;o>=0;o--)if(c in ht(r[o]))return!0;return!1},keys(){const c=[];for(let o=0;o<r.length;o++)c.push(...Object.keys(ht(r[o])));return[...new Set(c)]}},nn);const t={},n=Object.create(null);for(let c=r.length-1;c>=0;c--){const o=r[c];if(!o)continue;const d=Object.getOwnPropertyNames(o);for(let i=d.length-1;i>=0;i--){const l=d[i];if(l==="__proto__"||l==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,l);if(!n[l])n[l]=u.get?{enumerable:!0,configurable:!0,get:sn.bind(t[l]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const f=t[l];f&&(u.get?f.push(u.get.bind(o)):u.value!==void 0&&f.push(()=>u.value))}}}const s={},a=Object.keys(n);for(let c=a.length-1;c>=0;c--){const o=a[c],d=n[o];d&&d.get?Object.defineProperty(s,o,d):s[o]=d?d.value:void 0}return s}const an=r=>`Stale read from <${r}>.`;function st(r){const e=r.keyed,t=k(()=>r.when,void 0,{equals:(n,s)=>e?n===s:!n==!s});return k(()=>{const n=t();if(n){const s=r.children;return typeof s=="function"&&s.length>0?G(()=>s(e?n:()=>{if(!G(t))throw an("Show");return r.when})):s}return r.fallback},void 0,void 0)}let he;function cn(){he&&[...he].forEach(r=>r())}function ln(r){let e;const[t,n]=$(e,void 0);return he||(he=new Set),he.add(n),J(()=>he.delete(n)),k(()=>{let s;if(s=t()){const a=r.fallback;return typeof a=="function"&&a.length?G(()=>a(s,()=>n())):a}return Jr(()=>r.children,n)},void 0,void 0)}function un(r,e,t){let n=t.length,s=e.length,a=n,c=0,o=0,d=e[s-1].nextSibling,i=null;for(;c<s||o<a;){if(e[c]===t[o]){c++,o++;continue}for(;e[s-1]===t[a-1];)s--,a--;if(s===c){const l=a<n?o?t[o-1].nextSibling:t[a-o]:d;for(;o<a;)r.insertBefore(t[o++],l)}else if(a===o)for(;c<s;)(!i||!i.has(e[c]))&&e[c].remove(),c++;else if(e[c]===t[a-1]&&t[o]===e[s-1]){const l=e[--s].nextSibling;r.insertBefore(t[o++],e[c++].nextSibling),r.insertBefore(t[--a],l),e[s]=t[a]}else{if(!i){i=new Map;let u=o;for(;u<a;)i.set(t[u],u++)}const l=i.get(e[c]);if(l!=null)if(o<l&&l<a){let u=c,f=1,h;for(;++u<s&&u<a&&!((h=i.get(e[u]))==null||h!==l+f);)f++;if(f>l-o){const m=e[c];for(;o<l;)r.insertBefore(t[o++],m)}else r.replaceChild(t[o++],e[c++])}else c++;else e[c++].remove()}}}const Wt="_$DX_DELEGATE";function dn(r,e,t,n={}){let s;return Ft(a=>{s=a,e===document?r():w(e,r(),e.firstChild?null:void 0,t)},n.owner),()=>{s(),e.textContent=""}}function y(r,e,t){let n;const s=()=>{const c=document.createElement("template");return c.innerHTML=r,c.content.firstChild},a=()=>(n||(n=s())).cloneNode(!0);return a.cloneNode=a,a}function Se(r,e=window.document){const t=e[Wt]||(e[Wt]=new Set);for(let n=0,s=r.length;n<s;n++){const a=r[n];t.has(a)||(t.add(a),e.addEventListener(a,hn))}}function F(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function Bt(r,e){e==null?r.removeAttribute("class"):r.className=e}function yr(r,e,t,n){Array.isArray(t)?(r[`$$${e}`]=t[0],r[`$$${e}Data`]=t[1]):r[`$$${e}`]=t}function fn(r,e,t){return G(()=>r(e,t))}function w(r,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return Ze(r,e,n,t);D(s=>Ze(r,e(),s,t),n)}function hn(r){let e=r.target;const t=`$$${r.type}`,n=r.target,s=r.currentTarget,a=d=>Object.defineProperty(r,"target",{configurable:!0,value:d}),c=()=>{const d=e[t];if(d&&!e.disabled){const i=e[`${t}Data`];if(i!==void 0?d.call(e,i,r):d.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&a(e.host),!0},o=()=>{for(;c()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const d=r.composedPath();a(d[0]);for(let i=0;i<d.length-2&&(e=d[i],!!c());i++){if(e._$host){e=e._$host,o();break}if(e.parentNode===s)break}}else o();a(n)}function Ze(r,e,t,n,s){for(;typeof t=="function";)t=t();if(e===t)return t;const a=typeof e,c=n!==void 0;if(r=c&&t[0]&&t[0].parentNode||r,a==="string"||a==="number"){if(a==="number"&&(e=e.toString(),e===t))return t;if(c){let o=t[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),t=fe(r,t,n,o)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||a==="boolean")t=fe(r,t,n);else{if(a==="function")return D(()=>{let o=e();for(;typeof o=="function";)o=o();t=Ze(r,o,t,n)}),()=>t;if(Array.isArray(e)){const o=[],d=t&&Array.isArray(t);if(Mt(o,e,t,s))return D(()=>t=Ze(r,o,t,n,!0)),()=>t;if(o.length===0){if(t=fe(r,t,n),c)return t}else d?t.length===0?Gt(r,o,n):un(r,t,o):(t&&fe(r),Gt(r,o));t=o}else if(e.nodeType){if(Array.isArray(t)){if(c)return t=fe(r,t,n,e);fe(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}}return t}function Mt(r,e,t,n){let s=!1;for(let a=0,c=e.length;a<c;a++){let o=e[a],d=t&&t[r.length],i;if(!(o==null||o===!0||o===!1))if((i=typeof o)=="object"&&o.nodeType)r.push(o);else if(Array.isArray(o))s=Mt(r,o,d)||s;else if(i==="function")if(n){for(;typeof o=="function";)o=o();s=Mt(r,Array.isArray(o)?o:[o],Array.isArray(d)?d:[d])||s}else r.push(o),s=!0;else{const l=String(o);d&&d.nodeType===3&&d.data===l?r.push(d):r.push(document.createTextNode(l))}}return s}function Gt(r,e,t=null){for(let n=0,s=e.length;n<s;n++)r.insertBefore(e[n],t)}function fe(r,e,t,n){if(t===void 0)return r.textContent="";const s=n||document.createTextNode("");if(e.length){let a=!1;for(let c=e.length-1;c>=0;c--){const o=e[c];if(s!==o){const d=o.parentNode===r;!a&&!c?d?r.replaceChild(s,o):r.insertBefore(s,t):d&&o.remove()}else a=!0}}else r.insertBefore(s,t);return[s]}const pn=()=>{},Sr=!1,mn="http://www.w3.org/2000/svg";function gn(r,e=!1){return e?document.createElementNS(mn,r):document.createElement(r)}function wn(r){const{useShadow:e}=r,t=document.createTextNode(""),n=()=>r.mount||document.body,s=Ot();let a;return Be(()=>{a||(a=Tt(s,()=>k(()=>r.children)));const c=n();if(c instanceof HTMLHeadElement){const[o,d]=$(!1),i=()=>d(!0);Ft(l=>w(c,()=>o()?l():a(),null)),J(i)}else{const o=gn(r.isSVG?"g":"div",r.isSVG),d=e&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return t.parentNode},configurable:!0}),w(d,a),c.appendChild(o),r.ref&&r.ref(o),J(()=>c.removeChild(o))}},void 0,{render:!0}),t}function kr(){let r=new Set;function e(s){return r.add(s),()=>r.delete(s)}let t=!1;function n(s,a){if(t)return!(t=!1);const c={to:s,options:a,defaultPrevented:!1,preventDefault:()=>c.defaultPrevented=!0};for(const o of r)o.listener({...c,from:o.location,retry:d=>{d&&(t=!0),o.navigate(s,{...a,resolve:!1})}});return!c.defaultPrevented}return{subscribe:e,confirm:n}}let Pt;function Lt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Pt=window.history.state._depth}Lt();function vn(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function bn(r,e){let t=!1;return()=>{const n=Pt;Lt();const s=n==null?null:Pt-n;if(t){t=!1;return}s&&e(s)?(t=!0,window.history.go(-s)):r()}}const yn=/^(?:[a-z0-9]+:)?\/\//i,Sn=/^\/+|(\/)\/+$/g,_r="http://sr";function Ae(r,e=!1){const t=r.replace(Sn,"$1");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function Ge(r,e,t){if(yn.test(e))return;const n=Ae(r),s=t&&Ae(t);let a="";return!s||e.startsWith("/")?a=n:s.toLowerCase().indexOf(n.toLowerCase())!==0?a=n+s:a=s,(a||"/")+Ae(e,!a)}function kn(r,e){if(r==null)throw new Error(e);return r}function _n(r,e){return Ae(r).replace(/\/*(\*.*)?$/g,"")+Ae(e)}function Mr(r){const e={};return r.searchParams.forEach((t,n)=>{n in e?Array.isArray(e[n])?e[n].push(t):e[n]=[e[n],t]:e[n]=t}),e}function Mn(r,e,t){const[n,s]=r.split("/*",2),a=n.split("/").filter(Boolean),c=a.length;return o=>{const d=o.split("/").filter(Boolean),i=d.length-c;if(i<0||i>0&&s===void 0&&!e)return null;const l={path:c?"":"/",params:{}},u=f=>t===void 0?void 0:t[f];for(let f=0;f<c;f++){const h=a[f],m=h[0]===":",p=m?d[f]:d[f].toLowerCase(),v=m?h.slice(1):h.toLowerCase();if(m&&pt(p,u(v)))l.params[v]=p;else if(m||!pt(p,v))return null;l.path+=`/${p}`}if(s){const f=i?d.slice(-i).join("/"):"";if(pt(f,u(s)))l.params[s]=f;else return null}return l}}function pt(r,e){const t=n=>n===r;return e===void 0?!0:typeof e=="string"?t(e):typeof e=="function"?e(r):Array.isArray(e)?e.some(t):e instanceof RegExp?e.test(r):!1}function Pn(r){const[e,t]=r.pattern.split("/*",2),n=e.split("/").filter(Boolean);return n.reduce((s,a)=>s+(a.startsWith(":")?2:3),n.length-(t===void 0?0:1))}function Pr(r){const e=new Map,t=Ot();return new Proxy({},{get(n,s){return e.has(s)||Tt(t,()=>e.set(s,k(()=>r()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function xr(r){let e=/(\/?\:[^\/]+)\?/.exec(r);if(!e)return[r];let t=r.slice(0,e.index),n=r.slice(e.index+e[0].length);const s=[t,t+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(n);)s.push(t+=e[1]),n=n.slice(e[0].length);return xr(n).reduce((a,c)=>[...a,...s.map(o=>o+c)],[])}const xn=100,Ar=be(),Cr=be(),qt=()=>kn(ye(Ar),"<A> and 'use' router primitives can be only used inside a Route."),An=r=>{const e=qt();return k(()=>{const t=r();return t!==void 0?e.renderPath(t):t})},Cn=()=>qt().navigatorFactory(),$n=()=>qt().params;function En(r,e=""){const{component:t,preload:n,load:s,children:a,info:c}=r,o=!a||Array.isArray(a)&&!a.length,d={key:r,component:t,preload:n||s,info:c};return $r(r.path).reduce((i,l)=>{for(const u of xr(l)){const f=_n(e,u);let h=o?f:f.split("/*",1)[0];h=h.split("/").map(m=>m.startsWith(":")||m.startsWith("*")?m:encodeURIComponent(m)).join("/"),i.push({...d,originalPath:l,pattern:h,matcher:Mn(h,!o,r.matchFilters)})}return i},[])}function Fn(r,e=0){return{routes:r,score:Pn(r[r.length-1])*1e4-e,matcher(t){const n=[];for(let s=r.length-1;s>=0;s--){const a=r[s],c=a.matcher(t);if(!c)return null;n.unshift({...c,route:a})}return n}}}function $r(r){return Array.isArray(r)?r:[r]}function Er(r,e="",t=[],n=[]){const s=$r(r);for(let a=0,c=s.length;a<c;a++){const o=s[a];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const d=En(o,e);for(const i of d){t.push(i);const l=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!l)Er(o.children,i.pattern,t,n);else{const u=Fn([...t],n.length);n.push(u)}t.pop()}}}return t.length?n:n.sort((a,c)=>c.score-a.score)}function mt(r,e){for(let t=0,n=r.length;t<n;t++){const s=r[t].matcher(e);if(s)return s}return[]}function Rn(r,e,t){const n=new URL(_r),s=k(l=>{const u=r();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),l}},n,{equals:(l,u)=>l.href===u.href}),a=k(()=>s().pathname),c=k(()=>s().search,!0),o=k(()=>s().hash),d=()=>"",i=Rt(c,()=>Mr(s()));return{get pathname(){return a()},get search(){return c()},get hash(){return o()},get state(){return e()},get key(){return d()},query:t?t(i):Pr(i)}}let oe;function On(){return oe}function Tn(r,e,t,n={}){const{signal:[s,a],utils:c={}}=r,o=c.parsePath||(P=>P),d=c.renderPath||(P=>P),i=c.beforeLeave||kr(),l=Ge("",n.base||"");if(l===void 0)throw new Error(`${l} is not a valid base path`);l&&!s().value&&a({value:l,replace:!0,scroll:!1});const[u,f]=$(!1);let h;const m=(P,C)=>{C.value===p()&&C.state===S()||(h===void 0&&f(!0),oe=P,h=C,Xr(()=>{h===C&&(v(h.value),_(h.state),cn(),W[1](U=>U.filter(ue=>ue.pending)))}).finally(()=>{h===C&&Qr(()=>{oe=void 0,P==="navigate"&&le(h),f(!1),h=void 0})}))},[p,v]=$(s().value),[S,_]=$(s().state),T=Rn(p,S,c.queryWrapper),q=[],W=$([]),H=k(()=>typeof n.transformUrl=="function"?mt(e(),n.transformUrl(T.pathname)):mt(e(),T.pathname)),re=()=>{const P=H(),C={};for(let U=0;U<P.length;U++)Object.assign(C,P[U].params);return C},ce=c.paramsWrapper?c.paramsWrapper(re,e):Pr(re),V={pattern:l,path:()=>l,outlet:()=>null,resolvePath(P){return Ge(l,P)}};return D(Rt(s,P=>m("native",P),{defer:!0})),{base:V,location:T,params:ce,isRouting:u,renderPath:d,parsePath:o,navigatorFactory:K,matches:H,beforeLeave:i,preloadRoute:Wr,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:W};function Ne(P,C,U){G(()=>{if(typeof C=="number"){C&&(c.go?c.go(C):console.warn("Router integration does not support relative routing"));return}const ue=!C||C[0]==="?",{replace:ut,resolve:de,scroll:dt,state:ke}={replace:!1,resolve:!ue,scroll:!0,...U},Ie=de?P.resolvePath(C):Ge(ue&&T.pathname||"",C);if(Ie===void 0)throw new Error(`Path '${C}' is not a routable path`);if(q.length>=xn)throw new Error("Too many redirects");const jt=p();(Ie!==jt||ke!==S())&&(Sr||i.confirm(Ie,U)&&(q.push({value:jt,replace:ut,scroll:dt,state:S()}),m("navigate",{value:Ie,state:ke})))})}function K(P){return P=P||ye(Cr)||V,(C,U)=>Ne(P,C,U)}function le(P){const C=q[0];C&&(a({...P,replace:C.replace,scroll:C.scroll}),q.length=0)}function Wr(P,C){const U=mt(e(),P.pathname),ue=oe;oe="preload";for(let ut in U){const{route:de,params:dt}=U[ut];de.component&&de.component.preload&&de.component.preload();const{preload:ke}=de;C&&ke&&Tt(t(),()=>ke({params:dt,location:{pathname:P.pathname,search:P.search,hash:P.hash,query:Mr(P),state:null,key:""},intent:"preload"}))}oe=ue}}function Bn(r,e,t,n){const{base:s,location:a,params:c}=r,{pattern:o,component:d,preload:i}=n().route,l=k(()=>n().path);d&&d.preload&&d.preload();const u=i?i({params:c,location:a,intent:oe||"initial"}):void 0;return{parent:e,pattern:o,path:l,outlet:()=>d?b(d,{params:c,location:a,data:u,get children(){return t()}}):t(),resolvePath(h){return Ge(s.path(),h,l())}}}const Fr=r=>e=>{const{base:t}=e,n=X(()=>e.children),s=k(()=>Er(n(),e.base||""));let a;const c=Tn(r,s,()=>a,{base:t,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return r.create&&r.create(c),b(Ar.Provider,{value:c,get children(){return b(Ln,{routerState:c,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[k(()=>(a=Ot())&&null),b(qn,{routerState:c,get branches(){return s()}})]}})}})};function Ln(r){const e=r.routerState.location,t=r.routerState.params,n=k(()=>r.preload&&G(()=>{r.preload({params:t,location:e,intent:On()||"initial"})}));return b(st,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:s=>b(s,{params:t,location:e,get data(){return n()},get children(){return r.children}})})}function qn(r){const e=[];let t;const n=k(Rt(r.routerState.matches,(s,a,c)=>{let o=a&&s.length===a.length;const d=[];for(let i=0,l=s.length;i<l;i++){const u=a&&a[i],f=s[i];c&&u&&f.route.key===u.route.key?d[i]=c[i]:(o=!1,e[i]&&e[i](),Ft(h=>{e[i]=h,d[i]=Bn(r.routerState,d[i-1]||r.routerState.base,Ht(()=>n()[i+1]),()=>r.routerState.matches()[i])}))}return e.splice(s.length).forEach(i=>i()),c&&o?c:(t=d[0],d)}));return Ht(()=>n()&&t)()}const Ht=r=>()=>b(st,{get when(){return r()},keyed:!0,children:e=>b(Cr.Provider,{value:e,get children(){return e.outlet()}})}),Ue=r=>{const e=X(()=>r.children);return on(r,{get children(){return e()}})};function Nn([r,e],t,n){return[r,s=>e(n(s))]}function In(r){let e=!1;const t=s=>typeof s=="string"?{value:s}:s,n=Nn($(t(r.get()),{equals:(s,a)=>s.value===a.value&&s.state===a.state}),void 0,s=>(!e&&r.set(s),s));return r.init&&J(r.init((s=r.get())=>{e=!0,n[1](t(s)),e=!1})),Fr({signal:n,create:r.create,utils:r.utils})}function Vn(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}function Un(r,e){const t=r&&document.getElementById(r);t?t.scrollIntoView():e&&window.scrollTo(0,0)}function zn(r){const e=new URL(r);return e.pathname+e.search}function jn(r){let e;const t={value:r.url||(e=pn())&&zn(e.request.url)||""};return Fr({signal:[()=>t,n=>Object.assign(t,n)]})(r)}const Dn=new Map;function Wn(r=!0,e=!1,t="/_server",n){return s=>{const a=s.base.path(),c=s.navigatorFactory(s.base);let o,d;function i(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function l(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const v=p.composedPath().find(H=>H instanceof Node&&H.nodeName.toUpperCase()==="A");if(!v||e&&!v.hasAttribute("link"))return;const S=i(v),_=S?v.href.baseVal:v.href;if((S?v.target.baseVal:v.target)||!_&&!v.hasAttribute("state"))return;const q=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||q&&q.includes("external"))return;const W=S?new URL(_,document.baseURI):new URL(_);if(!(W.origin!==window.location.origin||a&&W.pathname&&!W.pathname.toLowerCase().startsWith(a.toLowerCase())))return[v,W]}function u(p){const v=l(p);if(!v)return;const[S,_]=v,T=s.parsePath(_.pathname+_.search+_.hash),q=S.getAttribute("state");p.preventDefault(),c(T,{resolve:!1,replace:S.hasAttribute("replace"),scroll:!S.hasAttribute("noscroll"),state:q?JSON.parse(q):void 0})}function f(p){const v=l(p);if(!v)return;const[S,_]=v;n&&(_.pathname=n(_.pathname)),s.preloadRoute(_,S.getAttribute("preload")!=="false")}function h(p){clearTimeout(o);const v=l(p);if(!v)return d=null;const[S,_]=v;d!==S&&(n&&(_.pathname=n(_.pathname)),o=setTimeout(()=>{s.preloadRoute(_,S.getAttribute("preload")!=="false"),d=S},20))}function m(p){if(p.defaultPrevented)return;let v=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const _=new URL(v,_r);if(v=s.parsePath(_.pathname+_.search),!v.startsWith(t))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const S=Dn.get(v);if(S){p.preventDefault();const _=new FormData(p.target,p.submitter);S.call({r:s,f:p.target},p.target.enctype==="multipart/form-data"?_:new URLSearchParams(_))}}Se(["click","submit"]),document.addEventListener("click",u),r&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",m),J(()=>{document.removeEventListener("click",u),r&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",m)})}}function Gn(r){if(Sr)return jn(r);const e=()=>{const n=window.location.pathname.replace(/^\/+/,"/")+window.location.search,s=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:n+window.location.hash,state:s}},t=kr();return In({get:e,set({value:n,replace:s,scroll:a,state:c}){s?window.history.replaceState(vn(c),"",n):window.history.pushState(c,"",n),Un(decodeURIComponent(window.location.hash.slice(1)),a),Lt()},init:n=>Vn(window,"popstate",bn(n,s=>{if(s&&s<0)return!t.confirm(s);{const a=e();return!t.confirm(a.value,{state:a.state})}})),create:Wn(r.preload,r.explicitLinks,r.actionBase,r.transformUrl),utils:{go:n=>window.history.go(n),beforeLeave:t}})(r)}var gt={},ze={},He={exports:{}},Hn=He.exports,Kt;function Kn(){return Kt||(Kt=1,function(r,e){(function(t,n){r.exports=n()})(Hn,function(){return function(t){var n={};function s(a){if(n[a])return n[a].exports;var c=n[a]={i:a,l:!1,exports:{}};return t[a].call(c.exports,c,c.exports,s),c.l=!0,c.exports}return s.m=t,s.c=n,s.d=function(a,c,o){s.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:o})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,c){if(1&c&&(a=s(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var d in a)s.d(o,d,function(i){return a[i]}.bind(null,d));return o},s.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(c,"a",c),c},s.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},s.p="",s(s.s=90)}({17:function(t,n,s){n.__esModule=!0,n.default=void 0;var a=s(18),c=function(){function o(){}return o.getFirstMatch=function(d,i){var l=i.match(d);return l&&l.length>0&&l[1]||""},o.getSecondMatch=function(d,i){var l=i.match(d);return l&&l.length>1&&l[2]||""},o.matchAndReturnConst=function(d,i,l){if(d.test(i))return l},o.getWindowsVersionName=function(d){switch(d){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},o.getMacOSVersionName=function(d){var i=d.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(i.push(0),i[0]===10)switch(i[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},o.getAndroidVersionName=function(d){var i=d.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(i.push(0),!(i[0]===1&&i[1]<5))return i[0]===1&&i[1]<6?"Cupcake":i[0]===1&&i[1]>=6?"Donut":i[0]===2&&i[1]<2?"Eclair":i[0]===2&&i[1]===2?"Froyo":i[0]===2&&i[1]>2?"Gingerbread":i[0]===3?"Honeycomb":i[0]===4&&i[1]<1?"Ice Cream Sandwich":i[0]===4&&i[1]<4?"Jelly Bean":i[0]===4&&i[1]>=4?"KitKat":i[0]===5?"Lollipop":i[0]===6?"Marshmallow":i[0]===7?"Nougat":i[0]===8?"Oreo":i[0]===9?"Pie":void 0},o.getVersionPrecision=function(d){return d.split(".").length},o.compareVersions=function(d,i,l){l===void 0&&(l=!1);var u=o.getVersionPrecision(d),f=o.getVersionPrecision(i),h=Math.max(u,f),m=0,p=o.map([d,i],function(v){var S=h-o.getVersionPrecision(v),_=v+new Array(S+1).join(".0");return o.map(_.split("."),function(T){return new Array(20-T.length).join("0")+T}).reverse()});for(l&&(m=h-Math.min(u,f)),h-=1;h>=m;){if(p[0][h]>p[1][h])return 1;if(p[0][h]===p[1][h]){if(h===m)return 0;h-=1}else if(p[0][h]<p[1][h])return-1}},o.map=function(d,i){var l,u=[];if(Array.prototype.map)return Array.prototype.map.call(d,i);for(l=0;l<d.length;l+=1)u.push(i(d[l]));return u},o.find=function(d,i){var l,u;if(Array.prototype.find)return Array.prototype.find.call(d,i);for(l=0,u=d.length;l<u;l+=1){var f=d[l];if(i(f,l))return f}},o.assign=function(d){for(var i,l,u=d,f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];if(Object.assign)return Object.assign.apply(Object,[d].concat(h));var p=function(){var v=h[i];typeof v=="object"&&v!==null&&Object.keys(v).forEach(function(S){u[S]=v[S]})};for(i=0,l=h.length;i<l;i+=1)p();return d},o.getBrowserAlias=function(d){return a.BROWSER_ALIASES_MAP[d]},o.getBrowserTypeByAlias=function(d){return a.BROWSER_MAP[d]||""},o}();n.default=c,t.exports=n.default},18:function(t,n,s){n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,n,s){n.__esModule=!0,n.default=void 0;var a,c=(a=s(91))&&a.__esModule?a:{default:a},o=s(18);function d(l,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var i=function(){function l(){}var u,f,h;return l.getParser=function(m,p){if(p===void 0&&(p=!1),typeof m!="string")throw new Error("UserAgent should be a string");return new c.default(m,p)},l.parse=function(m){return new c.default(m).getResult()},u=l,h=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(f=null)&&d(u.prototype,f),h&&d(u,h),l}();n.default=i,t.exports=n.default},91:function(t,n,s){n.__esModule=!0,n.default=void 0;var a=l(s(92)),c=l(s(93)),o=l(s(94)),d=l(s(95)),i=l(s(17));function l(f){return f&&f.__esModule?f:{default:f}}var u=function(){function f(m,p){if(p===void 0&&(p=!1),m==null||m==="")throw new Error("UserAgent parameter can't be empty");this._ua=m,this.parsedResult={},p!==!0&&this.parse()}var h=f.prototype;return h.getUA=function(){return this._ua},h.test=function(m){return m.test(this._ua)},h.parseBrowser=function(){var m=this;this.parsedResult.browser={};var p=i.default.find(a.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(S){return m.test(S)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(m){return m?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var m=this;this.parsedResult.os={};var p=i.default.find(c.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(S){return m.test(S)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(m){var p=this.getOS().name;return m?String(p).toLowerCase()||"":p||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(m){m===void 0&&(m=!1);var p=this.getPlatform().type;return m?String(p).toLowerCase()||"":p||""},h.parsePlatform=function(){var m=this;this.parsedResult.platform={};var p=i.default.find(o.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(S){return m.test(S)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(m){return m?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var m=this;this.parsedResult.engine={};var p=i.default.find(d.default,function(v){if(typeof v.test=="function")return v.test(m);if(v.test instanceof Array)return v.test.some(function(S){return m.test(S)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return i.default.assign({},this.parsedResult)},h.satisfies=function(m){var p=this,v={},S=0,_={},T=0;if(Object.keys(m).forEach(function(K){var le=m[K];typeof le=="string"?(_[K]=le,T+=1):typeof le=="object"&&(v[K]=le,S+=1)}),S>0){var q=Object.keys(v),W=i.default.find(q,function(K){return p.isOS(K)});if(W){var H=this.satisfies(v[W]);if(H!==void 0)return H}var re=i.default.find(q,function(K){return p.isPlatform(K)});if(re){var ce=this.satisfies(v[re]);if(ce!==void 0)return ce}}if(T>0){var V=Object.keys(_),Ne=i.default.find(V,function(K){return p.isBrowser(K,!0)});if(Ne!==void 0)return this.compareVersion(_[Ne])}},h.isBrowser=function(m,p){p===void 0&&(p=!1);var v=this.getBrowserName().toLowerCase(),S=m.toLowerCase(),_=i.default.getBrowserTypeByAlias(S);return p&&_&&(S=_.toLowerCase()),S===v},h.compareVersion=function(m){var p=[0],v=m,S=!1,_=this.getBrowserVersion();if(typeof _=="string")return m[0]===">"||m[0]==="<"?(v=m.substr(1),m[1]==="="?(S=!0,v=m.substr(2)):p=[],m[0]===">"?p.push(1):p.push(-1)):m[0]==="="?v=m.substr(1):m[0]==="~"&&(S=!0,v=m.substr(1)),p.indexOf(i.default.compareVersions(_,v,S))>-1},h.isOS=function(m){return this.getOSName(!0)===String(m).toLowerCase()},h.isPlatform=function(m){return this.getPlatformType(!0)===String(m).toLowerCase()},h.isEngine=function(m){return this.getEngineName(!0)===String(m).toLowerCase()},h.is=function(m,p){return p===void 0&&(p=!1),this.isBrowser(m,p)||this.isOS(m)||this.isPlatform(m)},h.some=function(m){var p=this;return m===void 0&&(m=[]),m.some(function(v){return p.is(v)})},f}();n.default=u,t.exports=n.default},92:function(t,n,s){n.__esModule=!0,n.default=void 0;var a,c=(a=s(17))&&a.__esModule?a:{default:a},o=/version\/(\d+(\.?_?\d+)+)/i,d=[{test:[/googlebot/i],describe:function(i){var l={name:"Googlebot"},u=c.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/opera/i],describe:function(i){var l={name:"Opera"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/opr\/|opios/i],describe:function(i){var l={name:"Opera"},u=c.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/SamsungBrowser/i],describe:function(i){var l={name:"Samsung Internet for Android"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/Whale/i],describe:function(i){var l={name:"NAVER Whale Browser"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/MZBrowser/i],describe:function(i){var l={name:"MZ Browser"},u=c.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/focus/i],describe:function(i){var l={name:"Focus"},u=c.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/swing/i],describe:function(i){var l={name:"Swing"},u=c.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/coast/i],describe:function(i){var l={name:"Opera Coast"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(i){var l={name:"Opera Touch"},u=c.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/yabrowser/i],describe:function(i){var l={name:"Yandex Browser"},u=c.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/ucbrowser/i],describe:function(i){var l={name:"UC Browser"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/Maxthon|mxios/i],describe:function(i){var l={name:"Maxthon"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/epiphany/i],describe:function(i){var l={name:"Epiphany"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/puffin/i],describe:function(i){var l={name:"Puffin"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/sleipnir/i],describe:function(i){var l={name:"Sleipnir"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/k-meleon/i],describe:function(i){var l={name:"K-Meleon"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/micromessenger/i],describe:function(i){var l={name:"WeChat"},u=c.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/qqbrowser/i],describe:function(i){var l={name:/qqbrowserlite/i.test(i)?"QQ Browser Lite":"QQ Browser"},u=c.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/msie|trident/i],describe:function(i){var l={name:"Internet Explorer"},u=c.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/\sedg\//i],describe:function(i){var l={name:"Microsoft Edge"},u=c.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/edg([ea]|ios)/i],describe:function(i){var l={name:"Microsoft Edge"},u=c.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/vivaldi/i],describe:function(i){var l={name:"Vivaldi"},u=c.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/seamonkey/i],describe:function(i){var l={name:"SeaMonkey"},u=c.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/sailfish/i],describe:function(i){var l={name:"Sailfish"},u=c.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,i);return u&&(l.version=u),l}},{test:[/silk/i],describe:function(i){var l={name:"Amazon Silk"},u=c.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/phantom/i],describe:function(i){var l={name:"PhantomJS"},u=c.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/slimerjs/i],describe:function(i){var l={name:"SlimerJS"},u=c.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(i){var l={name:"BlackBerry"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/(web|hpw)[o0]s/i],describe:function(i){var l={name:"WebOS Browser"},u=c.default.getFirstMatch(o,i)||c.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/bada/i],describe:function(i){var l={name:"Bada"},u=c.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/tizen/i],describe:function(i){var l={name:"Tizen"},u=c.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/qupzilla/i],describe:function(i){var l={name:"QupZilla"},u=c.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(i){var l={name:"Firefox"},u=c.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/electron/i],describe:function(i){var l={name:"Electron"},u=c.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/MiuiBrowser/i],describe:function(i){var l={name:"Miui"},u=c.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/chromium/i],describe:function(i){var l={name:"Chromium"},u=c.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,i)||c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/chrome|crios|crmo/i],describe:function(i){var l={name:"Chrome"},u=c.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/GSA/i],describe:function(i){var l={name:"Google Search"},u=c.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){var l=!i.test(/like android/i),u=i.test(/android/i);return l&&u},describe:function(i){var l={name:"Android Browser"},u=c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/playstation 4/i],describe:function(i){var l={name:"PlayStation 4"},u=c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/safari|applewebkit/i],describe:function(i){var l={name:"Safari"},u=c.default.getFirstMatch(o,i);return u&&(l.version=u),l}},{test:[/.*/i],describe:function(i){var l=i.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:c.default.getFirstMatch(l,i),version:c.default.getSecondMatch(l,i)}}}];n.default=d,t.exports=n.default},93:function(t,n,s){n.__esModule=!0,n.default=void 0;var a,c=(a=s(17))&&a.__esModule?a:{default:a},o=s(18),d=[{test:[/Roku\/DVP/],describe:function(i){var l=c.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,i);return{name:o.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(i){var l=c.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,i);return{name:o.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(i){var l=c.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,i),u=c.default.getWindowsVersionName(l);return{name:o.OS_MAP.Windows,version:l,versionName:u}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(i){var l={name:o.OS_MAP.iOS},u=c.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,i);return u&&(l.version=u),l}},{test:[/macintosh/i],describe:function(i){var l=c.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,i).replace(/[_\s]/g,"."),u=c.default.getMacOSVersionName(l),f={name:o.OS_MAP.MacOS,version:l};return u&&(f.versionName=u),f}},{test:[/(ipod|iphone|ipad)/i],describe:function(i){var l=c.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,i).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:l}}},{test:function(i){var l=!i.test(/like android/i),u=i.test(/android/i);return l&&u},describe:function(i){var l=c.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,i),u=c.default.getAndroidVersionName(l),f={name:o.OS_MAP.Android,version:l};return u&&(f.versionName=u),f}},{test:[/(web|hpw)[o0]s/i],describe:function(i){var l=c.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,i),u={name:o.OS_MAP.WebOS};return l&&l.length&&(u.version=l),u}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(i){var l=c.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,i)||c.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,i)||c.default.getFirstMatch(/\bbb(\d+)/i,i);return{name:o.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(i){var l=c.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,i);return{name:o.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(i){var l=c.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,i);return{name:o.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(i){var l=c.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,i);return{name:o.OS_MAP.PlayStation4,version:l}}}];n.default=d,t.exports=n.default},94:function(t,n,s){n.__esModule=!0,n.default=void 0;var a,c=(a=s(17))&&a.__esModule?a:{default:a},o=s(18),d=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(i){var l=c.default.getFirstMatch(/(can-l01)/i,i)&&"Nova",u={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(u.model=l),u}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(i){var l=i.test(/ipod|iphone/i),u=i.test(/like (ipod|iphone)/i);return l&&!u},describe:function(i){var l=c.default.getFirstMatch(/(ipod|iphone)/i,i);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getBrowserName(!0)==="blackberry"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(i){return i.getBrowserName(!0)==="bada"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getBrowserName()==="windows phone"},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(i){var l=Number(String(i.getOSVersion()).split(".")[0]);return i.getOSName(!0)==="android"&&l>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(i){return i.getOSName(!0)==="android"},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(i){return i.getOSName(!0)==="macos"},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(i){return i.getOSName(!0)==="windows"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(i){return i.getOSName(!0)==="linux"},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(i){return i.getOSName(!0)==="playstation 4"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(i){return i.getOSName(!0)==="roku"},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];n.default=d,t.exports=n.default},95:function(t,n,s){n.__esModule=!0,n.default=void 0;var a,c=(a=s(17))&&a.__esModule?a:{default:a},o=s(18),d=[{test:function(i){return i.getBrowserName(!0)==="microsoft edge"},describe:function(i){if(/\sedg\//i.test(i))return{name:o.ENGINE_MAP.Blink};var l=c.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,i);return{name:o.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(i){var l={name:o.ENGINE_MAP.Trident},u=c.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){return i.test(/presto/i)},describe:function(i){var l={name:o.ENGINE_MAP.Presto},u=c.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:function(i){var l=i.test(/gecko/i),u=i.test(/like gecko/i);return l&&!u},describe:function(i){var l={name:o.ENGINE_MAP.Gecko},u=c.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(i){var l={name:o.ENGINE_MAP.WebKit},u=c.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,i);return u&&(l.version=u),l}}];n.default=d,t.exports=n.default}})})}(He)),He.exports}var Qt;function Qn(){return Qt||(Qt=1,function(r){var e=ze.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(r,"__esModule",{value:!0}),r.requestVideoPermissions=r.requestAudioPermissions=r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;const t=e(Kn());var n;(function(o){o.SystemPermissionDenied="SystemPermissionDenied",o.UserPermissionDenied="UserPermissionDenied",o.CouldNotStartVideoSource="CouldNotStartVideoSource",o.Generic="Generic"})(n=r.MediaPermissionsErrorType||(r.MediaPermissionsErrorType={}));const s=o=>new Promise((d,i)=>{navigator.mediaDevices.getUserMedia(o??{audio:!0,video:!0}).then(l=>{l.getTracks().forEach(u=>{u.stop()}),d(!0)}).catch(l=>{const f=t.default.getParser(window.navigator.userAgent).getBrowserName(),h=l.name,m=l.message;let p=n.Generic;f==="Chrome"?h==="NotAllowedError"?m==="Permission denied by system"?p=n.SystemPermissionDenied:m==="Permission denied"&&(p=n.UserPermissionDenied):h==="NotReadableError"&&(p=n.CouldNotStartVideoSource):f==="Safari"?h==="NotAllowedError"&&(p=n.UserPermissionDenied):f==="Microsoft Edge"?h==="NotAllowedError"?p=n.UserPermissionDenied:h==="NotReadableError"&&(p=n.CouldNotStartVideoSource):f==="Firefox"&&(h==="NotFoundError"||h==="NotReadableError"?p=n.SystemPermissionDenied:h==="NotAllowedError"?p=n.UserPermissionDenied:h==="AbortError"&&(p=n.CouldNotStartVideoSource)),i({type:p,name:l.name,message:l.message})})});r.requestMediaPermissions=s;const a=()=>(0,r.requestMediaPermissions)({audio:!0,video:!1});r.requestAudioPermissions=a;const c=()=>(0,r.requestMediaPermissions)({audio:!1,video:!0});r.requestVideoPermissions=c}(ze)),ze}var Jt;function Jn(){return Jt||(Jt=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;var e=Qn();Object.defineProperty(r,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return e.MediaPermissionsErrorType}}),Object.defineProperty(r,"requestMediaPermissions",{enumerable:!0,get:function(){return e.requestMediaPermissions}})}(gt)),gt}var _e=Jn();const Xn={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Rr={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},E={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},N={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ne={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class g{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const s=g.getVersionPrecision(e),a=g.getVersionPrecision(t);let c=Math.max(s,a),o=0;const d=g.map([e,t],i=>{const l=c-g.getVersionPrecision(i),u=i+new Array(l+1).join(".0");return g.map(u.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(o=c-Math.min(s,a)),c-=1;c>=o;){if(d[0][c]>d[1][c])return 1;if(d[0][c]===d[1][c]){if(c===o)return 0;c-=1}else if(d[0][c]<d[1][c])return-1}}static map(e,t){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(s=0;s<e.length;s+=1)n.push(t(e[s]));return n}static find(e,t){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,s=e.length;n<s;n+=1){const a=e[n];if(t(a,n))return a}}static assign(e,...t){const n=e;let s,a;if(Object.assign)return Object.assign(e,...t);for(s=0,a=t.length;s<a;s+=1){const c=t[s];typeof c=="object"&&c!==null&&Object.keys(c).forEach(d=>{n[d]=c[d]})}return e}static getBrowserAlias(e){return Xn[e]}static getBrowserTypeByAlias(e){return Rr[e]||""}}const x=/version\/(\d+(\.?_?\d+)+)/i,Yn=[{test:[/googlebot/i],describe(r){const e={name:"Googlebot"},t=g.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/opera/i],describe(r){const e={name:"Opera"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(r){const e={name:"Opera"},t=g.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(r){const e={name:"Samsung Internet for Android"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Whale/i],describe(r){const e={name:"NAVER Whale Browser"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(r){const e={name:"MZ Browser"},t=g.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/focus/i],describe(r){const e={name:"Focus"},t=g.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/swing/i],describe(r){const e={name:"Swing"},t=g.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/coast/i],describe(r){const e={name:"Opera Coast"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const e={name:"Opera Touch"},t=g.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(r){const e={name:"Yandex Browser"},t=g.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(r){const e={name:"UC Browser"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(r){const e={name:"Maxthon"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(r){const e={name:"Epiphany"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/puffin/i],describe(r){const e={name:"Puffin"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(r){const e={name:"Sleipnir"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(r){const e={name:"K-Meleon"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(r){const e={name:"WeChat"},t=g.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(r){const e={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},t=g.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(r){const e={name:"Internet Explorer"},t=g.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(r){const e={name:"Microsoft Edge"},t=g.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(r){const e={name:"Microsoft Edge"},t=g.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(r){const e={name:"Vivaldi"},t=g.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(r){const e={name:"SeaMonkey"},t=g.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(r){const e={name:"Sailfish"},t=g.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return t&&(e.version=t),e}},{test:[/silk/i],describe(r){const e={name:"Amazon Silk"},t=g.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/phantom/i],describe(r){const e={name:"PhantomJS"},t=g.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(r){const e={name:"SlimerJS"},t=g.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e={name:"BlackBerry"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(r){const e={name:"WebOS Browser"},t=g.getFirstMatch(x,r)||g.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/bada/i],describe(r){const e={name:"Bada"},t=g.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/tizen/i],describe(r){const e={name:"Tizen"},t=g.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(r){const e={name:"QupZilla"},t=g.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(r){const e={name:"Firefox"},t=g.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/electron/i],describe(r){const e={name:"Electron"},t=g.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(r){const e={name:"Miui"},t=g.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/chromium/i],describe(r){const e={name:"Chromium"},t=g.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(r){const e={name:"Chrome"},t=g.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/GSA/i],describe(r){const e={name:"Google Search"},t=g.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e={name:"Android Browser"},t=g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(r){const e={name:"PlayStation 4"},t=g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(r){const e={name:"Safari"},t=g.getFirstMatch(x,r);return t&&(e.version=t),e}},{test:[/.*/i],describe(r){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,s=r.search("\\(")!==-1?t:e;return{name:g.getFirstMatch(s,r),version:g.getSecondMatch(s,r)}}}],Zn=[{test:[/Roku\/DVP/],describe(r){const e=g.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:N.Roku,version:e}}},{test:[/windows phone/i],describe(r){const e=g.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:N.WindowsPhone,version:e}}},{test:[/windows /i],describe(r){const e=g.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),t=g.getWindowsVersionName(e);return{name:N.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const e={name:N.iOS},t=g.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(r){const e=g.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),t=g.getMacOSVersionName(e),n={name:N.MacOS,version:e};return t&&(n.versionName=t),n}},{test:[/(ipod|iphone|ipad)/i],describe(r){const e=g.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:N.iOS,version:e}}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e=g.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),t=g.getAndroidVersionName(e),n={name:N.Android,version:e};return t&&(n.versionName=t),n}},{test:[/(web|hpw)[o0]s/i],describe(r){const e=g.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),t={name:N.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e=g.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||g.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||g.getFirstMatch(/\bbb(\d+)/i,r);return{name:N.BlackBerry,version:e}}},{test:[/bada/i],describe(r){const e=g.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:N.Bada,version:e}}},{test:[/tizen/i],describe(r){const e=g.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:N.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:N.Linux}}},{test:[/CrOS/],describe(){return{name:N.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const e=g.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:N.PlayStation4,version:e}}}],es=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const e=g.getFirstMatch(/(can-l01)/i,r)&&"Nova",t={type:E.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:E.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:E.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:E.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:E.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:E.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:E.tablet}}},{test(r){const e=r.test(/ipod|iphone/i),t=r.test(/like (ipod|iphone)/i);return e&&!t},describe(r){const e=g.getFirstMatch(/(ipod|iphone)/i,r);return{type:E.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:E.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:E.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:E.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:E.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:E.mobile,vendor:"Microsoft"}}},{test(r){const e=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&e>=3},describe(){return{type:E.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:E.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:E.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:E.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:E.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:E.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:E.tv}}}],ts=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:ne.Blink};const t=g.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:ne.EdgeHTML,version:t}}},{test:[/trident/i],describe(r){const e={name:ne.Trident},t=g.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){return r.test(/presto/i)},describe(r){const e={name:ne.Presto},t=g.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=r.test(/gecko/i),t=r.test(/like gecko/i);return e&&!t},describe(r){const e={name:ne.Gecko},t=g.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:ne.Blink}}},{test:[/(apple)?webkit/i],describe(r){const e={name:ne.WebKit},t=g.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}}];class Xt{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=g.find(Yn,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=g.find(Zn,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=g.find(es,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=g.find(ts,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return g.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const s={};let a=0;if(Object.keys(e).forEach(o=>{const d=e[o];typeof d=="string"?(s[o]=d,a+=1):typeof d=="object"&&(t[o]=d,n+=1)}),n>0){const o=Object.keys(t),d=g.find(o,l=>this.isOS(l));if(d){const l=this.satisfies(t[d]);if(l!==void 0)return l}const i=g.find(o,l=>this.isPlatform(l));if(i){const l=this.satisfies(t[i]);if(l!==void 0)return l}}if(a>0){const o=Object.keys(s),d=g.find(o,i=>this.isBrowser(i,!0));if(d!==void 0)return this.compareVersion(s[d])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const a=g.getBrowserTypeByAlias(s);return t&&a&&(s=a.toLowerCase()),s===n}compareVersion(e){let t=[0],n=e,s=!1;const a=this.getBrowserVersion();if(typeof a=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),t.indexOf(g.compareVersions(a,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}class rs{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Xt(e,t)}static parse(e){return new Xt(e).getResult()}static get BROWSER_MAP(){return Rr}static get ENGINE_MAP(){return ne}static get OS_MAP(){return N}static get PLATFORMS_MAP(){return E}}let je;const Nt=()=>je||(je=rs.parse(window.navigator.userAgent),je),ns=r=>(r.stack??=new Error().stack,r),Y=async r=>{try{return await r()}catch(e){throw ns(e instanceof Error?e:new Error(e?.toString()))}};function Or(r){return{...Yt,video:{...Yt.video,deviceId:{exact:r}}}}const Yt={audio:!1,video:{facingMode:{ideal:"environment"},frameRate:{ideal:60,min:30},sampleRate:{ideal:60,min:30}}},[Tr,ss]=$([]);async function it(){if(navigator.mediaDevices?.enumerateDevices)try{const e=(await Y(()=>navigator.mediaDevices?.enumerateDevices())).filter(t=>t.kind==="videoinput");Tr().length!==e.length&&ss(e)}catch(r){if(r.message.includes("Illegal invocation"))return;throw r}}function is(){if(!("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices)){B("error:nosupport");return}navigator.permissions.query({name:"camera"}).then(e=>{e.state==="granted"&&B("granted"),e.state==="denied"&&B("denied")}).catch(e=>{console.error(e)}).finally(it)}const[O,B]=$("unknown");is();const[Fe,xt]=$(),Re=new Map,Zt=()=>Fe()?Re.get(Fe().id):void 0;async function It(){for(const[r,e]of Re){const t=e;if(!t){Re.delete(r);continue}if(t.active){t.getTracks().forEach(n=>{n.readyState!=="ended"&&(n.stop(),n.enabled=!1)});try{t.stop&&t.stop()}catch{}xt(void 0)}}await new Promise(r=>setTimeout(r,200))}const pe=()=>O().startsWith("error"),Br=()=>O()==="unknown"||O()==="error:inuse",Lr=()=>O()==="granted",At=be({permission:O,hasPermission:Lr,hasErrored:pe,canPrompt:Br,hasMediaSupport:()=>O()!=="error:nosupport",requestCamera:Nr,stopCameraStream:It,requestPermission:os,devices:Tr,camera:Fe,cameraStream:()=>{}}),te=()=>ye(At);async function os(){if(!Br())return O();B("pending");const r=localStorage.getItem("camera")??void 0;return await _e.requestMediaPermissions(Or(r)).then(async()=>(await it(),await Vt(),B("granted"))).catch(e=>qr(e,r))}function qr(r,e){const{type:t,message:n,name:s}=r;return t===_e.MediaPermissionsErrorType.SystemPermissionDenied?B("denied:system"):t===_e.MediaPermissionsErrorType.UserPermissionDenied?B("denied"):t===_e.MediaPermissionsErrorType.CouldNotStartVideoSource||s==="AbortError"&&n==="Starting videoinput failed"||s==="NotReadableError"?B("error:inuse"):t===_e.MediaPermissionsErrorType.Generic&&n==="Permission dismissed"?B("unknown"):s==="OverconstrainedError"&&(r.constraint==="deviceId"||n==="")&&e?(localStorage.removeItem("camera"),B("error:inuse")):(console.error(r),B("error"))}function Nr(r){if(O()!=="granted")throw new Error("Call 'requestPermission' before 'getStream'");return Vt(r)}async function Vt(r){if(pe())return{id:"",label:"X",facing:"loading",name:"X"};const e=localStorage.getItem("camera")??void 0,t=r??e??void 0;Fe()?.id!==t&&await It();const n=await Y(()=>navigator.mediaDevices.getUserMedia(Or(t))).catch(a=>{if(a.name==="NotReadableError"){localStorage.setItem("camera",t),window.location.reload();return}if(qr(a,e)==="error")throw a});if(!n)return{id:t,label:"?",facing:"loading",name:""};if(await it(),r&&Re.set(r,n),!n.active||!n.getTracks())return localStorage.setItem("camera",t),O()==="error:inuse"?(xt(void 0),{id:t,label:"X",facing:"loading",name:"X"}):{id:t,label:"?",facing:"loading",name:""};const s=n.getTracks()[0].getSettings().deviceId;return Re.set(s,n),localStorage.setItem("camera",s),xt({id:s,name:n.getTracks()[0].label,label:n.getTracks()[0].label.split("(")[0].split(",")[0].trim(),facing:Nt().platform.type==="desktop"?"desktop":n.getTracks()[0].getSettings().facingMode})}const as=r=>{const[e,t]=$(!1),n=s=>async a=>{pe()||(await it(),s.state==="granted"&&O()!=="granted"&&!pe()&&await Vt().then(()=>B("granted")),s.state==="denied"&&B("denied"),s.state==="prompt"&&B("unknown"))};return ee(async()=>{const s=()=>{O()!=="pending"&&(pe()||Y(()=>navigator.permissions.query({name:"camera"})).then(a=>{n(a)()}).catch(()=>{}).finally(()=>window.setTimeout(()=>requestAnimationFrame(s),10)))};await Y(()=>navigator.permissions.query({name:"camera"})).then(a=>{a.onchange=n(a),requestAnimationFrame(s)}).catch(()=>{}),!e()&&(Lr()&&!pe()&&!Zt()&&await Nr(),console.log("ctx",O()),t(!0))}),J(async()=>{await It()}),b(At.Provider,{get value(){return{...At.defaultValue,hasPermission:k(()=>O()==="granted",O),canPrompt:k(()=>O()==="unknown"||O()==="error:inuse",O),hasMediaSupport:k(()=>O()!=="error:nosupport",O),cameraStream:k(Zt,[Fe])}},get children(){return X(()=>r.children)()}})};var cs=(r,e)=>{if(e)for(const[t,n]of Object.entries(e))r=r.replace(new RegExp(`{{\\s*${t}\\s*}}`,"g"),n);return r},ls=y("<br>");const us={common:{close:"Close",offline:"You appear to be offline, please check your network connection",refresh:"Refresh page",unhandledError:{title:"Something went wrong.",details:"Details",explainer:["The application has encountered an unhandled error, please try again.","If this problem persists, please file a bug report, using the details below.","Closing this message will restart the application."]}},spotify:{title:"Spotify",explainer:[["Please connect to Spotify. ",ls(),"We need you to log into Spotify to be able to play music in the browser."],"For Spotify to allow this app to play music, your account needs to be a premium subscription."],signingIn:"Signing in...",signIn:"Sign in to Spotify",signOut:"Sign out",errors:{access_denied:"Access denied, please try again!",unknown:"Something went wrong, please try again!"},stats:{country:"Country",followers:"Followers",premium:"Premium"},details:{hasPremium:"Spotify premium user.",noPremium:"User doesn't have premium account!"}},camera:{title:"Camera",inUse:"Your camera is being used by another process, please close and try again.",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Environment
camera`,unknown:"Camera",loading:""},openingCam:"Connecting...",explainer:["To be able to scan the codes, we need access to your device's camera.","Please, give your browser permission to access the camera."],noSupport:["Your device likely doesn't have a camera, or your system doesn't allow your browser to access the camera.","Sadly, you cannot use the app."],noPermission:["Your browser doesn't have the correct permissions, possibly you denied the use of the camera.","To use this application, you need to "],selectedCamera:'You selected "{{label}}" to scan the codes.',switchBanner:"When using the app, you can change the camera at any time.",requestPermission:"Request permission",requestingPermission:"Requesting permission...",permissions:{title:"Reset browser permissions",permissionLink:"reset your browser permissions",deviceDetails:"Device details",explainer:"We couldn't find a page for your browser, please look in your settings to reset the browser permissions.",cta:["If you like, you can ","file a request"," to add your browser to our instructions."]}}};var ds=y("<br>");const fs={common:{close:"Sluiten",offline:"U bent offline, controleer a.u.b. uw verbinding",refresh:"Pagina verniewen",unhandledError:{title:"Er is iets mis gegaan.",details:"Foutgegevens",explainer:["Er heeft zich een niet afgehandelde fout voorgedaan, probeer a.u.b. opniew.","Als dit probleem aan blijft houden, verzoeken wij u vriendelijk een bug rapport in te schieten met de onderstaande gegevens.","Het sluiten van dit bericht zal de applicatie herstarten."]}},spotify:{title:"Spotify",explainer:[["Wilt u a.u.b met Spotify verbinden? ",ds(),"U moet ingelogd zijn bij Spotify om muziek in de browser te kunnen spelen."],"Spotify vereist een premuim account voor muziek in de browser."],signingIn:"Inloggen...",signIn:"Log in bij Spotify",signOut:"Uitloggen",errors:{access_denied:"Toegang geweigerd, probeer opnieuw!",unknown:"Er ging iets mis, probeer opnieuw!"},stats:{country:"Land",followers:"Volgers",premium:"Premium"},details:{hasPremium:"Spotify premium gebruiker.",noPremium:"Gebruiker heeft geen premium account!"}},camera:{title:"Video camera",inUse:"Uw camera wordt gebruikt door een ander process, sluit a.u.b. dit process en probeer opnieuw.",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Achterkant
camera`,unknown:"Camera",loading:""},openingCam:"Verbinden...",explainer:["Om de codes te kunnen scannen hebben wij toegang nodig tot uw camera.","Verleen uw browser a.u.b. toegang tot de camera."],noSupport:["Uw apparaat heeft mogelijk geen camera, of uw besturingssysteem staat het gebruik hiervan niet toe.","Helaas kunt u deze applicatie niet gebruiken."],noPermission:["Uw browser geeft geen toestemming tot het gebruik van de camera. Mogelijk heeft u de toestemming geweigerd.","Om gebruik te kunnen maken van de camera moet u "],selectedCamera:'U heeft "{{label}}" geselecteerd voor het scannen.',switchBanner:"U kunt dit later altijd nog veranderen.",requestPermission:"Vraag toestemming",requestingPermission:"Toestemming vragen...",permissions:{title:"Browser toestemming herstellen",deviceDetails:"Apparaat details",permissionLink:"uw browser toestemming herstellen",explainer:"Wij konden geen uitleg vinden voor jouw browser, probeer a.u.b. in uw instellingen te zoeken hoe u de camera toestemming kunt herstellen.",cta:["Wilt u a.u.b. ook ","een verzoek indienen"," om uw eigen browser toe te voegen aan onze instructies?"]}}},et={en:us,nl:fs},ot=()=>localStorage.getItem("stored-locale"),Ir=r=>localStorage.setItem("stored-locale",r),hs=r=>{const e=r&&Object.keys(et).includes(r)?r:"en";return et[e]},[wt,ps]=$(ot()??"en");function ms(){const r=$n(),e=r.locale&&Object.keys(et).includes(r.locale)?r.locale:void 0;ps(e??ot()??"en"),e&&Ir(e)}const I=()=>{try{ee(ms)}catch(e){console.error(console.trace(),e)}const r=k(()=>et[wt()],[An,wt]);return{locale:wt,dictionary:r,template:cs}};class R{api;constructor(e){this.api=e}async getRequest(e){return await this.api.makeRequest("GET",e)}async postRequest(e,t,n=void 0){return await this.api.makeRequest("POST",e,t,n)}async putRequest(e,t,n=void 0){return await this.api.makeRequest("PUT",e,t,n)}async deleteRequest(e,t){return await this.api.makeRequest("DELETE",e,t)}paramsFor(e){const t=new URLSearchParams;for(let n of Object.getOwnPropertyNames(e))(e[n]||e[n]===0||!e[n]&&typeof e[n]=="boolean")&&t.append(n,e[n].toString());return[...t].length>0?`?${t.toString()}`:""}}class gs extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return await this.getRequest(`albums/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`albums${n}`)).albums}tracks(e,t,n,s){const a=this.paramsFor({market:t,limit:n,offset:s});return this.getRequest(`albums/${e}/tracks${a}`)}}class ws extends R{async get(e){if(typeof e=="string")return this.getRequest(`artists/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`artists${t}`)).artists}albums(e,t,n,s,a){const c=this.paramsFor({include_groups:t,market:n,limit:s,offset:a});return this.getRequest(`artists/${e}/albums${c}`)}topTracks(e,t){const n=this.paramsFor({market:t});return this.getRequest(`artists/${e}/top-tracks${n}`)}relatedArtists(e){return this.getRequest(`artists/${e}/related-artists`)}}class vs extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`audiobooks/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`audiobooks${n}`)).audiobooks}getAudiobookChapters(e,t,n,s){const a=this.paramsFor({market:t,limit:n,offset:s});return this.getRequest(`audiobooks/${e}/chapters${a}`)}}class bs extends R{getCategories(e,t,n,s){const a=this.paramsFor({country:e,locale:t,limit:n,offset:s});return this.getRequest(`browse/categories${a}`)}getCategory(e,t,n){const s=this.paramsFor({country:t,locale:n});return this.getRequest(`browse/categories/${e}${s}`)}getNewReleases(e,t,n){const s=this.paramsFor({country:e,limit:t,offset:n});return this.getRequest(`browse/new-releases${s}`)}getFeaturedPlaylists(e,t,n,s,a){const c=this.paramsFor({country:e,locale:t,timestamp:n,limit:s,offset:a});return this.getRequest(`browse/featured-playlists${c}`)}getPlaylistsForCategory(e,t,n,s){const a=this.paramsFor({country:t,limit:n,offset:s});return this.getRequest(`browse/categories/${e}/playlists${a}`)}}class ys extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`chapters/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`chapters${n}`)).chapters}}class Ss extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`episodes/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`episodes${n}`)).episodes}}class ks extends R{get(e){const t=this.paramsFor(e);return this.getRequest(`recommendations${t}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}}class _s extends R{getAvailableMarkets(){return this.getRequest("markets")}}class Ms extends R{getPlaybackState(e,t){const n=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player${n}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(e,t){const n=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player/currently-playing${n}`)}getRecentlyPlayedTracks(e,t){const n={limit:e};t&&(t.type==="before"?n.before=t.timestamp:t.type==="after"&&(n.after=t.timestamp));const s=this.paramsFor(n);return this.getRequest(`me/player/recently-played${s}`)}getUsersQueue(){return this.getRequest("me/player/queue")}async transferPlayback(e,t){if(e.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");await this.putRequest("me/player",{device_ids:e,play:t})}async startResumePlayback(e,t,n,s,a){const c=this.paramsFor({device_id:e});await this.putRequest(`me/player/play${c}`,{context_uri:t,uris:n,offset:s,positionMs:a})}async pausePlayback(e){const t=this.paramsFor({device_id:e});await this.putRequest(`me/player/pause${t}`)}async skipToNext(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/next${t}`)}async skipToPrevious(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/previous${t}`)}async seekToPosition(e,t){const n=this.paramsFor({position_ms:e,device_id:t});await this.putRequest(`me/player/seek${n}`)}async setRepeatMode(e,t){const n=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/repeat${n}`)}async setPlaybackVolume(e,t){const n=this.paramsFor({volume_percent:e,device_id:t});await this.putRequest(`me/player/volume${n}`)}async togglePlaybackShuffle(e,t){const n=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/shuffle${n}`)}async addItemToPlaybackQueue(e,t){const n=this.paramsFor({uri:e,device_id:t});await this.postRequest(`me/player/queue${n}`)}}class Ps extends R{getPlaylist(e,t,n,s){const a=this.paramsFor({market:t,fields:n,additional_types:s?.join(",")});return this.getRequest(`playlists/${e}${a}`)}getPlaylistItems(e,t,n,s,a,c){const o=this.paramsFor({market:t,fields:n,limit:s,offset:a,additional_types:c?.join(",")});return this.getRequest(`playlists/${e}/tracks${o}`)}async changePlaylistDetails(e,t){await this.putRequest(`playlists/${e}`,t)}movePlaylistItems(e,t,n,s){return this.updatePlaylistItems(e,{range_start:t,range_length:n,insert_before:s})}updatePlaylistItems(e,t){return this.putRequest(`playlists/${e}/tracks`,t)}async addItemsToPlaylist(e,t,n){await this.postRequest(`playlists/${e}/tracks`,{position:n,uris:t})}async removeItemsFromPlaylist(e,t){await this.deleteRequest(`playlists/${e}/tracks`,t)}getUsersPlaylists(e,t,n){const s=this.paramsFor({limit:t,offset:n});return this.getRequest(`users/${e}/playlists${s}`)}createPlaylist(e,t){return this.postRequest(`users/${e}/playlists`,t)}getPlaylistCoverImage(e){return this.getRequest(`playlists/${e}/images`)}async addCustomPlaylistCoverImage(e,t){let n="";if(t instanceof Buffer)n=t.toString("base64");else if(t instanceof HTMLCanvasElement)n=t.toDataURL("image/jpeg").split(";base64,")[1];else if(t instanceof HTMLImageElement){const s=document.createElement("canvas");s.width=t.width,s.height=t.height;const a=s.getContext("2d");if(!a)throw new Error("Could not get canvas context");a.drawImage(t,0,0),n=s.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof t=="string")n=t;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");await this.addCustomPlaylistCoverImageFromBase64String(e,n)}async addCustomPlaylistCoverImageFromBase64String(e,t){await this.putRequest(`playlists/${e}/images`,t,"image/jpeg")}}class xs extends R{async execute(e,t,n,s,a,c){const o=this.paramsFor({q:e,type:t,market:n,limit:s,offset:a,include_external:c});return await this.getRequest(`search${o}`)}}class As extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`shows/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`shows${n}`)).shows}episodes(e,t,n,s){const a=this.paramsFor({market:t,limit:n,offset:s});return this.getRequest(`shows/${e}/episodes${a}`)}}class Cs extends R{async get(e,t){if(typeof e=="string"){const a=this.paramsFor({market:t});return this.getRequest(`tracks/${e}${a}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`tracks${n}`)).tracks}async audioFeatures(e){if(typeof e=="string")return this.getRequest(`audio-features/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`audio-features${t}`)).audio_features}audioAnalysis(e){return this.getRequest(`audio-analysis/${e}`)}}const Ut={access_token:"emptyAccessToken",token_type:"",expires_in:0,refresh_token:"",expires:-1};function Me(r){return r===Ut}class $s extends R{profile(e){return this.getRequest(`users/${e}`)}}class Es extends R{albums;audiobooks;episodes;playlists;shows;tracks;constructor(e){super(e),this.albums=new Fs(e),this.audiobooks=new Rs(e),this.episodes=new Os(e),this.playlists=new Ts(e),this.shows=new Bs(e),this.tracks=new Ls(e)}profile(){return this.getRequest("me")}topItems(e,t,n,s){const a=this.paramsFor({time_range:t,limit:n,offset:s});return this.getRequest(`me/top/${e}${a}`)}followedArtists(e,t){const n=this.paramsFor({type:"artist",after:e,limit:t});return this.getRequest(`me/following${n}`)}async followArtistsOrUsers(e,t){const n=this.paramsFor({type:t});await this.putRequest(`me/following${n}`,{ids:e})}async unfollowArtistsOrUsers(e,t){const n=this.paramsFor({type:t});await this.deleteRequest(`me/following${n}`,{ids:e})}followsArtistsOrUsers(e,t){const n=this.paramsFor({ids:e,type:t});return this.getRequest(`me/following/contains${n}`)}}class Fs extends R{savedAlbums(e,t,n){const s=this.paramsFor({limit:e,offset:t,market:n});return this.getRequest(`me/albums${s}`)}async saveAlbums(e){await this.putRequest("me/albums",e)}async removeSavedAlbums(e){await this.deleteRequest("me/albums",e)}hasSavedAlbums(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/albums/contains${t}`)}}class Rs extends R{savedAudiobooks(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/audiobooks${n}`)}async saveAudiobooks(e){await this.putRequest("me/audiobooks",e)}async removeSavedAudiobooks(e){await this.deleteRequest("me/audiobooks",e)}hasSavedAudiobooks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/audiobooks/contains${t}`)}}class Os extends R{savedEpisodes(e,t,n){const s=this.paramsFor({market:e,limit:t,offset:n});return this.getRequest(`me/episodes${s}`)}async saveEpisodes(e){await this.putRequest("me/episodes",e)}async removeSavedEpisodes(e){await this.deleteRequest("me/episodes",e)}hasSavedEpisodes(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/episodes/contains${t}`)}}class Ts extends R{playlists(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/playlists${n}`)}async follow(e){await this.putRequest(`playlists/${e}/followers`)}async unfollow(e){await this.deleteRequest(`playlists/${e}/followers`)}isFollowing(e,t){const n=this.paramsFor({ids:t});return this.getRequest(`playlists/${e}/followers/contains${n}`)}}class Bs extends R{savedShows(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/shows${n}`)}saveShows(e){const t=this.paramsFor({ids:e});return this.putRequest(`me/shows${t}`)}removeSavedShows(e,t){const n=this.paramsFor({ids:e,market:t});return this.deleteRequest(`me/shows${n}`)}hasSavedShow(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/shows/contains${t}`)}}class Ls extends R{savedTracks(e,t,n){const s=this.paramsFor({limit:e,offset:t,market:n});return this.getRequest(`me/tracks${s}`)}async saveTracks(e){await this.putRequest("me/tracks",e)}async removeSavedTracks(e){await this.deleteRequest("me/tracks",e)}hasSavedTracks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/tracks/contains${t}`)}}class qs{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}class j{static async refreshCachedAccessToken(e,t){const n=await j.refreshToken(e,t.refresh_token);return j.toCachable(n)}static toCachable(e){return e.expires&&e.expires===-1?e:{...e,expires:this.calculateExpiry(e)}}static calculateExpiry(e){return Date.now()+e.expires_in*1e3}static async refreshToken(e,t){const n=new URLSearchParams;n.append("client_id",e),n.append("grant_type","refresh_token"),n.append("refresh_token",t);const s=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}),a=await s.text();if(!s.ok)throw new Error(`Failed to refresh token: ${s.statusText}, ${a}`);return JSON.parse(a)}static generateCodeVerifier(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}static async generateCodeChallenge(e){const t=new TextEncoder().encode(e),n=await qs.current.subtle.digest("SHA-256",t),s=[...new Uint8Array(n)];return(typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(String.fromCharCode.apply(null,s))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}class Ce{clientId;clientSecret;scopes;static cacheKey="spotify-sdk:ClientCredentialsStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n=[]){this.clientId=e,this.clientSecret=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(Ce.cacheKey,async()=>{const t=await this.getTokenFromApi();return j.toCachable(t)},async t=>{const n=await this.getTokenFromApi();return j.toCachable(n)})}async getAccessToken(){return await this.cache.get(Ce.cacheKey)}removeAccessToken(){this.cache.remove(Ce.cacheKey)}async getTokenFromApi(){const e={grant_type:"client_credentials",scope:this.scopes.join(" ")},t=Object.keys(e).map(d=>d+"="+e[d]).join("&"),n=typeof Buffer<"u",s=`${this.clientId}:${this.clientSecret}`,a=n?Buffer.from(s).toString("base64"):btoa(s),c=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:t});if(c.status!==200)throw new Error("Failed to get access token.");return await c.json()}}class $e{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:ImplicitGrantStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n){this.clientId=e,this.redirectUri=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate($e.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return j.toCachable(t)},async t=>j.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get($e.cacheKey)}removeAccessToken(){this.cache.remove($e.cacheKey)}async redirectOrVerifyToken(){const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");if(t)return Promise.resolve({access_token:t,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var s=(this.scopes??[]).join(" ");const a=new URLSearchParams;a.append("client_id",this.clientId),a.append("response_type","token"),a.append("redirect_uri",this.redirectUri),a.append("scope",s);const c="https://accounts.spotify.com/authorize?"+a.toString();return this.configuration.redirectionStrategy.redirect(c),Ut}}class ge{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:AuthorizationCodeWithPKCEStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n){this.clientId=e,this.redirectUri=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(ge.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return j.toCachable(t)},async t=>j.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(ge.cacheKey)}removeAccessToken(){this.cache.remove(ge.cacheKey)}async redirectOrVerifyToken(){const t=new URLSearchParams(window.location.search).get("code");if(t){const n=await this.verifyAndExchangeCode(t);return this.removeCodeFromUrl(),n}return this.redirectToSpotify(),Ut}async redirectToSpotify(){const e=j.generateCodeVerifier(128),t=await j.generateCodeChallenge(e),n={verifier:e,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",n);const s=await this.generateRedirectUrlForUser(this.scopes,t);await this.configuration.redirectionStrategy.redirect(s)}async verifyAndExchangeCode(e){const n=(await this.cache.get("spotify-sdk:verifier"))?.verifier;if(!n)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return await this.configuration.redirectionStrategy.onReturnFromRedirect(),await this.exchangeCodeForToken(e,n)}removeCodeFromUrl(){const e=new URL(window.location.href);e.searchParams.delete("code");const t=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,t)}async generateRedirectUrlForUser(e,t){const n=e.join(" "),s=new URLSearchParams;return s.append("client_id",this.clientId),s.append("response_type","code"),s.append("redirect_uri",this.redirectUri),s.append("scope",n),s.append("code_challenge_method","S256"),s.append("code_challenge",t),`https://accounts.spotify.com/authorize?${s.toString()}`}async exchangeCodeForToken(e,t){const n=new URLSearchParams;n.append("client_id",this.clientId),n.append("grant_type","authorization_code"),n.append("code",e),n.append("redirect_uri",this.redirectUri),n.append("code_verifier",t);const s=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}),a=await s.text();if(!s.ok)throw new Error(`Failed to exchange code for token: ${s.statusText}, ${a}`);return JSON.parse(a)}}class Ns{async deserialize(e){const t=await e.text();return t.length>0?JSON.parse(t):null}}class Is{async validateResponse(e){switch(e.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:const t=await e.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${t}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!e.status.toString().startsWith("20")){const n=await e.text();throw new Error(`Unrecognised response code: ${e.status} - ${e.statusText}. Body: ${n}`)}}}}class Vs{async handleErrors(e){return!1}}class Us{async redirect(e){document.location=e.toString()}async onReturnFromRedirect(){}}class Vr{storage;updateFunctions;autoRenewInterval;autoRenewWindow;constructor(e,t=new Map,n=0,s=2*60*1e3){this.storage=e,this.updateFunctions=t,this.autoRenewInterval=n,this.autoRenewWindow=s,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}async getOrCreate(e,t,n){n&&this.updateFunctions.set(e,n);const s=await this.get(e);if(s)return s;const a=await t();if(!a)throw new Error("Could not create cache item");return Me(a)||this.setCacheItem(e,a),a}async get(e){let t=this.storage.get(e),n=t?JSON.parse(t):null;if(this.itemDueToExpire(n)&&this.updateFunctions.has(e)){const s=this.updateFunctions.get(e);await this.tryUpdateItem(e,n,s),t=this.storage.get(e),n=t?JSON.parse(t):null}return n?n.expires&&(n.expires===-1||n.expires<=Date.now())?(this.remove(e),null):(n.expiresOnAccess&&n.expiresOnAccess===!0&&this.remove(e),n):null}set(e,t,n){const s=Date.now()+n,a={...t,expires:s};this.setCacheItem(e,a)}setCacheItem(e,t){const n=JSON.stringify(t);this.storage.set(e,n)}remove(e){this.storage.remove(e)}itemDueToExpire(e){return!e||!e.expires?!1:e.expires-Date.now()<this.autoRenewWindow}async autoRenewRenewableItems(){this.updateFunctions.forEach(async(e,t)=>{const n=await this.get(t);n&&e&&this.itemDueToExpire(n)&&await this.tryUpdateItem(t,n,e)})}async tryUpdateItem(e,t,n){try{const s=await n(t);s&&this.setCacheItem(e,s)}catch(s){console.error(s)}}}class zs extends Vr{constructor(){super(new js)}}class js{get(e){return localStorage.getItem(e)}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class Ds extends Vr{constructor(){super(new Ws)}}class Ws{cache=new Map;get(e){return this.cache.get(e)??null}set(e,t){this.cache.set(e,t)}remove(e){this.cache.delete(e)}}class Gs{clientId;accessToken;refreshTokenAction;constructor(e,t,n){this.clientId=e,this.accessToken=t,this.refreshTokenAction=n||j.refreshCachedAccessToken,this.accessToken.expires||(this.accessToken.expires=j.calculateExpiry(this.accessToken))}setConfiguration(e){}async getOrCreateAccessToken(){if(this.accessToken.expires&&this.accessToken.expires<=Date.now()){const e=await this.refreshTokenAction(this.clientId,this.accessToken);this.accessToken=e}return this.accessToken}async getAccessToken(){return this.accessToken}removeAccessToken(){this.accessToken={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0}}}class se{sdkConfig;static rootUrl="https://api.spotify.com/v1/";authenticationStrategy;albums;artists;audiobooks;browse;chapters;episodes;recommendations;markets;player;playlists;shows;tracks;users;search;currentUser;constructor(e,t){this.sdkConfig=this.initializeSdk(t),this.albums=new gs(this),this.artists=new ws(this),this.audiobooks=new vs(this),this.browse=new bs(this),this.chapters=new ys(this),this.episodes=new Ss(this),this.recommendations=new ks(this),this.markets=new _s(this),this.player=new Ms(this),this.playlists=new Ps(this),this.shows=new As(this),this.tracks=new Cs(this),this.users=new $s(this),this.currentUser=new Es(this);const n=new xs(this);this.search=n.execute.bind(n),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}async makeRequest(e,t,n=void 0,s=void 0){try{const a=await this.authenticationStrategy.getOrCreateAccessToken();if(Me(a))return console.warn("No access token found, authenticating now."),null;const c=a?.access_token,o=se.rootUrl+t,d={method:e,headers:{Authorization:`Bearer ${c}`,"Content-Type":s??"application/json"},body:n?typeof n=="string"?n:JSON.stringify(n):void 0};this.sdkConfig.beforeRequest(o,d);const i=await this.sdkConfig.fetch(o,d);return this.sdkConfig.afterRequest(o,d,i),i.status===204?null:(await this.sdkConfig.responseValidator.validateResponse(i),this.sdkConfig.deserializer.deserialize(i))}catch(a){if(!await this.sdkConfig.errorHandler.handleErrors(a))throw a;return null}}initializeSdk(e){const t=typeof window<"u";return{...{fetch:(s,a)=>fetch(s,a),beforeRequest:(s,a)=>{},afterRequest:(s,a,c)=>{},deserializer:new Ns,responseValidator:new Is,errorHandler:new Vs,redirectionStrategy:new Us,cachingStrategy:t?new zs:new Ds},...e}}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}async authenticate(){const e=await this.authenticationStrategy.getOrCreateAccessToken();return{authenticated:e.expires>Date.now()&&!Me(e),accessToken:e}}async getAccessToken(){return this.authenticationStrategy.getAccessToken()}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,t,n=[],s){const a=new ge(e,t,n);return new se(a,s)}static withClientCredentials(e,t,n=[],s){const a=new Ce(e,t,n);return new se(a,s)}static withImplicitGrant(e,t,n=[],s){const a=new $e(e,t,n);return new se(a,s)}static withAccessToken(e,t,n){const s=new Gs(e,t);return new se(s,n)}static async performUserAuthorization(e,t,n,s,a){const c=new ge(e,t,n),d=await new se(c,a).authenticationStrategy.getOrCreateAccessToken();return Me(d)||(typeof s=="string"?(console.log("Posting access token to postback URL."),await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})):await s(d)),{authenticated:d.expires>Date.now()&&!Me(d),accessToken:d}}}const Hs="fea5ab12dbbb422485f6621e2cf89e24",Ks="https://marvin-brouwer.github.io",Oe=()=>se.withUserAuthorization(Hs,`${Ks}/guessify/spotify-auth`,["streaming","user-read-private","user-read-email"]),Qs=()=>Oe().logOut(),Js=()=>{Qs(),me(void 0)};async function Xs(){const r=`../${ot()}/`,e=new URL(window.location.href);if(e.searchParams.has("code"))try{const t=await Oe().authenticate();return me(t.authenticated?"success":"error.auth_failed"),r}catch(t){return me(`error.auth_failed.${t.message}`),r}return e.searchParams.has("error")?(me(`error.${e.searchParams.get("error")}`),r):(me("error.invalid_request"),r)}const[Ys,me]=$(),Ct=be({api:Object.assign(Oe(),{logOut:Js}),status:Ys,handleAuthReturn:Xs}),at=()=>ye(Ct),Zs=r=>(ee(async()=>{if(await Y(()=>Oe().getAccessToken()).then(t=>!!t)){const t=await Y(()=>Oe().authenticate());me(t.authenticated?"success":"error.auth_failed")}}),b(Ct.Provider,{get value(){return Ct.defaultValue},get children(){return X(()=>r.children)()}})),tt=r=>r()==="success";function ei(){const{api:r,status:e}=at();if(!tt(e)){we(!1);return}r.logOut(),we(!1)}async function er(r){const{api:e,status:t}=at();tt(t)&&we(!1),Ir(r),we(!0);try{if((await Y(()=>e.authenticate())).accessToken.access_token==="emptyAccessToken")return;const s=await Y(()=>e.currentUser.profile());ti(s)}catch(n){const s=n;throw s.restore=()=>{s.message.includes("Unfortunately, re-authenticating the user won't help here")&&localStorage.removeItem("spotify-sdk:AuthorizationCodeWithPKCEStrategy:token")},s}finally{we(!1)}}const[Ur,we]=$(!1),[Ke,ti]=$(),zr=be({logIn:()=>Promise.resolve(),logOut:()=>Promise.resolve(),isAuthenticating:Ur,isAuthenticated:()=>!1,isValid:()=>!1,profile:Ke,errorMessage:()=>{}}),ve=()=>ye(zr),ri=r=>{const{api:e,status:t}=at(),{dictionary:n,locale:s}=I();ee(async()=>{await Y(()=>e.getAccessToken()).then(d=>!!d)&&(we(!0),await er(s()))});const a=()=>tt(t)&&Ke()?.product==="premium",c=()=>{if(t()&&t()!=="success")return t()==="error.access_denied"?n().spotify.errors.access_denied:n().spotify.errors.unknown};return b(zr.Provider,{get value(){return{isValid:k(a,[t,Ke]),isAuthenticated:k(()=>tt(t),t),errorMessage:c,isAuthenticating:Ur,logIn:()=>er(s()),logOut:ei,profile:Ke}},get children(){return X(()=>r.children)()}})},ni="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%204c1.93%200%203.5%201.57%203.5%203.5S13.93%2013%2012%2013s-3.5-1.57-3.5-3.5S10.07%206%2012%206zm0%2014c-2.03%200-4.43-.82-6.14-2.88C7.55%2015.8%209.68%2015%2012%2015s4.45.8%206.14%202.12C16.43%2019.18%2014.03%2020%2012%2020z'/%3e%3c/g%3e%3c/svg%3e",si="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%231ed760'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7%20l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z%20M10.09,16.72l-3.8-3.81l1.48-1.48l2.32,2.33%20l5.85-5.87l1.48,1.48L10.09,16.72z'/%3e%3c/g%3e%3c/svg%3e",ii="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23d71e1e'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M1%2021h22L12%202%201%2021zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3e%3c/svg%3e",oi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%207l-1.41%201.41L18.17%2011H8v2h10.17l-2.58%202.58L17%2017l5-5zM4%205h8V3H4c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h8v-2H4V5z'/%3e%3c/svg%3e",ai="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z%20M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z'/%3e%3c/g%3e%3c/svg%3e";var ci=y("<div class=spotify-card><h2>"),li=y('<div class="spotify-login-card card"><div class=details><p></p><p></p></div><div class=controls><button>'),ui=y("<p class=error>"),tr=y("<span>"),di=y("<img>"),fi=y("<img class=placeholder>"),hi=y('<div class="spotify-profile-card card"><div class=thumbnail></div><p class=stats><b></b><i></i></p><p class=stats><b></b><i></i></p><p class=stats><b></b><i><img></i></p><div class=details><h3></h3></div><div class=controls><button><span></span><img>'),rr=y("<p>"),pi=y("<p class=no-premium>");const mi=()=>{const r=ve(),{hasMediaSupport:e}=te();if(!e())return null;const{dictionary:t}=I(),n=()=>!ve().isAuthenticating()&&r.isAuthenticated()?b(wi,{}):b(gi,{});return(()=>{var s=ci(),a=s.firstChild;return w(a,()=>t().spotify.title),w(s,n,null),s})()},gi=()=>{const r=ve(),{dictionary:e}=I();return(()=>{var t=li(),n=t.firstChild,s=n.firstChild,a=s.nextSibling,c=n.nextSibling,o=c.firstChild;return w(s,()=>e().spotify.explainer[0]),w(a,()=>e().spotify.explainer[1]),w(n,(()=>{var d=k(()=>!!r.errorMessage());return()=>d()&&(()=>{var i=ui();return w(i,()=>r.errorMessage()),i})()})(),null),o.$$click=()=>{r.logIn()},w(o,(()=>{var d=k(()=>!!r.isAuthenticating());return()=>d()?(()=>{var i=tr();return w(i,()=>e().spotify.signingIn),i})():(()=>{var i=tr();return w(i,()=>e().spotify.signIn),i})()})(),null),w(o,(()=>{var d=k(()=>!r.isAuthenticating());return()=>d()&&(()=>{var i=di();return F(i,"src",ai),i})()})(),null),D(()=>o.disabled=r.isAuthenticating()),t})()},wi=()=>{const r=ve(),{dictionary:e}=I(),t=r.profile();if(!t)return null;const n=t.images?.find(o=>o.width===300)??void 0,[s,a]=$((()=>{var o=fi();return F(o,"src",ni),o})());Be(()=>{if(!n||s().src===n.url)return;const o=s().cloneNode(!0);o.className="",o.addEventListener("load",()=>a(o),{once:!0}),o.src=n.url},n);const c=r.isValid();return(()=>{var o=hi(),d=o.firstChild,i=d.nextSibling,l=i.firstChild,u=l.nextSibling,f=i.nextSibling,h=f.firstChild,m=h.nextSibling,p=f.nextSibling,v=p.firstChild,S=v.nextSibling,_=S.firstChild,T=p.nextSibling,q=T.firstChild,W=T.nextSibling,H=W.firstChild,re=H.firstChild,ce=re.nextSibling;return w(d,s),w(l,()=>e().spotify.stats.country),w(u,()=>t.country),w(h,()=>e().spotify.stats.followers),w(m,()=>t.followers.total),w(v,()=>e().spotify.stats.premium),F(_,"src",c?si:ii),w(q,()=>t.display_name),w(T,c?(()=>{var V=rr();return w(V,()=>e().spotify.details.hasPremium),V})():[(()=>{var V=pi();return w(V,()=>e().spotify.details.noPremium),V})(),(()=>{var V=rr();return w(V,()=>e().spotify.explainer[1]),V})()],null),H.$$click=()=>r.logOut(),w(re,()=>e().spotify.signOut),F(ce,"src",oi),o})()};Se(["click"]);const vt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3cpath%20d='M3,4V1h2v3h3v2H5v3H3V6H0V4H3z%20M6,10V7h3V4h7l1.83,2H21c1.1,0,2,0.9,2,2v12c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V10H6z%20M13,19c2.76,0,5-2.24,5-5s-2.24-5-5-5s-5,2.24-5,5S10.24,19,13,19z%20M9.8,14c0,1.77,1.43,3.2,3.2,3.2s3.2-1.43,3.2-3.2%20s-1.43-3.2-3.2-3.2S9.8,12.23,9.8,14z'/%3e%3c/svg%3e",vi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e";var bi=y("<dialog><div><div class=details></div><div class=controls><button><span></span><img>");const nr=r=>e=>{if(r.hidden)return;const t=r.getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||r.close()},zt=()=>{const{dictionary:r}=I(),[e,t]=$();return{Modal:s=>{const a=X(()=>e()?.hidden?void 0:s.children);t((()=>{var o=bi(),d=o.firstChild,i=d.firstChild,l=i.nextSibling,u=l.firstChild,f=u.firstChild,h=f.nextSibling;return w(i,a),u.$$click=c,w(f,()=>r().common.close),F(h,"src",vi),D(m=>{var p=e()?.hidden,v=`modal card ${s.class}`;return p!==m.e&&(o.inert=m.e=p),v!==m.t&&Bt(d,m.t=v),m},{e:void 0,t:void 0}),o})());function c(){if(!s.beforeClose)return e()?.close();s.beforeClose()!==!1&&e()?.close()}return ee(()=>{e()?.addEventListener("click",nr(e()))}),J(()=>{e()?.removeEventListener("click",nr(e()))}),b(wn,{get children(){return e()}})},showModal:()=>e()?.showModal()}};Se(["click"]);var yi=y("<a href=#instructions>"),Si=y("<a target=_blank>"),ki=y("<h2>"),sr=y("<p>"),_i=y("<p><a href=#todo target=_blank>"),Mi=y("<details><summary></summary><pre>");const Pi=Nt(),xi=()=>{const{locale:r,dictionary:e}=I(),{Modal:t,showModal:n}=zt(),s=k(()=>Ai(Pi,r()),r),a=async o=>(o.preventDefault(),o.stopPropagation(),n(),!1),c=k(()=>s()?(()=>{var o=Si();return w(o,()=>e().camera.permissions.permissionLink),D(()=>F(o,"href",s())),o})():(()=>{var o=yi();return o.$$click=a,w(o,()=>e().camera.permissions.permissionLink),o})(),s);return[k(c),b(t,{class:"reset-permission-modal",get children(){return[(()=>{var o=ki();return w(o,()=>e().camera.permissions.title),o})(),(()=>{var o=sr();return w(o,()=>e().camera.permissions.explainer),o})(),(()=>{var o=_i(),d=o.firstChild;return w(o,()=>e().camera.permissions.cta[0],d),w(d,()=>e().camera.permissions.cta[1]),w(o,()=>e().camera.permissions.cta[2],null),o})(),(()=>{var o=Mi(),d=o.firstChild,i=d.nextSibling;return w(d,()=>e().camera.permissions.deviceDetails),w(i,()=>JSON.stringify(Nt(),null,4)),o})(),sr()]}})]};function Ai(r,e){if(r.browser.name==="Chrome"){if(r.platform.type==="desktop")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DDesktop`;if(r.os.name==="Android")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DAndroid`;if(r.os.name==="IOS")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DiOS`}}Se(["click"]);const Ci="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M9.4%2010.5l4.77-8.26C13.47%202.09%2012.75%202%2012%202c-2.4%200-4.6.85-6.32%202.25l3.66%206.35.06-.1zM21.54%209c-.92-2.92-3.15-5.26-6-6.34L11.88%209h9.66zm.26%201h-7.49l.29.5%204.76%208.25C21%2016.97%2022%2014.61%2022%2012c0-.69-.07-1.35-.2-2zM8.54%2012l-3.9-6.75C3.01%207.03%202%209.39%202%2012c0%20.69.07%201.35.2%202h7.49l-1.15-2zm-6.08%203c.92%202.92%203.15%205.26%206%206.34L12.12%2015H2.46zm11.27%200l-3.9%206.76c.7.15%201.42.24%202.17.24%202.4%200%204.6-.85%206.32-2.25l-3.66-6.35-.93%201.6z'/%3e%3c/svg%3e",$i="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3.2'/%3e%3cpath%20d='M9%202L7.17%204H4c-1.1%200-2%20.9-2%202v12c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2h-3.17L15%202H9zm3%2015c-2.76%200-5-2.24-5-5s2.24-5%205-5%205%202.24%205%205-2.24%205-5%205z'/%3e%3c/svg%3e",Ei="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2012c2.21%200%204-1.79%204-4s-1.79-4-4-4-4%201.79-4%204%201.79%204%204%204zm0%202c-2.67%200-8%201.34-8%204v2h16v-2c0-2.66-5.33-4-8-4z'/%3e%3c/svg%3e",Fi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M21%2019V5c0-1.1-.9-2-2-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2zM8.5%2013.5l2.5%203.01L14.5%2012l4.5%206H5l3.5-4.5z'/%3e%3c/svg%3e";var De=y("<img>");const Ri=r=>k(()=>{const e=r()?.facing;return e==="loading"?null:e==="desktop"?(()=>{var t=De();return F(t,"src",$i),t})():e==="user"?(()=>{var t=De();return F(t,"src",Ei),t})():e==="environment"?(()=>{var t=De();return F(t,"src",Fi),t})():(()=>{var t=De();return F(t,"src",Ci),t})()},r),Oi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3cpath%20d='M0,0h24v24H0V0z'%20fill='none'/%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M16,7h-1l-1-1h-4L9,7H8C6.9,7,6,7.9,6,9v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V9C18,7.9,17.1,7,16,7z%20M12,14%20c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C14,13.1,13.1,14,12,14z'/%3e%3cpath%20d='M8.57,0.51l4.48,4.48V2.04c4.72,0.47,8.48,4.23,8.95,8.95c0,0,2,0,2,0C23.34,3.02,15.49-1.59,8.57,0.51z'/%3e%3cpath%20d='M10.95,21.96C6.23,21.49,2.47,17.73,2,13.01c0,0-2,0-2,0c0.66,7.97,8.51,12.58,15.43,10.48l-4.48-4.48V21.96z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var Ti=y("<option>"),Bi=y("<div class=camera-select-button><select></select><div><span>"),Li=y("<img>");const jr=({nameRef:r})=>{const{camera:e,devices:t,requestCamera:n,stopCameraStream:s}=te(),{dictionary:a}=I(),c=k(()=>t().map(o=>(()=>{var d=Ti();return w(d,()=>o.label),D(()=>d.selected=o.deviceId===e()?.id),D(()=>d.value=o.deviceId),d})()),[t,e]);return(()=>{var o=Bi(),d=o.firstChild,i=d.nextSibling,l=i.firstChild;return d.addEventListener("change",async u=>{if(u.target.value===e()?.id)return;const f=u.target.value;console.log("i",u.target.innerText),r?.(u.target.innerText),await s(),await n(f)}),w(d,c),w(l,()=>e()?.name??a().camera.openingCam),w(i,(()=>{var u=k(()=>c().length>1);return()=>u()&&(()=>{var f=Li();return F(f,"src",Oi),f})()})(),null),D(u=>{var f=!e()||c().length===1,h=e()?"fake-button":"fake-button disabled";return f!==u.e&&(d.disabled=u.e=f),h!==u.t&&Bt(i,u.t=h),u},{e:void 0,t:void 0}),o})()};var qi=y("<video loop>"),Ni=y("<video>");const Dr=r=>{const{cameraStream:e,camera:t}=te(),s=qi();r.ref?.(s),J(()=>{r.ref?.(void 0);const c=s;c.pause();const o=c.srcObject,d=o?.getTracks()??[];for(const i of d)o?.removeTrack(i);c.src="",c.srcObject=null}),Be(()=>{const c=s,o=e();if(console.log("stream",o,bt(o)),bt(o)){if(Ii(o,c.srcObject))return;c.removeAttribute("src"),c.srcObject=o,c.onloadedmetadata=()=>{c.play()},c.srcObject.addEventListener("removetrack",()=>{c.pause()},{once:!0}),c.srcObject.getTracks()[0].addEventListener("ended",()=>{c.pause()},{once:!0})}else{c.pause();const d=c.srcObject,i=d?.getTracks()??[];for(const l of i)d?.removeTrack(l);c.src="",c.srcObject=null}},[e,t]);const a=k(()=>bt(e())?s:Ni());return k(a)},bt=r=>!r||!r.active||r.getTracks().length===0?!1:r.getTracks()[0].enabled,Ii=(r,e)=>r?.getTracks()[0]?.getSettings().deviceId==e?.getTracks()[0]?.getSettings().deviceId;var Vi=y("<div class=camera-card><h2>"),Ui=y('<div class="camera-request-card card no-controls"><div class=details><p></p><p> </p><p> '),zi=y('<div class="camera-request-card card no-controls"><div class=details><p></p><p></p><p> <!>.'),ji=y("<button disabled><span></span><img>"),ir=y("<button><span></span><img>"),Di=y("<p class=error>"),Wi=y('<div class="camera-request-card card"><div class=details><p></p><p></p></div><div class=controls>'),Gi=y('<div class="camera-request-card card"><div class=video-overlay></div><div class=details><p></p><p><i></i></p></div><div class=controls>'),Hi=y("<div class=stats><span>");const Ki=()=>{const r=te(),{dictionary:e}=I(),t=k(()=>r.hasMediaSupport()?r.canPrompt()||r.permission()==="pending"?b(Xi,{}):r.hasPermission()?b(Yi,{}):b(Ji,{}):b(Qi,{}),[r.hasMediaSupport,r.canPrompt,r.hasPermission]);return(()=>{var n=Vi(),s=n.firstChild;return w(s,()=>e().camera.title),w(n,t,null),n})()},Qi=()=>{const{dictionary:r}=I();return(()=>{var e=Ui(),t=e.firstChild,n=t.firstChild,s=n.nextSibling,a=s.firstChild,c=s.nextSibling,o=c.firstChild;return w(n,()=>r().camera.explainer[0]),w(s,()=>r().camera.noSupport[0],a),w(c,()=>r().camera.noSupport[1],o),e})()},Ji=()=>{const{dictionary:r}=I();return(()=>{var e=zi(),t=e.firstChild,n=t.firstChild,s=n.nextSibling,a=s.nextSibling,c=a.firstChild,o=c.nextSibling;return o.nextSibling,w(n,()=>r().camera.explainer[0]),w(s,()=>r().camera.noPermission[0]),w(a,()=>r().camera.noPermission[1],c),w(a,b(xi,{}),o),e})()},Xi=()=>{const r=te(),{dictionary:e}=I(),t=k(()=>(console.log(r.permission()),r.permission()==="pending"?(()=>{var n=ji(),s=n.firstChild,a=s.nextSibling;return w(s,()=>e().camera.requestingPermission),F(a,"src",vt),n})():r.permission()==="error:inuse"?(()=>{var n=ir(),s=n.firstChild,a=s.nextSibling;return n.$$click=c=>{c.target.disabled=!0,window.location.reload()},w(s,()=>e().common.refresh),F(a,"src",vt),n})():(()=>{var n=ir(),s=n.firstChild,a=s.nextSibling;return n.$$click=()=>{r.requestPermission()},w(s,()=>e().camera.requestPermission),F(a,"src",vt),D(()=>n.disabled=!r.canPrompt()),n})()),[r.canPrompt,r.permission]);return(()=>{var n=Wi(),s=n.firstChild,a=s.firstChild,c=a.nextSibling,o=s.nextSibling;return w(a,()=>e().camera.explainer[0]),w(c,()=>e().camera.explainer[1]),w(s,b(st,{get when(){return r.permission()==="error:inuse"},get children(){var d=Di();return w(d,()=>e().camera.inUse),d}}),null),w(o,t),n})()},Yi=()=>{const{camera:r}=te(),{dictionary:e,template:t}=I(),n=Ri(r);return(()=>{var s=Gi(),a=s.firstChild,c=a.nextSibling,o=c.firstChild,d=o.nextSibling,i=d.firstChild,l=c.nextSibling;return w(s,b(Dr,{}),a),w(a,(()=>{var u=k(()=>!!r());return()=>u()&&(()=>{var f=Hi(),h=f.firstChild;return w(f,n,h),w(h,()=>e().camera.type[r()?.facing??"unknown"]),f})()})()),w(o,()=>t(e().camera.selectedCamera,{label:r()?.label??"..."})),w(i,()=>e().camera.switchBanner),w(l,b(jr,{})),s})()};Se(["click"]);const Te="/guessify/assets/guessify-logo-DT33HoF3.svg",[$t,or]=$(window.navigator.onLine?"online":"offline"),Zi=k(()=>$t()!=="offline",$t),Et=be({status:$t,online:Zi}),eo=()=>ye(Et),to=r=>{const e=()=>or("online"),t=()=>or("offline");return ee(()=>{window.addEventListener("online",e),window.addEventListener("offline",t)}),J(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}),b(Et.Provider,{get value(){return Et.defaultValue},get children(){return X(()=>r.children)()}})};var ro=y("<div class=dependency-gate><h1 class=logo><img> Guessify</h1><p>"),no=y("<div class=dependency-gate><h1 class=logo><img> Guessify");const so=r=>{const e=ve(),t=te(),{online:n}=eo(),{dictionary:s}=I(),a=X(()=>r.children);if(!n())return(()=>{var d=ro(),i=d.firstChild,l=i.firstChild,u=i.nextSibling;return F(l,"src",Te),w(u,()=>s().common.offline),d})();const c=k(()=>e.isValid()&&t.hasPermission(),[e.isValid,t.hasPermission,t.permission]),o=(()=>{var d=no(),i=d.firstChild,l=i.firstChild;return F(l,"src",Te),w(d,b(mi,{}),null),w(d,b(Ki,{}),null),d})();return b(st,{get when(){return c()},get children(){return a()},fallback:o})},io="modulepreload",oo=function(r){return"/guessify/"+r},ar={},ao=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=c?.nonce||c?.getAttribute("nonce");s=Promise.allSettled(t.map(d=>{if(d=oo(d),d in ar)return;ar[d]=!0;const i=d.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":io,i||(u.as="script"),u.crossOrigin="",u.href=d,o&&u.setAttribute("nonce",o),document.head.appendChild(u),i)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return s.then(c=>{for(const o of c||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},z={canvasContextOptions:{willReadFrequently:!0,desynchronized:!0},showScaleCanvas:!1,showGrayscaleImage:!0,showOrientationLines:!0,sampleRate:500,blurAmount:1,debugEnabled(){return this.showScaleCanvas||this.showGrayscaleImage||this.showOrientationLines}},We=z.debugEnabled()?async(r,e)=>{const t=document.createElement("a");if(t.download=`camera-feed-${e}-${r.id}.png`,r instanceof HTMLCanvasElement)t.href=r.toDataURL();else{const s=await r.convertToBlob({type:"image/png"});var n=new FileReader;t.href=await new Promise(a=>{n.onload=c=>{a(c.target.result)},n.readAsDataURL(s)})}t.click()}:void 0,ct=(r,e,t,n)=>{if(e){const a=document.createElement("canvas");return Object.assign(a,{width:t,height:n,id:r,writeOutput:We&&(c=>We(a,c))})}const s=new OffscreenCanvas(t,n);return Object.assign(s,{id:r,writeOutput:We&&(a=>We(s,a))})},ae=(r,e={})=>r.getContext("2d",{...z.canvasContextOptions,...e}),lt=r=>new Promise(e=>{requestAnimationFrame(()=>{e(r())})});function co(r,e){const t=r.getBoundingClientRect(),n=e.getSettings();let{width:s,height:a,aspectRatio:c}=n;s||(s=a*c),a||(a=s*c);const o=Math.max(t.width/s,t.height/a),d=s*o,i=a*o;var l=(t.width-s*o)/2,u=(t.height-a*o)/2;return{boxWidth:d,boxHeight:i,frameWidth:s,frameHeight:a,offsetX:l,offsetY:u}}function lo(r,e){const t=co(r,e),{boxWidth:n,boxHeight:s,frameWidth:a,frameHeight:c,offsetX:o,offsetY:d}=t;if(!(n===0||Number.isNaN(n)))return lt(()=>{const i=ct("scale",z.showScaleCanvas,n,s);return ae(i,{alpha:!1,desynchronized:!0}).drawImage(r,0,0,a,c,o,d,n,s),i})}function cr(r,e,t){return lt(()=>{const n=ct(t?"grayscale-inverted":"grayscale",!t&&z.showGrayscaleImage,r.width*2,r.height*2),s=ae(n,{alpha:!1,desynchronized:!1});return s.filter=`grayscale() ${t?"invert()":""} contrast(4.5)`,s.drawImage(e,r.x,r.y,r.width,r.height,0,0,n.width,n.height),n})}function uo(r){return lt(()=>{const e=ct(r.id.replace("grayscale","blur"),!1,r.width,r.height),t=ae(e);return t.filter=`blur(${z.blurAmount}px)`,t.drawImage(r,0,0,r.width,r.height,0,0,e.width,e.height),e})}function lr(r,e){return[r[e],r[e+1],r[e+2],r[e+3]]}async function fo(r,e){const t=ae(r).getImageData(0,0,r.width,r.height),n=ae(e).getImageData(0,0,e.width,e.height);return await lt(()=>{const s=[],a=t.data,c=n.data;for(var o=0;o<a.length;o+=4){const d=Math.floor(o/4),i=Math.floor(d/t.width),l=d-t.width*i;s[i]??=[];const u=lr(a,o),f=lr(c,o),h=ur(u)?1:0,m=ur(f)?2:0,p=h+m;s[i][l]=[...u,l,i,p]}return Object.assign(s,{width:t.width,height:t.height})})}function ur([r,e,t]){return!(r>160||r<50||e>160||e<50||t>160||t<50)}var ho=y("<div>"),po=y("<div class=feedback>");z.debugEnabled()&&await ao(()=>Promise.resolve({}),__vite__mapDeps([0]));const[mo,zo]=$(""),[go,jo]=$(!1),[Pe,wo]=$();function yt(r,e){if(!r||!(e instanceof HTMLCanvasElement))return;document.getElementById(e.id)?.remove(),Pe()?.appendChild(e)}function vo(r,e,t){if(!t.width)return;const n=ct("edge",r,t.width,t.height),s=n;return document.getElementById(s.id)?.remove(),e.appendChild(s),n}function bo(r,e,t,...n){{const s=async()=>{const o=document.createElement("a"),d=r.getSettings(),i=document.createElement("canvas");i.width=d.width,i.height=d.height,i.getContext("2d").drawImage(e,0,0);const u=Date.now();o.download=`camera-feed-${u}-raw.png`,o.href=i.toDataURL(),o.click();for(const f of n)await f.writeOutput?.(u)};t().ondblclick=s;let a,c=!1;t().ontouchend=()=>{c===!0&&s(),clearTimeout(a),c=!0,a=setTimeout(()=>c=!1,500)}}}const dr=({videoElement:r})=>{const e=te();let t;async function n(){if(e.hasErrored())return;if(!e.hasPermission())return requestAnimationFrame(n);const s=await e.cameraStream();if(!s||!Pe())return requestAnimationFrame(n);const a=Pe().getBoundingClientRect();if(a.width===0||!r||r.getBoundingClientRect().width===0)return requestAnimationFrame(n);const c=s.getVideoTracks()[0];if(!c)return requestAnimationFrame(n);const o=await lo(r,c);if(!o)return requestAnimationFrame(n);yt(z.showScaleCanvas,o);const d=await Promise.all([cr(a,o,!1),cr(a,o,!0)]);d.forEach(h=>yt(z.showGrayscaleImage,h));const i=await Promise.all(d.map(h=>uo(h)));i.forEach(h=>yt(z.showGrayscaleImage,h));const l=await fo(i[0],i[1]),u=vo(z.showOrientationLines,Pe(),l);ae(u).clearRect(0,0,u.width,u.height);const f=l.flatMap(h=>h.flatMap(m=>{const p=m[6];return p===1?[0,128,0,100]:p===2?[128,255,0,100]:p===3?[0,255,0,255]:[0,0,0,0]}));ae(u).putImageData(new ImageData(new Uint8ClampedArray(f),l.width,l.length),0,0),bo(c,r,Pe,o,...d,...i,u),t=setTimeout(()=>requestAnimationFrame(n),z.sampleRate)}return ee(async()=>{!e.hasPermission()||!e.camera()&&!await e.requestCamera()||(t=setTimeout(()=>requestAnimationFrame(n),z.sampleRate))}),J(()=>{clearTimeout(t)}),[(()=>{var s=ho();return fn(wo,s),D(()=>Bt(s,go()?"viewfinder scanning":"viewfinder")),s})(),(()=>{var s=po();return w(s,mo),s})()]};var yo=y("<div class=camera-canvas>"),fr=y("<div class=video-overlay>"),So=y('<div class="video-overlay debug">');const ko=()=>{const[r,e]=$();return(()=>{var t=yo();return w(t,b(Dr,{ref:e}),null),w(t,(()=>{var n=k(()=>!!z.debugEnabled());return()=>n()?[fr(),(()=>{var s=So();return w(s,b(dr,{get videoElement(){return r()}})),s})()]:(()=>{var s=fr();return w(s,b(dr,{get videoElement(){return r()}})),s})()})(),null),t})()};var _o=y("<h1>"),St=y("<p>"),Mo=y("<p><i>"),Po=y(`<details><summary></summary><pre class=version> 
</pre><pre>`);const xo=r=>{const{dictionary:e}=I(),[t,n]=$(),s="Application Version: 1.0.0-alpha.39",a=Array.from(s).fill("-").join(""),{Modal:c,showModal:o}=zt(),d=()=>(t()?.restore?.(),window.location.reload(),!1),i=f=>{n(f instanceof Error?f:new Error(f)),console.error("Uncaught application error",f);debugger;o()},l=f=>{const h=f.reason instanceof Error?f.reason:Object.assign(new Error(f.reason),{stack:f.promise.__creationPoint});i(h)},u=f=>i(f.error);return ee(()=>{addEventListener("unhandledrejection",l),addEventListener("error",u)}),J(()=>{removeEventListener("unhandledrejection",l),removeEventListener("error",u)}),[b(ln,{fallback:(f,h)=>[],get children(){return X(()=>r.children)()}}),b(c,{class:"uncaught-error-modal",beforeClose:d,get children(){return[(()=>{var f=_o();return w(f,()=>e().common.unhandledError.title),f})(),(()=>{var f=St();return w(f,()=>e().common.unhandledError.explainer[0]),f})(),(()=>{var f=St();return w(f,()=>e().common.unhandledError.explainer[1]),f})(),k(()=>k(()=>!!t())()&&[(()=>{var f=Po(),h=f.firstChild,m=h.nextSibling,p=m.firstChild,v=m.nextSibling;return w(h,()=>e().common.unhandledError.details),w(m,s,p),w(m,a,null),w(v,()=>t().stack?.toString()??t().toString()),f})(),St()]),(()=>{var f=Mo(),h=f.firstChild;return w(h,()=>e().common.unhandledError.explainer[2]),f})()]}})]},Ao="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M3%2018h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'/%3e%3c/svg%3e";var Co=y("<header><h1 class=logo><img><span>Guessify</span></h1><nav><button><img><span>Menu"),$o=y("<div class=menu><div class=details><h2 class=logo><img> <span>Guessify</span> <sub></sub></h2><p>TODO: This will be styled later</p><select disabled><option>English (en)</option><option>Nederlands (nl)</option></select><button><span>Logout</span></button><button disabled><span>Share"),Eo=y("<div class=camera-settings><p>");const Fo=()=>{const{Modal:r,showModal:e}=zt();return ee(async()=>{}),(()=>{var t=Co(),n=t.firstChild,s=n.firstChild,a=n.nextSibling,c=a.firstChild,o=c.firstChild;return F(s,"src",Te),yr(c,"click",e),F(o,"src",Ao),w(t,b(r,{get children(){return b(Ro,{})}}),null),t})()},Ro=()=>{const{logOut:r}=ve();return(()=>{var e=$o(),t=e.firstChild,n=t.firstChild,s=n.firstChild,a=s.nextSibling,c=a.nextSibling,o=c.nextSibling,d=o.nextSibling,i=n.nextSibling,l=i.nextSibling,u=l.nextSibling;return F(s,"src",Te),w(d,()=>"1.0.0-alpha.39"),w(t,b(Oo,{}),u),yr(u,"click",r),e})()},Oo=()=>{const{camera:r}=te(),{dictionary:e,template:t}=I();return(()=>{var n=Eo(),s=n.firstChild;return w(s,()=>t(e().camera.selectedCamera,{label:r()?.label??"?"})),w(n,b(jr,{}),null),n})()};Se(["click"]);var To=y("<p>TODO, language selector <a href=/guessify/en/>English</a> / <a href=/guessify/nl/>Nederlands");const Bo=r=>b(xo,{get children(){return b(to,{get children(){return b(Zs,{get children(){return X(()=>r.children)()}})}})}}),Lo=()=>b(ri,{get children(){return b(as,{get children(){return b(so,{get children(){return[b(Fo,{}),b(ko,{})]}})}})}}),hr=()=>To(),qo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16.24%207.76C15.07%206.59%2013.54%206%2012%206v6l-4.24%204.24c2.34%202.34%206.14%202.34%208.49%200%202.34-2.34%202.34-6.14-.01-8.48zM12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.42%200-8-3.58-8-8s3.58-8%208-8%208%203.58%208%208-3.58%208-8%208z'/%3e%3c/svg%3e";var No=y("<div class=auth><h1 class=logo><img> Guessify</h1><div class=details><p><img>");const Io=()=>{const r=Cn(),{handleAuthReturn:e}=at(),t=ot(),n=t?hs(t).spotify.signingIn:"...";return Be(()=>{e().then(s=>{r(s,{replace:!0})})}),(()=>{var s=No(),a=s.firstChild,c=a.firstChild,o=a.nextSibling,d=o.firstChild,i=d.firstChild;return F(c,"src",Te),F(i,"src",qo),w(d,n,null),s})()},Vo=document.getElementById("root"),Uo=r=>r.replace("/guessify/?","/guessify");globalThis.Promise=class extends Promise{constructor(){super(...arguments),this.__creationPoint=new Error().stack}};dn(()=>b(Gn,{get base(){return"/guessify"},explicitLinks:!0,transformUrl:Uo,root:Bo,get children(){return[b(Ue,{path:"/spotify-auth",component:Io}),b(Ue,{path:"/:locale/",component:Lo}),b(Ue,{path:"/",component:hr}),b(Ue,{path:"*404",component:hr})]}}),Vo)})();
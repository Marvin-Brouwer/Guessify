(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(a){if(a.ep)return;a.ep=!0;const c=t(a);fetch(a.href,c)}})();const _o=(r,e)=>r===e,Tr=Symbol("solid-proxy"),Mo=typeof Proxy=="function",Jt={equals:_o};let ss=ds;const Ne=1,Xt=2,is={owned:null,cleanups:null,context:null,owner:null};var z=null;let _r=null,ko=null,Z=null,pe=null,Te=null,nr=0;function as(r,e){const t=Z,n=z,a=r.length===0,c=e===void 0?n:e,u=a?is:{owned:null,cleanups:null,context:c?c.context:null,owner:c},d=a?r:()=>r(()=>$e(()=>wt(u)));z=u,Z=null;try{return Ie(d,!0)}finally{Z=t,z=n}}function oe(r,e){e=e?Object.assign({},Jt,e):Jt;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},n=a=>(typeof a=="function"&&(a=a(t.value)),ls(t,a));return[us.bind(t),n]}function we(r,e,t){const n=Wr(r,e,!1,Ne);$t(n)}function Vr(r,e,t){ss=To;const n=Wr(r,e,!1,Ne);n.user=!0,Te?Te.push(n):$t(n)}function R(r,e,t){t=t?Object.assign({},Jt,t):Jt;const n=Wr(r,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=t.equals||void 0,$t(n),us.bind(n)}function Ao(r){return Ie(r,!1)}function $e(r){if(Z===null)return r();const e=Z;Z=null;try{return r()}finally{Z=e}}function Ur(r,e,t){const n=Array.isArray(r);let a,c=t&&t.defer;return u=>{let d;if(n){d=Array(r.length);for(let o=0;o<r.length;o++)d[o]=r[o]()}else d=r();if(c)return c=!1,u;const g=$e(()=>e(d,a,u));return a=d,g}}function qe(r){Vr(()=>$e(r))}function St(r){return z===null||(z.cleanups===null?z.cleanups=[r]:z.cleanups.push(r)),r}function os(){return z}function cs(r,e){const t=z,n=Z;z=r,Z=null;try{return Ie(e,!0)}catch(a){zr(a)}finally{z=t,Z=n}}function xo(r){const e=Z,t=z;return Promise.resolve().then(()=>{Z=e,z=t;let n;return Ie(r,!1),Z=z=null,n?n.done:void 0})}function rt(r,e){const t=Symbol("context");return{id:t,Provider:Oo(t),defaultValue:r}}function nt(r){let e;return z&&z.context&&(e=z.context[r.id])!==void 0?e:r.defaultValue}function st(r){const e=R(r),t=R(()=>Rr(e()));return t.toArray=()=>{const n=t();return Array.isArray(n)?n:n!=null?[n]:[]},t}function us(){if(this.sources&&this.state)if(this.state===Ne)$t(this);else{const r=pe;pe=null,Ie(()=>Yt(this),!1),pe=r}if(Z){const r=this.observers?this.observers.length:0;Z.sources?(Z.sources.push(this),Z.sourceSlots.push(r)):(Z.sources=[this],Z.sourceSlots=[r]),this.observers?(this.observers.push(Z),this.observerSlots.push(Z.sources.length-1)):(this.observers=[Z],this.observerSlots=[Z.sources.length-1])}return this.value}function ls(r,e,t){let n=r.value;return(!r.comparator||!r.comparator(n,e))&&(r.value=e,r.observers&&r.observers.length&&Ie(()=>{for(let a=0;a<r.observers.length;a+=1){const c=r.observers[a],u=_r&&_r.running;u&&_r.disposed.has(c),(u?!c.tState:!c.state)&&(c.pure?pe.push(c):Te.push(c),c.observers&&fs(c)),u||(c.state=Ne)}if(pe.length>1e6)throw pe=[],new Error},!1)),e}function $t(r){if(!r.fn)return;wt(r);const e=nr;Eo(r,r.value,e)}function Eo(r,e,t){let n;const a=z,c=Z;Z=z=r;try{n=r.fn(e)}catch(u){return r.pure&&(r.state=Ne,r.owned&&r.owned.forEach(wt),r.owned=null),r.updatedAt=t+1,zr(u)}finally{Z=c,z=a}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?ls(r,n):r.value=n,r.updatedAt=t)}function Wr(r,e,t,n=Ne,a){const c={fn:r,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:z,context:z?z.context:null,pure:t};return z===null||z!==is&&(z.owned?z.owned.push(c):z.owned=[c]),c}function Zt(r){if(r.state===0)return;if(r.state===Xt)return Yt(r);if(r.suspense&&$e(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<nr);)r.state&&e.push(r);for(let t=e.length-1;t>=0;t--)if(r=e[t],r.state===Ne)$t(r);else if(r.state===Xt){const n=pe;pe=null,Ie(()=>Yt(r,e[0]),!1),pe=n}}function Ie(r,e){if(pe)return r();let t=!1;e||(pe=[]),Te?t=!0:Te=[],nr++;try{const n=r();return Fo(t),n}catch(n){t||(Te=null),pe=null,zr(n)}}function Fo(r){if(pe&&(ds(pe),pe=null),r)return;const e=Te;Te=null,e.length&&Ie(()=>ss(e),!1)}function ds(r){for(let e=0;e<r.length;e++)Zt(r[e])}function To(r){let e,t=0;for(e=0;e<r.length;e++){const n=r[e];n.user?r[t++]=n:Zt(n)}for(e=0;e<t;e++)Zt(r[e])}function Yt(r,e){r.state=0;for(let t=0;t<r.sources.length;t+=1){const n=r.sources[t];if(n.sources){const a=n.state;a===Ne?n!==e&&(!n.updatedAt||n.updatedAt<nr)&&Zt(n):a===Xt&&Yt(n,e)}}}function fs(r){for(let e=0;e<r.observers.length;e+=1){const t=r.observers[e];t.state||(t.state=Xt,t.pure?pe.push(t):Te.push(t),t.observers&&fs(t))}}function wt(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),n=r.sourceSlots.pop(),a=t.observers;if(a&&a.length){const c=a.pop(),u=t.observerSlots.pop();n<a.length&&(c.sourceSlots[u]=n,a[n]=c,t.observerSlots[n]=u)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)wt(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)wt(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function Ro(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function zr(r,e=z){throw Ro(r)}function Rr(r){if(typeof r=="function"&&!r.length)return Rr(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const n=Rr(r[t]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return r}function Oo(r,e){return function(n){let a;return we(()=>a=$e(()=>(z.context={...z.context,[r]:n.value},st(()=>n.children))),void 0),a}}function j(r,e){return $e(()=>r(e||{}))}function Dt(){return!0}const Bo={get(r,e,t){return e===Tr?t:r.get(e)},has(r,e){return e===Tr?!0:r.has(e)},set:Dt,deleteProperty:Dt,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:Dt,deleteProperty:Dt}},ownKeys(r){return r.keys()}};function Mr(r){return(r=typeof r=="function"?r():r)?r:{}}function Lo(){for(let r=0,e=this.length;r<e;++r){const t=this[r]();if(t!==void 0)return t}}function No(...r){let e=!1;for(let u=0;u<r.length;u++){const d=r[u];e=e||!!d&&Tr in d,r[u]=typeof d=="function"?(e=!0,R(d)):d}if(Mo&&e)return new Proxy({get(u){for(let d=r.length-1;d>=0;d--){const g=Mr(r[d])[u];if(g!==void 0)return g}},has(u){for(let d=r.length-1;d>=0;d--)if(u in Mr(r[d]))return!0;return!1},keys(){const u=[];for(let d=0;d<r.length;d++)u.push(...Object.keys(Mr(r[d])));return[...new Set(u)]}},Bo);const t={},n=Object.create(null);for(let u=r.length-1;u>=0;u--){const d=r[u];if(!d)continue;const g=Object.getOwnPropertyNames(d);for(let o=g.length-1;o>=0;o--){const f=g[o];if(f==="__proto__"||f==="constructor")continue;const p=Object.getOwnPropertyDescriptor(d,f);if(!n[f])n[f]=p.get?{enumerable:!0,configurable:!0,get:Lo.bind(t[f]=[p.get.bind(d)])}:p.value!==void 0?p:void 0;else{const P=t[f];P&&(p.get?P.push(p.get.bind(d)):p.value!==void 0&&P.push(()=>p.value))}}}const a={},c=Object.keys(n);for(let u=c.length-1;u>=0;u--){const d=c[u],g=n[d];g&&g.get?Object.defineProperty(a,d,g):a[d]=g?g.value:void 0}return a}const qo=r=>`Stale read from <${r}>.`;function hs(r){const e=r.keyed,t=R(()=>r.when,void 0,{equals:(n,a)=>e?n===a:!n==!a});return R(()=>{const n=t();if(n){const a=r.children;return typeof a=="function"&&a.length>0?$e(()=>a(e?n:()=>{if(!$e(t))throw qo("Show");return r.when})):a}return r.fallback},void 0,void 0)}function Io(r,e,t){let n=t.length,a=e.length,c=n,u=0,d=0,g=e[a-1].nextSibling,o=null;for(;u<a||d<c;){if(e[u]===t[d]){u++,d++;continue}for(;e[a-1]===t[c-1];)a--,c--;if(a===u){const f=c<n?d?t[d-1].nextSibling:t[c-d]:g;for(;d<c;)r.insertBefore(t[d++],f)}else if(c===d)for(;u<a;)(!o||!o.has(e[u]))&&e[u].remove(),u++;else if(e[u]===t[c-1]&&t[d]===e[a-1]){const f=e[--a].nextSibling;r.insertBefore(t[d++],e[u++].nextSibling),r.insertBefore(t[--c],f),e[a]=t[c]}else{if(!o){o=new Map;let p=d;for(;p<c;)o.set(t[p],p++)}const f=o.get(e[u]);if(f!=null)if(d<f&&f<c){let p=u,P=1,b;for(;++p<a&&p<c&&!((b=o.get(e[p]))==null||b!==f+P);)P++;if(P>f-d){const C=e[u];for(;d<f;)r.insertBefore(t[d++],C)}else r.replaceChild(t[d++],e[u++])}else u++;else e[u++].remove()}}}const Bn="_$DX_DELEGATE";function jo(r,e,t,n={}){let a;return as(c=>{a=c,e===document?r():x(e,r(),e.firstChild?null:void 0,t)},n.owner),()=>{a(),e.textContent=""}}function D(r,e,t){let n;const a=()=>{const u=document.createElement("template");return u.innerHTML=r,u.content.firstChild},c=()=>(n||(n=a())).cloneNode(!0);return c.cloneNode=c,c}function sr(r,e=window.document){const t=e[Bn]||(e[Bn]=new Set);for(let n=0,a=r.length;n<a;n++){const c=r[n];t.has(c)||(t.add(c),e.addEventListener(c,Vo))}}function de(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function ps(r,e){e==null?r.removeAttribute("class"):r.className=e}function Do(r,e,t){return $e(()=>r(e,t))}function x(r,e,t,n){if(t!==void 0&&!n&&(n=[]),typeof e!="function")return er(r,e,n,t);we(a=>er(r,e(),a,t),n)}function Vo(r){let e=r.target;const t=`$$${r.type}`,n=r.target,a=r.currentTarget,c=g=>Object.defineProperty(r,"target",{configurable:!0,value:g}),u=()=>{const g=e[t];if(g&&!e.disabled){const o=e[`${t}Data`];if(o!==void 0?g.call(e,o,r):g.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&c(e.host),!0},d=()=>{for(;u()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const g=r.composedPath();c(g[0]);for(let o=0;o<g.length-2&&(e=g[o],!!u());o++){if(e._$host){e=e._$host,d();break}if(e.parentNode===a)break}}else d();c(n)}function er(r,e,t,n,a){for(;typeof t=="function";)t=t();if(e===t)return t;const c=typeof e,u=n!==void 0;if(r=u&&t[0]&&t[0].parentNode||r,c==="string"||c==="number"){if(c==="number"&&(e=e.toString(),e===t))return t;if(u){let d=t[0];d&&d.nodeType===3?d.data!==e&&(d.data=e):d=document.createTextNode(e),t=Xe(r,t,n,d)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||c==="boolean")t=Xe(r,t,n);else{if(c==="function")return we(()=>{let d=e();for(;typeof d=="function";)d=d();t=er(r,d,t,n)}),()=>t;if(Array.isArray(e)){const d=[],g=t&&Array.isArray(t);if(Or(d,e,t,a))return we(()=>t=er(r,d,t,n,!0)),()=>t;if(d.length===0){if(t=Xe(r,t,n),u)return t}else g?t.length===0?Ln(r,d,n):Io(r,t,d):(t&&Xe(r),Ln(r,d));t=d}else if(e.nodeType){if(Array.isArray(t)){if(u)return t=Xe(r,t,n,e);Xe(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}}return t}function Or(r,e,t,n){let a=!1;for(let c=0,u=e.length;c<u;c++){let d=e[c],g=t&&t[r.length],o;if(!(d==null||d===!0||d===!1))if((o=typeof d)=="object"&&d.nodeType)r.push(d);else if(Array.isArray(d))a=Or(r,d,g)||a;else if(o==="function")if(n){for(;typeof d=="function";)d=d();a=Or(r,Array.isArray(d)?d:[d],Array.isArray(g)?g:[g])||a}else r.push(d),a=!0;else{const f=String(d);g&&g.nodeType===3&&g.data===f?r.push(g):r.push(document.createTextNode(f))}}return a}function Ln(r,e,t=null){for(let n=0,a=e.length;n<a;n++)r.insertBefore(e[n],t)}function Xe(r,e,t,n){if(t===void 0)return r.textContent="";const a=n||document.createTextNode("");if(e.length){let c=!1;for(let u=e.length-1;u>=0;u--){const d=e[u];if(a!==d){const g=d.parentNode===r;!c&&!u?g?r.replaceChild(a,d):r.insertBefore(a,t):g&&d.remove()}else c=!0}}else r.insertBefore(a,t);return[a]}const Uo=!1;function ms(){let r=new Set;function e(a){return r.add(a),()=>r.delete(a)}let t=!1;function n(a,c){if(t)return!(t=!1);const u={to:a,options:c,defaultPrevented:!1,preventDefault:()=>u.defaultPrevented=!0};for(const d of r)d.listener({...u,from:d.location,retry:g=>{g&&(t=!0),d.navigate(a,{...c,resolve:!1})}});return!u.defaultPrevented}return{subscribe:e,confirm:n}}let Br;function Hr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Br=window.history.state._depth}Hr();function Wo(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function zo(r,e){let t=!1;return()=>{const n=Br;Hr();const a=n==null?null:Br-n;if(t){t=!1;return}a&&e(a)?(t=!0,window.history.go(-a)):r()}}const Ho=/^(?:[a-z0-9]+:)?\/\//i,Go=/^\/+|(\/)\/+$/g,gs="http://sr";function pt(r,e=!1){const t=r.replace(Go,"$1");return t?e||/^[?#]/.test(t)?t:"/"+t:""}function Ht(r,e,t){if(Ho.test(e))return;const n=pt(r),a=t&&pt(t);let c="";return!a||e.startsWith("/")?c=n:a.toLowerCase().indexOf(n.toLowerCase())!==0?c=n+a:c=a,(c||"/")+pt(e,!c)}function Qo(r,e){if(r==null)throw new Error(e);return r}function Ko(r,e){return pt(r).replace(/\/*(\*.*)?$/g,"")+pt(e)}function vs(r){const e={};return r.searchParams.forEach((t,n)=>{n in e?Array.isArray(e[n])?e[n].push(t):e[n]=[e[n],t]:e[n]=t}),e}function Jo(r,e,t){const[n,a]=r.split("/*",2),c=n.split("/").filter(Boolean),u=c.length;return d=>{const g=d.split("/").filter(Boolean),o=g.length-u;if(o<0||o>0&&a===void 0&&!e)return null;const f={path:u?"":"/",params:{}},p=P=>t===void 0?void 0:t[P];for(let P=0;P<u;P++){const b=c[P],C=b[0]===":",S=C?g[P]:g[P].toLowerCase(),k=C?b.slice(1):b.toLowerCase();if(C&&kr(S,p(k)))f.params[k]=S;else if(C||!kr(S,k))return null;f.path+=`/${S}`}if(a){const P=o?g.slice(-o).join("/"):"";if(kr(P,p(a)))f.params[a]=P;else return null}return f}}function kr(r,e){const t=n=>n===r;return e===void 0?!0:typeof e=="string"?t(e):typeof e=="function"?e(r):Array.isArray(e)?e.some(t):e instanceof RegExp?e.test(r):!1}function Xo(r){const[e,t]=r.pattern.split("/*",2),n=e.split("/").filter(Boolean);return n.reduce((a,c)=>a+(c.startsWith(":")?2:3),n.length-(t===void 0?0:1))}function ws(r){const e=new Map,t=os();return new Proxy({},{get(n,a){return e.has(a)||cs(t,()=>e.set(a,R(()=>r()[a]))),e.get(a)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function ys(r){let e=/(\/?\:[^\/]+)\?/.exec(r);if(!e)return[r];let t=r.slice(0,e.index),n=r.slice(e.index+e[0].length);const a=[t,t+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(n);)a.push(t+=e[1]),n=n.slice(e[0].length);return ys(n).reduce((c,u)=>[...c,...a.map(d=>d+u)],[])}const Zo=100,bs=rt(),Ss=rt(),Gr=()=>Qo(nt(bs),"<A> and 'use' router primitives can be only used inside a Route."),Yo=r=>{const e=Gr();return R(()=>{const t=r();return t!==void 0?e.renderPath(t):t})},ec=()=>Gr().navigatorFactory(),tc=()=>Gr().params;function rc(r,e=""){const{component:t,preload:n,load:a,children:c,info:u}=r,d=!c||Array.isArray(c)&&!c.length,g={key:r,component:t,preload:n||a,info:u};return $s(r.path).reduce((o,f)=>{for(const p of ys(f)){const P=Ko(e,p);let b=d?P:P.split("/*",1)[0];b=b.split("/").map(C=>C.startsWith(":")||C.startsWith("*")?C:encodeURIComponent(C)).join("/"),o.push({...g,originalPath:f,pattern:b,matcher:Jo(b,!d,r.matchFilters)})}return o},[])}function nc(r,e=0){return{routes:r,score:Xo(r[r.length-1])*1e4-e,matcher(t){const n=[];for(let a=r.length-1;a>=0;a--){const c=r[a],u=c.matcher(t);if(!u)return null;n.unshift({...u,route:c})}return n}}}function $s(r){return Array.isArray(r)?r:[r]}function Ps(r,e="",t=[],n=[]){const a=$s(r);for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d&&typeof d=="object"){d.hasOwnProperty("path")||(d.path="");const g=rc(d,e);for(const o of g){t.push(o);const f=Array.isArray(d.children)&&d.children.length===0;if(d.children&&!f)Ps(d.children,o.pattern,t,n);else{const p=nc([...t],n.length);n.push(p)}t.pop()}}}return t.length?n:n.sort((c,u)=>u.score-c.score)}function Ar(r,e){for(let t=0,n=r.length;t<n;t++){const a=r[t].matcher(e);if(a)return a}return[]}function sc(r,e,t){const n=new URL(gs),a=R(f=>{const p=r();try{return new URL(p,n)}catch{return console.error(`Invalid path ${p}`),f}},n,{equals:(f,p)=>f.href===p.href}),c=R(()=>a().pathname),u=R(()=>a().search,!0),d=R(()=>a().hash),g=()=>"",o=Ur(u,()=>vs(a()));return{get pathname(){return c()},get search(){return u()},get hash(){return d()},get state(){return e()},get key(){return g()},query:t?t(o):ws(o)}}let ze;function ic(){return ze}function ac(r,e,t,n={}){const{signal:[a,c],utils:u={}}=r,d=u.parsePath||(H=>H),g=u.renderPath||(H=>H),o=u.beforeLeave||ms(),f=Ht("",n.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!a().value&&c({value:f,replace:!0,scroll:!1});const[p,P]=oe(!1);let b;const C=(H,K)=>{K.value===S()&&K.state===E()||(b===void 0&&P(!0),ze=H,b=K,xo(()=>{b===K&&(k(b.value),T(b.state),ce[1](he=>he.filter(Me=>Me.pending)))}).finally(()=>{b===K&&Ao(()=>{ze=void 0,H==="navigate"&&L(b),P(!1),b=void 0})}))},[S,k]=oe(a().value),[E,T]=oe(a().state),G=sc(S,E,u.queryWrapper),te=[],ce=oe([]),J=R(()=>typeof n.transformUrl=="function"?Ar(e(),n.transformUrl(G.pathname)):Ar(e(),G.pathname)),Q=()=>{const H=J(),K={};for(let he=0;he<H.length;he++)Object.assign(K,H[he].params);return K},V=u.paramsWrapper?u.paramsWrapper(Q,e):ws(Q),Y={pattern:f,path:()=>f,outlet:()=>null,resolvePath(H){return Ht(f,H)}};return we(Ur(a,H=>C("native",H),{defer:!0})),{base:Y,location:G,params:V,isRouting:p,renderPath:g,parsePath:d,navigatorFactory:ue,matches:J,beforeLeave:o,preloadRoute:Pt,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:ce};function Pe(H,K,he){$e(()=>{if(typeof K=="number"){K&&(u.go?u.go(K):console.warn("Router integration does not support relative routing"));return}const Me=!K||K[0]==="?",{replace:Ge,resolve:Re,scroll:it,state:je}={replace:!1,resolve:!Me,scroll:!0,...he},Qe=Re?H.resolvePath(K):Ht(Me&&G.pathname||"",K);if(Qe===void 0)throw new Error(`Path '${K}' is not a routable path`);if(te.length>=Zo)throw new Error("Too many redirects");const Ct=S();(Qe!==Ct||je!==E())&&(Uo||o.confirm(Qe,he)&&(te.push({value:Ct,replace:Ge,scroll:it,state:E()}),C("navigate",{value:Qe,state:je})))})}function ue(H){return H=H||nt(Ss)||Y,(K,he)=>Pe(H,K,he)}function L(H){const K=te[0];K&&(c({...H,replace:K.replace,scroll:K.scroll}),te.length=0)}function Pt(H,K){const he=Ar(e(),H.pathname),Me=ze;ze="preload";for(let Ge in he){const{route:Re,params:it}=he[Ge];Re.component&&Re.component.preload&&Re.component.preload();const{preload:je}=Re;K&&je&&cs(t(),()=>je({params:it,location:{pathname:H.pathname,search:H.search,hash:H.hash,query:vs(H),state:null,key:""},intent:"preload"}))}ze=Me}}function oc(r,e,t,n){const{base:a,location:c,params:u}=r,{pattern:d,component:g,preload:o}=n().route,f=R(()=>n().path);g&&g.preload&&g.preload();const p=o?o({params:u,location:c,intent:ze||"initial"}):void 0;return{parent:e,pattern:d,path:f,outlet:()=>g?j(g,{params:u,location:c,data:p,get children(){return t()}}):t(),resolvePath(b){return Ht(a.path(),b,f())}}}const cc=r=>e=>{const{base:t}=e,n=st(()=>e.children),a=R(()=>Ps(n(),e.base||""));let c;const u=ac(r,a,()=>c,{base:t,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return r.create&&r.create(u),j(bs.Provider,{value:u,get children(){return j(uc,{routerState:u,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[R(()=>(c=os())&&null),j(lc,{routerState:u,get branches(){return a()}})]}})}})};function uc(r){const e=r.routerState.location,t=r.routerState.params,n=R(()=>r.preload&&$e(()=>{r.preload({params:t,location:e,intent:ic()||"initial"})}));return j(hs,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:a=>j(a,{params:t,location:e,get data(){return n()},get children(){return r.children}})})}function lc(r){const e=[];let t;const n=R(Ur(r.routerState.matches,(a,c,u)=>{let d=c&&a.length===c.length;const g=[];for(let o=0,f=a.length;o<f;o++){const p=c&&c[o],P=a[o];u&&p&&P.route.key===p.route.key?g[o]=u[o]:(d=!1,e[o]&&e[o](),as(b=>{e[o]=b,g[o]=oc(r.routerState,g[o-1]||r.routerState.base,Nn(()=>n()[o+1]),()=>r.routerState.matches()[o])}))}return e.splice(a.length).forEach(o=>o()),u&&d?u:(t=g[0],g)}));return Nn(()=>n()&&t)()}const Nn=r=>()=>j(hs,{get when(){return r()},keyed:!0,children:e=>j(Ss.Provider,{value:e,get children(){return e.outlet()}})}),Vt=r=>{const e=st(()=>r.children);return No(r,{get children(){return e()}})};function dc([r,e],t,n){return[r,a=>e(n(a))]}function fc(r){let e=!1;const t=a=>typeof a=="string"?{value:a}:a,n=dc(oe(t(r.get()),{equals:(a,c)=>a.value===c.value&&a.state===c.state}),void 0,a=>(!e&&r.set(a),a));return r.init&&St(r.init((a=r.get())=>{e=!0,n[1](t(a)),e=!1})),cc({signal:n,create:r.create,utils:r.utils})}function hc(r,e,t){return r.addEventListener(e,t),()=>r.removeEventListener(e,t)}function pc(r,e){const t=r&&document.getElementById(r);t?t.scrollIntoView():e&&window.scrollTo(0,0)}const mc=new Map;function gc(r=!0,e=!1,t="/_server",n){return a=>{const c=a.base.path(),u=a.navigatorFactory(a.base);let d,g;function o(S){return S.namespaceURI==="http://www.w3.org/2000/svg"}function f(S){if(S.defaultPrevented||S.button!==0||S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)return;const k=S.composedPath().find(J=>J instanceof Node&&J.nodeName.toUpperCase()==="A");if(!k||e&&!k.hasAttribute("link"))return;const E=o(k),T=E?k.href.baseVal:k.href;if((E?k.target.baseVal:k.target)||!T&&!k.hasAttribute("state"))return;const te=(k.getAttribute("rel")||"").split(/\s+/);if(k.hasAttribute("download")||te&&te.includes("external"))return;const ce=E?new URL(T,document.baseURI):new URL(T);if(!(ce.origin!==window.location.origin||c&&ce.pathname&&!ce.pathname.toLowerCase().startsWith(c.toLowerCase())))return[k,ce]}function p(S){const k=f(S);if(!k)return;const[E,T]=k,G=a.parsePath(T.pathname+T.search+T.hash),te=E.getAttribute("state");S.preventDefault(),u(G,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:te?JSON.parse(te):void 0})}function P(S){const k=f(S);if(!k)return;const[E,T]=k;n&&(T.pathname=n(T.pathname)),a.preloadRoute(T,E.getAttribute("preload")!=="false")}function b(S){clearTimeout(d);const k=f(S);if(!k)return g=null;const[E,T]=k;g!==E&&(n&&(T.pathname=n(T.pathname)),d=setTimeout(()=>{a.preloadRoute(T,E.getAttribute("preload")!=="false"),g=E},20))}function C(S){if(S.defaultPrevented)return;let k=S.submitter&&S.submitter.hasAttribute("formaction")?S.submitter.getAttribute("formaction"):S.target.getAttribute("action");if(!k)return;if(!k.startsWith("https://action/")){const T=new URL(k,gs);if(k=a.parsePath(T.pathname+T.search),!k.startsWith(t))return}if(S.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const E=mc.get(k);if(E){S.preventDefault();const T=new FormData(S.target,S.submitter);E.call({r:a,f:S.target},S.target.enctype==="multipart/form-data"?T:new URLSearchParams(T))}}sr(["click","submit"]),document.addEventListener("click",p),r&&(document.addEventListener("mousemove",b,{passive:!0}),document.addEventListener("focusin",P,{passive:!0}),document.addEventListener("touchstart",P,{passive:!0})),document.addEventListener("submit",C),St(()=>{document.removeEventListener("click",p),r&&(document.removeEventListener("mousemove",b),document.removeEventListener("focusin",P),document.removeEventListener("touchstart",P)),document.removeEventListener("submit",C)})}}function vc(r){const e=()=>{const n=window.location.pathname.replace(/^\/+/,"/")+window.location.search,a=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:n+window.location.hash,state:a}},t=ms();return fc({get:e,set({value:n,replace:a,scroll:c,state:u}){a?window.history.replaceState(Wo(u),"",n):window.history.pushState(u,"",n),pc(decodeURIComponent(window.location.hash.slice(1)),c),Hr()},init:n=>hc(window,"popstate",zo(n,a=>{if(a&&a<0)return!t.confirm(a);{const c=e();return!t.confirm(c.value,{state:c.state})}})),create:gc(r.preload,r.explicitLinks,r.actionBase,r.transformUrl),utils:{go:n=>window.history.go(n),beforeLeave:t}})(r)}var xr={},Ut={},Gt={exports:{}},wc=Gt.exports,qn;function yc(){return qn||(qn=1,function(r,e){(function(t,n){r.exports=n()})(wc,function(){return function(t){var n={};function a(c){if(n[c])return n[c].exports;var u=n[c]={i:c,l:!1,exports:{}};return t[c].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=t,a.c=n,a.d=function(c,u,d){a.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:d})},a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,u){if(1&u&&(c=a(c)),8&u||4&u&&typeof c=="object"&&c&&c.__esModule)return c;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:c}),2&u&&typeof c!="string")for(var g in c)a.d(d,g,function(o){return c[o]}.bind(null,g));return d},a.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(u,"a",u),u},a.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},a.p="",a(a.s=90)}({17:function(t,n,a){n.__esModule=!0,n.default=void 0;var c=a(18),u=function(){function d(){}return d.getFirstMatch=function(g,o){var f=o.match(g);return f&&f.length>0&&f[1]||""},d.getSecondMatch=function(g,o){var f=o.match(g);return f&&f.length>1&&f[2]||""},d.matchAndReturnConst=function(g,o,f){if(g.test(o))return f},d.getWindowsVersionName=function(g){switch(g){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},d.getMacOSVersionName=function(g){var o=g.split(".").splice(0,2).map(function(f){return parseInt(f,10)||0});if(o.push(0),o[0]===10)switch(o[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},d.getAndroidVersionName=function(g){var o=g.split(".").splice(0,2).map(function(f){return parseInt(f,10)||0});if(o.push(0),!(o[0]===1&&o[1]<5))return o[0]===1&&o[1]<6?"Cupcake":o[0]===1&&o[1]>=6?"Donut":o[0]===2&&o[1]<2?"Eclair":o[0]===2&&o[1]===2?"Froyo":o[0]===2&&o[1]>2?"Gingerbread":o[0]===3?"Honeycomb":o[0]===4&&o[1]<1?"Ice Cream Sandwich":o[0]===4&&o[1]<4?"Jelly Bean":o[0]===4&&o[1]>=4?"KitKat":o[0]===5?"Lollipop":o[0]===6?"Marshmallow":o[0]===7?"Nougat":o[0]===8?"Oreo":o[0]===9?"Pie":void 0},d.getVersionPrecision=function(g){return g.split(".").length},d.compareVersions=function(g,o,f){f===void 0&&(f=!1);var p=d.getVersionPrecision(g),P=d.getVersionPrecision(o),b=Math.max(p,P),C=0,S=d.map([g,o],function(k){var E=b-d.getVersionPrecision(k),T=k+new Array(E+1).join(".0");return d.map(T.split("."),function(G){return new Array(20-G.length).join("0")+G}).reverse()});for(f&&(C=b-Math.min(p,P)),b-=1;b>=C;){if(S[0][b]>S[1][b])return 1;if(S[0][b]===S[1][b]){if(b===C)return 0;b-=1}else if(S[0][b]<S[1][b])return-1}},d.map=function(g,o){var f,p=[];if(Array.prototype.map)return Array.prototype.map.call(g,o);for(f=0;f<g.length;f+=1)p.push(o(g[f]));return p},d.find=function(g,o){var f,p;if(Array.prototype.find)return Array.prototype.find.call(g,o);for(f=0,p=g.length;f<p;f+=1){var P=g[f];if(o(P,f))return P}},d.assign=function(g){for(var o,f,p=g,P=arguments.length,b=new Array(P>1?P-1:0),C=1;C<P;C++)b[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[g].concat(b));var S=function(){var k=b[o];typeof k=="object"&&k!==null&&Object.keys(k).forEach(function(E){p[E]=k[E]})};for(o=0,f=b.length;o<f;o+=1)S();return g},d.getBrowserAlias=function(g){return c.BROWSER_ALIASES_MAP[g]},d.getBrowserTypeByAlias=function(g){return c.BROWSER_MAP[g]||""},d}();n.default=u,t.exports=n.default},18:function(t,n,a){n.__esModule=!0,n.ENGINE_MAP=n.OS_MAP=n.PLATFORMS_MAP=n.BROWSER_MAP=n.BROWSER_ALIASES_MAP=void 0,n.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},n.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},n.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},n.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,n,a){n.__esModule=!0,n.default=void 0;var c,u=(c=a(91))&&c.__esModule?c:{default:c},d=a(18);function g(f,p){for(var P=0;P<p.length;P++){var b=p[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}var o=function(){function f(){}var p,P,b;return f.getParser=function(C,S){if(S===void 0&&(S=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new u.default(C,S)},f.parse=function(C){return new u.default(C).getResult()},p=f,b=[{key:"BROWSER_MAP",get:function(){return d.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return d.ENGINE_MAP}},{key:"OS_MAP",get:function(){return d.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return d.PLATFORMS_MAP}}],(P=null)&&g(p.prototype,P),b&&g(p,b),f}();n.default=o,t.exports=n.default},91:function(t,n,a){n.__esModule=!0,n.default=void 0;var c=f(a(92)),u=f(a(93)),d=f(a(94)),g=f(a(95)),o=f(a(17));function f(P){return P&&P.__esModule?P:{default:P}}var p=function(){function P(C,S){if(S===void 0&&(S=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},S!==!0&&this.parse()}var b=P.prototype;return b.getUA=function(){return this._ua},b.test=function(C){return C.test(this._ua)},b.parseBrowser=function(){var C=this;this.parsedResult.browser={};var S=o.default.find(c.default,function(k){if(typeof k.test=="function")return k.test(C);if(k.test instanceof Array)return k.test.some(function(E){return C.test(E)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.browser=S.describe(this.getUA())),this.parsedResult.browser},b.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},b.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},b.getBrowserVersion=function(){return this.getBrowser().version},b.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},b.parseOS=function(){var C=this;this.parsedResult.os={};var S=o.default.find(u.default,function(k){if(typeof k.test=="function")return k.test(C);if(k.test instanceof Array)return k.test.some(function(E){return C.test(E)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.os=S.describe(this.getUA())),this.parsedResult.os},b.getOSName=function(C){var S=this.getOS().name;return C?String(S).toLowerCase()||"":S||""},b.getOSVersion=function(){return this.getOS().version},b.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},b.getPlatformType=function(C){C===void 0&&(C=!1);var S=this.getPlatform().type;return C?String(S).toLowerCase()||"":S||""},b.parsePlatform=function(){var C=this;this.parsedResult.platform={};var S=o.default.find(d.default,function(k){if(typeof k.test=="function")return k.test(C);if(k.test instanceof Array)return k.test.some(function(E){return C.test(E)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.platform=S.describe(this.getUA())),this.parsedResult.platform},b.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},b.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},b.parseEngine=function(){var C=this;this.parsedResult.engine={};var S=o.default.find(g.default,function(k){if(typeof k.test=="function")return k.test(C);if(k.test instanceof Array)return k.test.some(function(E){return C.test(E)});throw new Error("Browser's test function is not valid")});return S&&(this.parsedResult.engine=S.describe(this.getUA())),this.parsedResult.engine},b.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},b.getResult=function(){return o.default.assign({},this.parsedResult)},b.satisfies=function(C){var S=this,k={},E=0,T={},G=0;if(Object.keys(C).forEach(function(ue){var L=C[ue];typeof L=="string"?(T[ue]=L,G+=1):typeof L=="object"&&(k[ue]=L,E+=1)}),E>0){var te=Object.keys(k),ce=o.default.find(te,function(ue){return S.isOS(ue)});if(ce){var J=this.satisfies(k[ce]);if(J!==void 0)return J}var Q=o.default.find(te,function(ue){return S.isPlatform(ue)});if(Q){var V=this.satisfies(k[Q]);if(V!==void 0)return V}}if(G>0){var Y=Object.keys(T),Pe=o.default.find(Y,function(ue){return S.isBrowser(ue,!0)});if(Pe!==void 0)return this.compareVersion(T[Pe])}},b.isBrowser=function(C,S){S===void 0&&(S=!1);var k=this.getBrowserName().toLowerCase(),E=C.toLowerCase(),T=o.default.getBrowserTypeByAlias(E);return S&&T&&(E=T.toLowerCase()),E===k},b.compareVersion=function(C){var S=[0],k=C,E=!1,T=this.getBrowserVersion();if(typeof T=="string")return C[0]===">"||C[0]==="<"?(k=C.substr(1),C[1]==="="?(E=!0,k=C.substr(2)):S=[],C[0]===">"?S.push(1):S.push(-1)):C[0]==="="?k=C.substr(1):C[0]==="~"&&(E=!0,k=C.substr(1)),S.indexOf(o.default.compareVersions(T,k,E))>-1},b.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},b.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},b.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},b.is=function(C,S){return S===void 0&&(S=!1),this.isBrowser(C,S)||this.isOS(C)||this.isPlatform(C)},b.some=function(C){var S=this;return C===void 0&&(C=[]),C.some(function(k){return S.is(k)})},P}();n.default=p,t.exports=n.default},92:function(t,n,a){n.__esModule=!0,n.default=void 0;var c,u=(c=a(17))&&c.__esModule?c:{default:c},d=/version\/(\d+(\.?_?\d+)+)/i,g=[{test:[/googlebot/i],describe:function(o){var f={name:"Googlebot"},p=u.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/opera/i],describe:function(o){var f={name:"Opera"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/opr\/|opios/i],describe:function(o){var f={name:"Opera"},p=u.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/SamsungBrowser/i],describe:function(o){var f={name:"Samsung Internet for Android"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/Whale/i],describe:function(o){var f={name:"NAVER Whale Browser"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/MZBrowser/i],describe:function(o){var f={name:"MZ Browser"},p=u.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/focus/i],describe:function(o){var f={name:"Focus"},p=u.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/swing/i],describe:function(o){var f={name:"Swing"},p=u.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/coast/i],describe:function(o){var f={name:"Opera Coast"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(o){var f={name:"Opera Touch"},p=u.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/yabrowser/i],describe:function(o){var f={name:"Yandex Browser"},p=u.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/ucbrowser/i],describe:function(o){var f={name:"UC Browser"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/Maxthon|mxios/i],describe:function(o){var f={name:"Maxthon"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/epiphany/i],describe:function(o){var f={name:"Epiphany"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/puffin/i],describe:function(o){var f={name:"Puffin"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/sleipnir/i],describe:function(o){var f={name:"Sleipnir"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/k-meleon/i],describe:function(o){var f={name:"K-Meleon"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/micromessenger/i],describe:function(o){var f={name:"WeChat"},p=u.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/qqbrowser/i],describe:function(o){var f={name:/qqbrowserlite/i.test(o)?"QQ Browser Lite":"QQ Browser"},p=u.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/msie|trident/i],describe:function(o){var f={name:"Internet Explorer"},p=u.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/\sedg\//i],describe:function(o){var f={name:"Microsoft Edge"},p=u.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/edg([ea]|ios)/i],describe:function(o){var f={name:"Microsoft Edge"},p=u.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/vivaldi/i],describe:function(o){var f={name:"Vivaldi"},p=u.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/seamonkey/i],describe:function(o){var f={name:"SeaMonkey"},p=u.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/sailfish/i],describe:function(o){var f={name:"Sailfish"},p=u.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,o);return p&&(f.version=p),f}},{test:[/silk/i],describe:function(o){var f={name:"Amazon Silk"},p=u.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/phantom/i],describe:function(o){var f={name:"PhantomJS"},p=u.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/slimerjs/i],describe:function(o){var f={name:"SlimerJS"},p=u.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(o){var f={name:"BlackBerry"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/(web|hpw)[o0]s/i],describe:function(o){var f={name:"WebOS Browser"},p=u.default.getFirstMatch(d,o)||u.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/bada/i],describe:function(o){var f={name:"Bada"},p=u.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/tizen/i],describe:function(o){var f={name:"Tizen"},p=u.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/qupzilla/i],describe:function(o){var f={name:"QupZilla"},p=u.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/firefox|iceweasel|fxios/i],describe:function(o){var f={name:"Firefox"},p=u.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/electron/i],describe:function(o){var f={name:"Electron"},p=u.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/MiuiBrowser/i],describe:function(o){var f={name:"Miui"},p=u.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/chromium/i],describe:function(o){var f={name:"Chromium"},p=u.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,o)||u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/chrome|crios|crmo/i],describe:function(o){var f={name:"Chrome"},p=u.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/GSA/i],describe:function(o){var f={name:"Google Search"},p=u.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:function(o){var f=!o.test(/like android/i),p=o.test(/android/i);return f&&p},describe:function(o){var f={name:"Android Browser"},p=u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/playstation 4/i],describe:function(o){var f={name:"PlayStation 4"},p=u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/safari|applewebkit/i],describe:function(o){var f={name:"Safari"},p=u.default.getFirstMatch(d,o);return p&&(f.version=p),f}},{test:[/.*/i],describe:function(o){var f=o.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:u.default.getFirstMatch(f,o),version:u.default.getSecondMatch(f,o)}}}];n.default=g,t.exports=n.default},93:function(t,n,a){n.__esModule=!0,n.default=void 0;var c,u=(c=a(17))&&c.__esModule?c:{default:c},d=a(18),g=[{test:[/Roku\/DVP/],describe:function(o){var f=u.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,o);return{name:d.OS_MAP.Roku,version:f}}},{test:[/windows phone/i],describe:function(o){var f=u.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,o);return{name:d.OS_MAP.WindowsPhone,version:f}}},{test:[/windows /i],describe:function(o){var f=u.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,o),p=u.default.getWindowsVersionName(f);return{name:d.OS_MAP.Windows,version:f,versionName:p}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(o){var f={name:d.OS_MAP.iOS},p=u.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,o);return p&&(f.version=p),f}},{test:[/macintosh/i],describe:function(o){var f=u.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,o).replace(/[_\s]/g,"."),p=u.default.getMacOSVersionName(f),P={name:d.OS_MAP.MacOS,version:f};return p&&(P.versionName=p),P}},{test:[/(ipod|iphone|ipad)/i],describe:function(o){var f=u.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,o).replace(/[_\s]/g,".");return{name:d.OS_MAP.iOS,version:f}}},{test:function(o){var f=!o.test(/like android/i),p=o.test(/android/i);return f&&p},describe:function(o){var f=u.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,o),p=u.default.getAndroidVersionName(f),P={name:d.OS_MAP.Android,version:f};return p&&(P.versionName=p),P}},{test:[/(web|hpw)[o0]s/i],describe:function(o){var f=u.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,o),p={name:d.OS_MAP.WebOS};return f&&f.length&&(p.version=f),p}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(o){var f=u.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,o)||u.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,o)||u.default.getFirstMatch(/\bbb(\d+)/i,o);return{name:d.OS_MAP.BlackBerry,version:f}}},{test:[/bada/i],describe:function(o){var f=u.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,o);return{name:d.OS_MAP.Bada,version:f}}},{test:[/tizen/i],describe:function(o){var f=u.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,o);return{name:d.OS_MAP.Tizen,version:f}}},{test:[/linux/i],describe:function(){return{name:d.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:d.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(o){var f=u.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,o);return{name:d.OS_MAP.PlayStation4,version:f}}}];n.default=g,t.exports=n.default},94:function(t,n,a){n.__esModule=!0,n.default=void 0;var c,u=(c=a(17))&&c.__esModule?c:{default:c},d=a(18),g=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(o){var f=u.default.getFirstMatch(/(can-l01)/i,o)&&"Nova",p={type:d.PLATFORMS_MAP.mobile,vendor:"Huawei"};return f&&(p.model=f),p}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:d.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:d.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:d.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:d.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:d.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:d.PLATFORMS_MAP.tablet}}},{test:function(o){var f=o.test(/ipod|iphone/i),p=o.test(/like (ipod|iphone)/i);return f&&!p},describe:function(o){var f=u.default.getFirstMatch(/(ipod|iphone)/i,o);return{type:d.PLATFORMS_MAP.mobile,vendor:"Apple",model:f}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:d.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:d.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getBrowserName(!0)==="blackberry"},describe:function(){return{type:d.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(o){return o.getBrowserName(!0)==="bada"},describe:function(){return{type:d.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getBrowserName()==="windows phone"},describe:function(){return{type:d.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(o){var f=Number(String(o.getOSVersion()).split(".")[0]);return o.getOSName(!0)==="android"&&f>=3},describe:function(){return{type:d.PLATFORMS_MAP.tablet}}},{test:function(o){return o.getOSName(!0)==="android"},describe:function(){return{type:d.PLATFORMS_MAP.mobile}}},{test:function(o){return o.getOSName(!0)==="macos"},describe:function(){return{type:d.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(o){return o.getOSName(!0)==="windows"},describe:function(){return{type:d.PLATFORMS_MAP.desktop}}},{test:function(o){return o.getOSName(!0)==="linux"},describe:function(){return{type:d.PLATFORMS_MAP.desktop}}},{test:function(o){return o.getOSName(!0)==="playstation 4"},describe:function(){return{type:d.PLATFORMS_MAP.tv}}},{test:function(o){return o.getOSName(!0)==="roku"},describe:function(){return{type:d.PLATFORMS_MAP.tv}}}];n.default=g,t.exports=n.default},95:function(t,n,a){n.__esModule=!0,n.default=void 0;var c,u=(c=a(17))&&c.__esModule?c:{default:c},d=a(18),g=[{test:function(o){return o.getBrowserName(!0)==="microsoft edge"},describe:function(o){if(/\sedg\//i.test(o))return{name:d.ENGINE_MAP.Blink};var f=u.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,o);return{name:d.ENGINE_MAP.EdgeHTML,version:f}}},{test:[/trident/i],describe:function(o){var f={name:d.ENGINE_MAP.Trident},p=u.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:function(o){return o.test(/presto/i)},describe:function(o){var f={name:d.ENGINE_MAP.Presto},p=u.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:function(o){var f=o.test(/gecko/i),p=o.test(/like gecko/i);return f&&!p},describe:function(o){var f={name:d.ENGINE_MAP.Gecko},p=u.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:d.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(o){var f={name:d.ENGINE_MAP.WebKit},p=u.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,o);return p&&(f.version=p),f}}];n.default=g,t.exports=n.default}})})}(Gt)),Gt.exports}var In;function bc(){return In||(In=1,function(r){var e=Ut.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0}),r.requestVideoPermissions=r.requestAudioPermissions=r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;const t=e(yc());var n;(function(d){d.SystemPermissionDenied="SystemPermissionDenied",d.UserPermissionDenied="UserPermissionDenied",d.CouldNotStartVideoSource="CouldNotStartVideoSource",d.Generic="Generic"})(n=r.MediaPermissionsErrorType||(r.MediaPermissionsErrorType={}));const a=d=>new Promise((g,o)=>{navigator.mediaDevices.getUserMedia(d??{audio:!0,video:!0}).then(f=>{f.getTracks().forEach(p=>{p.stop()}),g(!0)}).catch(f=>{const P=t.default.getParser(window.navigator.userAgent).getBrowserName(),b=f.name,C=f.message;let S=n.Generic;P==="Chrome"?b==="NotAllowedError"?C==="Permission denied by system"?S=n.SystemPermissionDenied:C==="Permission denied"&&(S=n.UserPermissionDenied):b==="NotReadableError"&&(S=n.CouldNotStartVideoSource):P==="Safari"?b==="NotAllowedError"&&(S=n.UserPermissionDenied):P==="Microsoft Edge"?b==="NotAllowedError"?S=n.UserPermissionDenied:b==="NotReadableError"&&(S=n.CouldNotStartVideoSource):P==="Firefox"&&(b==="NotFoundError"||b==="NotReadableError"?S=n.SystemPermissionDenied:b==="NotAllowedError"?S=n.UserPermissionDenied:b==="AbortError"&&(S=n.CouldNotStartVideoSource)),o({type:S,name:f.name,message:f.message})})});r.requestMediaPermissions=a;const c=()=>(0,r.requestMediaPermissions)({audio:!0,video:!1});r.requestAudioPermissions=c;const u=()=>(0,r.requestMediaPermissions)({audio:!1,video:!0});r.requestVideoPermissions=u}(Ut)),Ut}var jn;function Sc(){return jn||(jn=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;var e=bc();Object.defineProperty(r,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return e.MediaPermissionsErrorType}}),Object.defineProperty(r,"requestMediaPermissions",{enumerable:!0,get:function(){return e.requestMediaPermissions}})}(xr)),xr}var ft=Sc(),$c=(r,e)=>{if(e)for(const[t,n]of Object.entries(e))r=r.replace(new RegExp(`{{\\s*${t}\\s*}}`,"g"),n);return r},Pc=D("<br>");const Cc={common:{close:"Close",offline:"You appear to be offline, please check your network connection"},spotify:{title:"Spotify",explainer:[["Please connect to Spotify. ",Pc(),"We need you to log into Spotify to be able to play music in the browser."],"For Spotify to allow this app to play music, your account needs to be a premium subscription."],signingIn:"Signing in...",signIn:"Sign in to Spotify",signOut:"Sign out",errors:{access_denied:"Access denied, please try again!",unknown:"Something went wrong, please try again!"},stats:{country:"Country",followers:"Followers",premium:"Premium"},details:{hasPremium:"Spotify premium user.",noPremium:"User doesn't have premium account!"}},camera:{title:"Camera",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Environment
camera`,unknown:"Camera",loading:""},openingCam:"Connecting...",explainer:["To be able to scan the codes, we need access to your device's camera.","Please, give your browser permission to access the camera."],noSupport:["Your device likely doesn't have a camera, or your system doesn't allow your browser to access the camera.","Sadly, you cannot use the app."],noPermission:["Your browser doesn't have the correct permissions, possibly you denied the use of the camera.","To use this application, you need to "],selectedCamera:'You selected "{{label}}" to scan the codes.',switchBanner:"When using the app, you can change the camera at any time.",requestPermission:"Request permission",requestingPermission:"Requesting permission...",permissions:{title:"Reset browser permissions",permissionLink:"reset your browser permissions",deviceDetails:"Device details",explainer:"We couldn't find a page for your browser, please look in your settings to reset the browser permissions.",cta:["If you like, you can ","file a request"," to add your browser to our instructions."]}}};var _c=D("<br>");const Mc={common:{close:"Sluiten",offline:"U bent offline, controleer a.u.b. uw verbinding"},spotify:{title:"Spotify",explainer:[["Wilt u a.u.b met Spotify verbinden? ",_c(),"U moet ingelogd zijn bij Spotify om muziek in de browser te kunnen spelen."],"Spotify vereist een premuim account voor muziek in de browser."],signingIn:"Inloggen...",signIn:"Log in bij Spotify",signOut:"Uitloggen",errors:{access_denied:"Toegang geweigerd, probeer opnieuw!",unknown:"Er ging iets mis, probeer opnieuw!"},stats:{country:"Land",followers:"Volgers",premium:"Premium"},details:{hasPremium:"Spotify premium gebruiker.",noPremium:"Gebruiker heeft geen premium account!"}},camera:{title:"Video camera",type:{desktop:`Desktop
camera`,user:`Selfie
camera`,environment:`Achterkant
camera`,unknown:"Camera",loading:""},openingCam:"Verbinden...",explainer:["Om de codes te kunnen scannen hebben wij toegang nodig tot uw camera.","Verleen uw browser a.u.b. toegang tot de camera."],noSupport:["Uw apparaat heeft mogelijk geen camera, of uw besturingssysteem staat het gebruik hiervan niet toe.","Helaas kunt u deze applicatie niet gebruiken."],noPermission:["Uw browser geeft geen toestemming tot het gebruik van de camera. Mogelijk heeft u de toestemming geweigerd.","Om gebruik te kunnen maken van de camera moet u "],selectedCamera:'U heeft "{{label}}" geselecteerd voor het scannen.',switchBanner:"U kunt dit later altijd nog veranderen.",requestPermission:"Vraag toestemming",requestingPermission:"Toestemming vragen...",permissions:{title:"Browser toestemming herstellen",deviceDetails:"Apparaat details",permissionLink:"uw browser toestemming herstellen",explainer:"Wij konden geen uitleg vinden voor jouw browser, probeer a.u.b. in uw instellingen te zoeken hoe u de camera toestemming kunt herstellen.",cta:["Wilt u a.u.b. ook ","een verzoek indienen"," om uw eigen browser toe te voegen aan onze instructies?"]}}},tr={en:Cc,nl:Mc},ir=()=>localStorage.getItem("stored-locale"),Cs=r=>localStorage.setItem("stored-locale",r),kc=r=>{const e=r&&Object.keys(tr).includes(r)?r:"en";return tr[e]},[Er,Ac]=oe(ir()??"en");function xc(){const r=tc(),e=r.locale&&Object.keys(tr).includes(r.locale)?r.locale:void 0;Ac(e??ir()??"en"),e&&Cs(e)}const ye=()=>{try{qe(xc)}catch(e){console.error(console.trace(),e)}const r=R(()=>tr[Er()],[Yo,Er]);return{locale:Er,dictionary:r,template:$c}},Ec={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},_s={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},ne={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ge={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Oe={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class _{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const a=_.getVersionPrecision(e),c=_.getVersionPrecision(t);let u=Math.max(a,c),d=0;const g=_.map([e,t],o=>{const f=u-_.getVersionPrecision(o),p=o+new Array(f+1).join(".0");return _.map(p.split("."),P=>new Array(20-P.length).join("0")+P).reverse()});for(n&&(d=u-Math.min(a,c)),u-=1;u>=d;){if(g[0][u]>g[1][u])return 1;if(g[0][u]===g[1][u]){if(u===d)return 0;u-=1}else if(g[0][u]<g[1][u])return-1}}static map(e,t){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(a=0;a<e.length;a+=1)n.push(t(e[a]));return n}static find(e,t){let n,a;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,a=e.length;n<a;n+=1){const c=e[n];if(t(c,n))return c}}static assign(e,...t){const n=e;let a,c;if(Object.assign)return Object.assign(e,...t);for(a=0,c=t.length;a<c;a+=1){const u=t[a];typeof u=="object"&&u!==null&&Object.keys(u).forEach(g=>{n[g]=u[g]})}return e}static getBrowserAlias(e){return Ec[e]}static getBrowserTypeByAlias(e){return _s[e]||""}}const X=/version\/(\d+(\.?_?\d+)+)/i,Fc=[{test:[/googlebot/i],describe(r){const e={name:"Googlebot"},t=_.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/opera/i],describe(r){const e={name:"Opera"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(r){const e={name:"Opera"},t=_.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(r){const e={name:"Samsung Internet for Android"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Whale/i],describe(r){const e={name:"NAVER Whale Browser"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(r){const e={name:"MZ Browser"},t=_.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/focus/i],describe(r){const e={name:"Focus"},t=_.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/swing/i],describe(r){const e={name:"Swing"},t=_.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/coast/i],describe(r){const e={name:"Opera Coast"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const e={name:"Opera Touch"},t=_.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(r){const e={name:"Yandex Browser"},t=_.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(r){const e={name:"UC Browser"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(r){const e={name:"Maxthon"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(r){const e={name:"Epiphany"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/puffin/i],describe(r){const e={name:"Puffin"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(r){const e={name:"Sleipnir"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(r){const e={name:"K-Meleon"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(r){const e={name:"WeChat"},t=_.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(r){const e={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},t=_.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(r){const e={name:"Internet Explorer"},t=_.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(r){const e={name:"Microsoft Edge"},t=_.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(r){const e={name:"Microsoft Edge"},t=_.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(r){const e={name:"Vivaldi"},t=_.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(r){const e={name:"SeaMonkey"},t=_.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(r){const e={name:"Sailfish"},t=_.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return t&&(e.version=t),e}},{test:[/silk/i],describe(r){const e={name:"Amazon Silk"},t=_.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/phantom/i],describe(r){const e={name:"PhantomJS"},t=_.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(r){const e={name:"SlimerJS"},t=_.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e={name:"BlackBerry"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(r){const e={name:"WebOS Browser"},t=_.getFirstMatch(X,r)||_.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/bada/i],describe(r){const e={name:"Bada"},t=_.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/tizen/i],describe(r){const e={name:"Tizen"},t=_.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(r){const e={name:"QupZilla"},t=_.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(r){const e={name:"Firefox"},t=_.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/electron/i],describe(r){const e={name:"Electron"},t=_.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(r){const e={name:"Miui"},t=_.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/chromium/i],describe(r){const e={name:"Chromium"},t=_.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(r){const e={name:"Chrome"},t=_.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/GSA/i],describe(r){const e={name:"Google Search"},t=_.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e={name:"Android Browser"},t=_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(r){const e={name:"PlayStation 4"},t=_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(r){const e={name:"Safari"},t=_.getFirstMatch(X,r);return t&&(e.version=t),e}},{test:[/.*/i],describe(r){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,a=r.search("\\(")!==-1?t:e;return{name:_.getFirstMatch(a,r),version:_.getSecondMatch(a,r)}}}],Tc=[{test:[/Roku\/DVP/],describe(r){const e=_.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:ge.Roku,version:e}}},{test:[/windows phone/i],describe(r){const e=_.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:ge.WindowsPhone,version:e}}},{test:[/windows /i],describe(r){const e=_.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),t=_.getWindowsVersionName(e);return{name:ge.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const e={name:ge.iOS},t=_.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(r){const e=_.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),t=_.getMacOSVersionName(e),n={name:ge.MacOS,version:e};return t&&(n.versionName=t),n}},{test:[/(ipod|iphone|ipad)/i],describe(r){const e=_.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:ge.iOS,version:e}}},{test(r){const e=!r.test(/like android/i),t=r.test(/android/i);return e&&t},describe(r){const e=_.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),t=_.getAndroidVersionName(e),n={name:ge.Android,version:e};return t&&(n.versionName=t),n}},{test:[/(web|hpw)[o0]s/i],describe(r){const e=_.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),t={name:ge.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const e=_.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||_.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||_.getFirstMatch(/\bbb(\d+)/i,r);return{name:ge.BlackBerry,version:e}}},{test:[/bada/i],describe(r){const e=_.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:ge.Bada,version:e}}},{test:[/tizen/i],describe(r){const e=_.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:ge.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:ge.Linux}}},{test:[/CrOS/],describe(){return{name:ge.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const e=_.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:ge.PlayStation4,version:e}}}],Rc=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const e=_.getFirstMatch(/(can-l01)/i,r)&&"Nova",t={type:ne.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:ne.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:ne.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:ne.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:ne.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:ne.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:ne.tablet}}},{test(r){const e=r.test(/ipod|iphone/i),t=r.test(/like (ipod|iphone)/i);return e&&!t},describe(r){const e=_.getFirstMatch(/(ipod|iphone)/i,r);return{type:ne.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:ne.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:ne.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:ne.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:ne.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:ne.mobile,vendor:"Microsoft"}}},{test(r){const e=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&e>=3},describe(){return{type:ne.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:ne.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:ne.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:ne.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:ne.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:ne.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:ne.tv}}}],Oc=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:Oe.Blink};const t=_.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:Oe.EdgeHTML,version:t}}},{test:[/trident/i],describe(r){const e={name:Oe.Trident},t=_.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){return r.test(/presto/i)},describe(r){const e={name:Oe.Presto},t=_.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test(r){const e=r.test(/gecko/i),t=r.test(/like gecko/i);return e&&!t},describe(r){const e={name:Oe.Gecko},t=_.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Oe.Blink}}},{test:[/(apple)?webkit/i],describe(r){const e={name:Oe.WebKit},t=_.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return t&&(e.version=t),e}}];class Dn{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=_.find(Fc,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=_.find(Tc,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=_.find(Rc,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=_.find(Oc,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return _.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const a={};let c=0;if(Object.keys(e).forEach(d=>{const g=e[d];typeof g=="string"?(a[d]=g,c+=1):typeof g=="object"&&(t[d]=g,n+=1)}),n>0){const d=Object.keys(t),g=_.find(d,f=>this.isOS(f));if(g){const f=this.satisfies(t[g]);if(f!==void 0)return f}const o=_.find(d,f=>this.isPlatform(f));if(o){const f=this.satisfies(t[o]);if(f!==void 0)return f}}if(c>0){const d=Object.keys(a),g=_.find(d,o=>this.isBrowser(o,!0));if(g!==void 0)return this.compareVersion(a[g])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let a=e.toLowerCase();const c=_.getBrowserTypeByAlias(a);return t&&c&&(a=c.toLowerCase()),a===n}compareVersion(e){let t=[0],n=e,a=!1;const c=this.getBrowserVersion();if(typeof c=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(a=!0,n=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(a=!0,n=e.substr(1)),t.indexOf(_.compareVersions(c,n,a))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Bc{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Dn(e,t)}static parse(e){return new Dn(e).getResult()}static get BROWSER_MAP(){return _s}static get ENGINE_MAP(){return Oe}static get OS_MAP(){return ge}static get PLATFORMS_MAP(){return ne}}let Wt;const Lr=()=>Wt||(Wt=Bc.parse(window.navigator.userAgent),Wt);function Ms(r){return{...Vn,video:{...Vn.video,deviceId:{exact:r}}}}const Vn={audio:!1,video:{facingMode:{ideal:"environment"},frameRate:{ideal:60,min:30},sampleRate:{ideal:60,min:30}}},[Lc,Nc]=oe([]);async function Qr(){if(!navigator.mediaDevices?.enumerateDevices)return;const e=(await navigator.mediaDevices?.enumerateDevices()).filter(t=>t.kind==="videoinput");Nc(e)}function qc(){if(!("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices)){_e("error:nosupport");return}navigator.permissions.query({name:"camera"}).then(e=>{e.state==="granted"&&_e("granted"),e.state==="denied"&&_e("denied")}).catch(e=>{console.error(e)}).finally(async()=>Qr())}const[Ze,_e]=oe("unknown");qc();const[ks,As]=oe();async function xs(){const r=ks();if(!r)return;const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:r}});if(e.active){e.getTracks().forEach(t=>{t.readyState!=="ended"&&(t.stop(),t.enabled=!1)});try{e.stop&&e.stop()}catch{}As(void 0)}}const Ic=rt({permission:Ze,hasPermission:()=>Ze()==="granted",canPrompt:()=>Ze()==="unknown"||Ze()==="error:inuse",hasMediaSupport:()=>Ze()!=="error:nosupport",getCamera:Dc,stopCameraStream:xs,requestPermission:jc,devices:Lc}),He=()=>nt(Ic);async function jc(){_e("pending");const r=localStorage.getItem("camera")??void 0;return await ft.requestMediaPermissions(Ms(r)).then(async()=>(await Qr(),_e("granted"))).catch(e=>{const{type:t,message:n}=e;return t===ft.MediaPermissionsErrorType.SystemPermissionDenied?_e("denied:system"):t===ft.MediaPermissionsErrorType.UserPermissionDenied?_e("denied"):t===ft.MediaPermissionsErrorType.CouldNotStartVideoSource?_e("error:inuse"):t===ft.MediaPermissionsErrorType.Generic&&n==="Permission dismissed"?_e("unknown"):(console.error(e),_e("error"))})}async function Dc(r){if(Ze()!=="granted")throw new Error("Call 'requestPermission' before 'getStream'");const e=localStorage.getItem("camera"),t=r??e??void 0;ks()!==t&&await xs();const n=await navigator.mediaDevices.getUserMedia(Ms(t)).catch(c=>{if(c.name!=="NotReadableError")throw c;return new MediaStream});if(await Qr(),!n.active){localStorage.setItem("camera",t),window.location.reload();const{dictionary:c}=ye();return{id:t,label:"?",facing:"loading",name:c().camera.openingCam,stream:n}}const a=n.getTracks()[0].getSettings().deviceId;return As(a),localStorage.setItem("camera",a),{id:a,name:n.getTracks()[0].label,label:n.getTracks()[0].label.split("(")[0].split(",")[0].trim(),facing:Lr().platform.type==="desktop"?"desktop":n.getTracks()[0].getSettings().facingMode,stream:n}}class se{api;constructor(e){this.api=e}async getRequest(e){return await this.api.makeRequest("GET",e)}async postRequest(e,t,n=void 0){return await this.api.makeRequest("POST",e,t,n)}async putRequest(e,t,n=void 0){return await this.api.makeRequest("PUT",e,t,n)}async deleteRequest(e,t){return await this.api.makeRequest("DELETE",e,t)}paramsFor(e){const t=new URLSearchParams;for(let n of Object.getOwnPropertyNames(e))(e[n]||e[n]===0||!e[n]&&typeof e[n]=="boolean")&&t.append(n,e[n].toString());return[...t].length>0?`?${t.toString()}`:""}}class Vc extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return await this.getRequest(`albums/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`albums${n}`)).albums}tracks(e,t,n,a){const c=this.paramsFor({market:t,limit:n,offset:a});return this.getRequest(`albums/${e}/tracks${c}`)}}class Uc extends se{async get(e){if(typeof e=="string")return this.getRequest(`artists/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`artists${t}`)).artists}albums(e,t,n,a,c){const u=this.paramsFor({include_groups:t,market:n,limit:a,offset:c});return this.getRequest(`artists/${e}/albums${u}`)}topTracks(e,t){const n=this.paramsFor({market:t});return this.getRequest(`artists/${e}/top-tracks${n}`)}relatedArtists(e){return this.getRequest(`artists/${e}/related-artists`)}}class Wc extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return this.getRequest(`audiobooks/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`audiobooks${n}`)).audiobooks}getAudiobookChapters(e,t,n,a){const c=this.paramsFor({market:t,limit:n,offset:a});return this.getRequest(`audiobooks/${e}/chapters${c}`)}}class zc extends se{getCategories(e,t,n,a){const c=this.paramsFor({country:e,locale:t,limit:n,offset:a});return this.getRequest(`browse/categories${c}`)}getCategory(e,t,n){const a=this.paramsFor({country:t,locale:n});return this.getRequest(`browse/categories/${e}${a}`)}getNewReleases(e,t,n){const a=this.paramsFor({country:e,limit:t,offset:n});return this.getRequest(`browse/new-releases${a}`)}getFeaturedPlaylists(e,t,n,a,c){const u=this.paramsFor({country:e,locale:t,timestamp:n,limit:a,offset:c});return this.getRequest(`browse/featured-playlists${u}`)}getPlaylistsForCategory(e,t,n,a){const c=this.paramsFor({country:t,limit:n,offset:a});return this.getRequest(`browse/categories/${e}/playlists${c}`)}}class Hc extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return this.getRequest(`chapters/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`chapters${n}`)).chapters}}class Gc extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return this.getRequest(`episodes/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`episodes${n}`)).episodes}}class Qc extends se{get(e){const t=this.paramsFor(e);return this.getRequest(`recommendations${t}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}}class Kc extends se{getAvailableMarkets(){return this.getRequest("markets")}}class Jc extends se{getPlaybackState(e,t){const n=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player${n}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(e,t){const n=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player/currently-playing${n}`)}getRecentlyPlayedTracks(e,t){const n={limit:e};t&&(t.type==="before"?n.before=t.timestamp:t.type==="after"&&(n.after=t.timestamp));const a=this.paramsFor(n);return this.getRequest(`me/player/recently-played${a}`)}getUsersQueue(){return this.getRequest("me/player/queue")}async transferPlayback(e,t){if(e.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");await this.putRequest("me/player",{device_ids:e,play:t})}async startResumePlayback(e,t,n,a,c){const u=this.paramsFor({device_id:e});await this.putRequest(`me/player/play${u}`,{context_uri:t,uris:n,offset:a,positionMs:c})}async pausePlayback(e){const t=this.paramsFor({device_id:e});await this.putRequest(`me/player/pause${t}`)}async skipToNext(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/next${t}`)}async skipToPrevious(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/previous${t}`)}async seekToPosition(e,t){const n=this.paramsFor({position_ms:e,device_id:t});await this.putRequest(`me/player/seek${n}`)}async setRepeatMode(e,t){const n=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/repeat${n}`)}async setPlaybackVolume(e,t){const n=this.paramsFor({volume_percent:e,device_id:t});await this.putRequest(`me/player/volume${n}`)}async togglePlaybackShuffle(e,t){const n=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/shuffle${n}`)}async addItemToPlaybackQueue(e,t){const n=this.paramsFor({uri:e,device_id:t});await this.postRequest(`me/player/queue${n}`)}}class Xc extends se{getPlaylist(e,t,n,a){const c=this.paramsFor({market:t,fields:n,additional_types:a?.join(",")});return this.getRequest(`playlists/${e}${c}`)}getPlaylistItems(e,t,n,a,c,u){const d=this.paramsFor({market:t,fields:n,limit:a,offset:c,additional_types:u?.join(",")});return this.getRequest(`playlists/${e}/tracks${d}`)}async changePlaylistDetails(e,t){await this.putRequest(`playlists/${e}`,t)}movePlaylistItems(e,t,n,a){return this.updatePlaylistItems(e,{range_start:t,range_length:n,insert_before:a})}updatePlaylistItems(e,t){return this.putRequest(`playlists/${e}/tracks`,t)}async addItemsToPlaylist(e,t,n){await this.postRequest(`playlists/${e}/tracks`,{position:n,uris:t})}async removeItemsFromPlaylist(e,t){await this.deleteRequest(`playlists/${e}/tracks`,t)}getUsersPlaylists(e,t,n){const a=this.paramsFor({limit:t,offset:n});return this.getRequest(`users/${e}/playlists${a}`)}createPlaylist(e,t){return this.postRequest(`users/${e}/playlists`,t)}getPlaylistCoverImage(e){return this.getRequest(`playlists/${e}/images`)}async addCustomPlaylistCoverImage(e,t){let n="";if(t instanceof Buffer)n=t.toString("base64");else if(t instanceof HTMLCanvasElement)n=t.toDataURL("image/jpeg").split(";base64,")[1];else if(t instanceof HTMLImageElement){const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const c=a.getContext("2d");if(!c)throw new Error("Could not get canvas context");c.drawImage(t,0,0),n=a.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof t=="string")n=t;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");await this.addCustomPlaylistCoverImageFromBase64String(e,n)}async addCustomPlaylistCoverImageFromBase64String(e,t){await this.putRequest(`playlists/${e}/images`,t,"image/jpeg")}}class Zc extends se{async execute(e,t,n,a,c,u){const d=this.paramsFor({q:e,type:t,market:n,limit:a,offset:c,include_external:u});return await this.getRequest(`search${d}`)}}class Yc extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return this.getRequest(`shows/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`shows${n}`)).shows}episodes(e,t,n,a){const c=this.paramsFor({market:t,limit:n,offset:a});return this.getRequest(`shows/${e}/episodes${c}`)}}class eu extends se{async get(e,t){if(typeof e=="string"){const c=this.paramsFor({market:t});return this.getRequest(`tracks/${e}${c}`)}const n=this.paramsFor({ids:e,market:t});return(await this.getRequest(`tracks${n}`)).tracks}async audioFeatures(e){if(typeof e=="string")return this.getRequest(`audio-features/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`audio-features${t}`)).audio_features}audioAnalysis(e){return this.getRequest(`audio-analysis/${e}`)}}const Kr={access_token:"emptyAccessToken",token_type:"",expires_in:0,refresh_token:"",expires:-1};function ht(r){return r===Kr}class tu extends se{profile(e){return this.getRequest(`users/${e}`)}}class ru extends se{albums;audiobooks;episodes;playlists;shows;tracks;constructor(e){super(e),this.albums=new nu(e),this.audiobooks=new su(e),this.episodes=new iu(e),this.playlists=new au(e),this.shows=new ou(e),this.tracks=new cu(e)}profile(){return this.getRequest("me")}topItems(e,t,n,a){const c=this.paramsFor({time_range:t,limit:n,offset:a});return this.getRequest(`me/top/${e}${c}`)}followedArtists(e,t){const n=this.paramsFor({type:"artist",after:e,limit:t});return this.getRequest(`me/following${n}`)}async followArtistsOrUsers(e,t){const n=this.paramsFor({type:t});await this.putRequest(`me/following${n}`,{ids:e})}async unfollowArtistsOrUsers(e,t){const n=this.paramsFor({type:t});await this.deleteRequest(`me/following${n}`,{ids:e})}followsArtistsOrUsers(e,t){const n=this.paramsFor({ids:e,type:t});return this.getRequest(`me/following/contains${n}`)}}class nu extends se{savedAlbums(e,t,n){const a=this.paramsFor({limit:e,offset:t,market:n});return this.getRequest(`me/albums${a}`)}async saveAlbums(e){await this.putRequest("me/albums",e)}async removeSavedAlbums(e){await this.deleteRequest("me/albums",e)}hasSavedAlbums(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/albums/contains${t}`)}}class su extends se{savedAudiobooks(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/audiobooks${n}`)}async saveAudiobooks(e){await this.putRequest("me/audiobooks",e)}async removeSavedAudiobooks(e){await this.deleteRequest("me/audiobooks",e)}hasSavedAudiobooks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/audiobooks/contains${t}`)}}class iu extends se{savedEpisodes(e,t,n){const a=this.paramsFor({market:e,limit:t,offset:n});return this.getRequest(`me/episodes${a}`)}async saveEpisodes(e){await this.putRequest("me/episodes",e)}async removeSavedEpisodes(e){await this.deleteRequest("me/episodes",e)}hasSavedEpisodes(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/episodes/contains${t}`)}}class au extends se{playlists(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/playlists${n}`)}async follow(e){await this.putRequest(`playlists/${e}/followers`)}async unfollow(e){await this.deleteRequest(`playlists/${e}/followers`)}isFollowing(e,t){const n=this.paramsFor({ids:t});return this.getRequest(`playlists/${e}/followers/contains${n}`)}}class ou extends se{savedShows(e,t){const n=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/shows${n}`)}saveShows(e){const t=this.paramsFor({ids:e});return this.putRequest(`me/shows${t}`)}removeSavedShows(e,t){const n=this.paramsFor({ids:e,market:t});return this.deleteRequest(`me/shows${n}`)}hasSavedShow(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/shows/contains${t}`)}}class cu extends se{savedTracks(e,t,n){const a=this.paramsFor({limit:e,offset:t,market:n});return this.getRequest(`me/tracks${a}`)}async saveTracks(e){await this.putRequest("me/tracks",e)}async removeSavedTracks(e){await this.deleteRequest("me/tracks",e)}hasSavedTracks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/tracks/contains${t}`)}}class uu{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}class ve{static async refreshCachedAccessToken(e,t){const n=await ve.refreshToken(e,t.refresh_token);return ve.toCachable(n)}static toCachable(e){return e.expires&&e.expires===-1?e:{...e,expires:this.calculateExpiry(e)}}static calculateExpiry(e){return Date.now()+e.expires_in*1e3}static async refreshToken(e,t){const n=new URLSearchParams;n.append("client_id",e),n.append("grant_type","refresh_token"),n.append("refresh_token",t);const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}),c=await a.text();if(!a.ok)throw new Error(`Failed to refresh token: ${a.statusText}, ${c}`);return JSON.parse(c)}static generateCodeVerifier(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}static async generateCodeChallenge(e){const t=new TextEncoder().encode(e),n=await uu.current.subtle.digest("SHA-256",t),a=[...new Uint8Array(n)];return(typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(String.fromCharCode.apply(null,a))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}class mt{clientId;clientSecret;scopes;static cacheKey="spotify-sdk:ClientCredentialsStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n=[]){this.clientId=e,this.clientSecret=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(mt.cacheKey,async()=>{const t=await this.getTokenFromApi();return ve.toCachable(t)},async t=>{const n=await this.getTokenFromApi();return ve.toCachable(n)})}async getAccessToken(){return await this.cache.get(mt.cacheKey)}removeAccessToken(){this.cache.remove(mt.cacheKey)}async getTokenFromApi(){const e={grant_type:"client_credentials",scope:this.scopes.join(" ")},t=Object.keys(e).map(g=>g+"="+e[g]).join("&"),n=typeof Buffer<"u",a=`${this.clientId}:${this.clientSecret}`,c=n?Buffer.from(a).toString("base64"):btoa(a),u=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${c}`},body:t});if(u.status!==200)throw new Error("Failed to get access token.");return await u.json()}}class gt{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:ImplicitGrantStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n){this.clientId=e,this.redirectUri=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(gt.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return ve.toCachable(t)},async t=>ve.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(gt.cacheKey)}removeAccessToken(){this.cache.remove(gt.cacheKey)}async redirectOrVerifyToken(){const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");if(t)return Promise.resolve({access_token:t,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var a=(this.scopes??[]).join(" ");const c=new URLSearchParams;c.append("client_id",this.clientId),c.append("response_type","token"),c.append("redirect_uri",this.redirectUri),c.append("scope",a);const u="https://accounts.spotify.com/authorize?"+c.toString();return this.configuration.redirectionStrategy.redirect(u),Kr}}class Ye{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:AuthorizationCodeWithPKCEStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,n){this.clientId=e,this.redirectUri=t,this.scopes=n}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(Ye.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return ve.toCachable(t)},async t=>ve.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(Ye.cacheKey)}removeAccessToken(){this.cache.remove(Ye.cacheKey)}async redirectOrVerifyToken(){const t=new URLSearchParams(window.location.search).get("code");if(t){const n=await this.verifyAndExchangeCode(t);return this.removeCodeFromUrl(),n}return this.redirectToSpotify(),Kr}async redirectToSpotify(){const e=ve.generateCodeVerifier(128),t=await ve.generateCodeChallenge(e),n={verifier:e,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",n);const a=await this.generateRedirectUrlForUser(this.scopes,t);await this.configuration.redirectionStrategy.redirect(a)}async verifyAndExchangeCode(e){const n=(await this.cache.get("spotify-sdk:verifier"))?.verifier;if(!n)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return await this.configuration.redirectionStrategy.onReturnFromRedirect(),await this.exchangeCodeForToken(e,n)}removeCodeFromUrl(){const e=new URL(window.location.href);e.searchParams.delete("code");const t=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,t)}async generateRedirectUrlForUser(e,t){const n=e.join(" "),a=new URLSearchParams;return a.append("client_id",this.clientId),a.append("response_type","code"),a.append("redirect_uri",this.redirectUri),a.append("scope",n),a.append("code_challenge_method","S256"),a.append("code_challenge",t),`https://accounts.spotify.com/authorize?${a.toString()}`}async exchangeCodeForToken(e,t){const n=new URLSearchParams;n.append("client_id",this.clientId),n.append("grant_type","authorization_code"),n.append("code",e),n.append("redirect_uri",this.redirectUri),n.append("code_verifier",t);const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}),c=await a.text();if(!a.ok)throw new Error(`Failed to exchange code for token: ${a.statusText}, ${c}`);return JSON.parse(c)}}class lu{async deserialize(e){const t=await e.text();return t.length>0?JSON.parse(t):null}}class du{async validateResponse(e){switch(e.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:const t=await e.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${t}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!e.status.toString().startsWith("20")){const n=await e.text();throw new Error(`Unrecognised response code: ${e.status} - ${e.statusText}. Body: ${n}`)}}}}class fu{async handleErrors(e){return!1}}class hu{async redirect(e){document.location=e.toString()}async onReturnFromRedirect(){}}class Es{storage;updateFunctions;autoRenewInterval;autoRenewWindow;constructor(e,t=new Map,n=0,a=2*60*1e3){this.storage=e,this.updateFunctions=t,this.autoRenewInterval=n,this.autoRenewWindow=a,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}async getOrCreate(e,t,n){n&&this.updateFunctions.set(e,n);const a=await this.get(e);if(a)return a;const c=await t();if(!c)throw new Error("Could not create cache item");return ht(c)||this.setCacheItem(e,c),c}async get(e){let t=this.storage.get(e),n=t?JSON.parse(t):null;if(this.itemDueToExpire(n)&&this.updateFunctions.has(e)){const a=this.updateFunctions.get(e);await this.tryUpdateItem(e,n,a),t=this.storage.get(e),n=t?JSON.parse(t):null}return n?n.expires&&(n.expires===-1||n.expires<=Date.now())?(this.remove(e),null):(n.expiresOnAccess&&n.expiresOnAccess===!0&&this.remove(e),n):null}set(e,t,n){const a=Date.now()+n,c={...t,expires:a};this.setCacheItem(e,c)}setCacheItem(e,t){const n=JSON.stringify(t);this.storage.set(e,n)}remove(e){this.storage.remove(e)}itemDueToExpire(e){return!e||!e.expires?!1:e.expires-Date.now()<this.autoRenewWindow}async autoRenewRenewableItems(){this.updateFunctions.forEach(async(e,t)=>{const n=await this.get(t);n&&e&&this.itemDueToExpire(n)&&await this.tryUpdateItem(t,n,e)})}async tryUpdateItem(e,t,n){try{const a=await n(t);a&&this.setCacheItem(e,a)}catch(a){console.error(a)}}}class pu extends Es{constructor(){super(new mu)}}class mu{get(e){return localStorage.getItem(e)}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class gu extends Es{constructor(){super(new vu)}}class vu{cache=new Map;get(e){return this.cache.get(e)??null}set(e,t){this.cache.set(e,t)}remove(e){this.cache.delete(e)}}class wu{clientId;accessToken;refreshTokenAction;constructor(e,t,n){this.clientId=e,this.accessToken=t,this.refreshTokenAction=n||ve.refreshCachedAccessToken,this.accessToken.expires||(this.accessToken.expires=ve.calculateExpiry(this.accessToken))}setConfiguration(e){}async getOrCreateAccessToken(){if(this.accessToken.expires&&this.accessToken.expires<=Date.now()){const e=await this.refreshTokenAction(this.clientId,this.accessToken);this.accessToken=e}return this.accessToken}async getAccessToken(){return this.accessToken}removeAccessToken(){this.accessToken={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0}}}class Le{sdkConfig;static rootUrl="https://api.spotify.com/v1/";authenticationStrategy;albums;artists;audiobooks;browse;chapters;episodes;recommendations;markets;player;playlists;shows;tracks;users;search;currentUser;constructor(e,t){this.sdkConfig=this.initializeSdk(t),this.albums=new Vc(this),this.artists=new Uc(this),this.audiobooks=new Wc(this),this.browse=new zc(this),this.chapters=new Hc(this),this.episodes=new Gc(this),this.recommendations=new Qc(this),this.markets=new Kc(this),this.player=new Jc(this),this.playlists=new Xc(this),this.shows=new Yc(this),this.tracks=new eu(this),this.users=new tu(this),this.currentUser=new ru(this);const n=new Zc(this);this.search=n.execute.bind(n),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}async makeRequest(e,t,n=void 0,a=void 0){try{const c=await this.authenticationStrategy.getOrCreateAccessToken();if(ht(c))return console.warn("No access token found, authenticating now."),null;const u=c?.access_token,d=Le.rootUrl+t,g={method:e,headers:{Authorization:`Bearer ${u}`,"Content-Type":a??"application/json"},body:n?typeof n=="string"?n:JSON.stringify(n):void 0};this.sdkConfig.beforeRequest(d,g);const o=await this.sdkConfig.fetch(d,g);return this.sdkConfig.afterRequest(d,g,o),o.status===204?null:(await this.sdkConfig.responseValidator.validateResponse(o),this.sdkConfig.deserializer.deserialize(o))}catch(c){if(!await this.sdkConfig.errorHandler.handleErrors(c))throw c;return null}}initializeSdk(e){const t=typeof window<"u";return{...{fetch:(a,c)=>fetch(a,c),beforeRequest:(a,c)=>{},afterRequest:(a,c,u)=>{},deserializer:new lu,responseValidator:new du,errorHandler:new fu,redirectionStrategy:new hu,cachingStrategy:t?new pu:new gu},...e}}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}async authenticate(){const e=await this.authenticationStrategy.getOrCreateAccessToken();return{authenticated:e.expires>Date.now()&&!ht(e),accessToken:e}}async getAccessToken(){return this.authenticationStrategy.getAccessToken()}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,t,n=[],a){const c=new Ye(e,t,n);return new Le(c,a)}static withClientCredentials(e,t,n=[],a){const c=new mt(e,t,n);return new Le(c,a)}static withImplicitGrant(e,t,n=[],a){const c=new gt(e,t,n);return new Le(c,a)}static withAccessToken(e,t,n){const a=new wu(e,t);return new Le(a,n)}static async performUserAuthorization(e,t,n,a,c){const u=new Ye(e,t,n),g=await new Le(u,c).authenticationStrategy.getOrCreateAccessToken();return ht(g)||(typeof a=="string"?(console.log("Posting access token to postback URL."),await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})):await a(g)),{authenticated:g.expires>Date.now()&&!ht(g),accessToken:g}}}const yu="fea5ab12dbbb422485f6621e2cf89e24",bu="https://marvin-brouwer.github.io",yt=()=>Le.withUserAuthorization(yu,`${bu}/guessify/spotify-auth`,["streaming","user-read-private","user-read-email"]),Su=()=>yt().logOut(),$u=()=>{Su(),vt(void 0)};async function Pu(){const r=`../${ir()}/`,e=new URL(window.location.href);if(e.searchParams.has("code")){const t=await yt().authenticate();return vt(t.authenticated?"success":"error.auth_failed"),r}return e.searchParams.has("error")?(vt(`error.${e.searchParams.get("error")}`),r):(vt("error.invalid_request"),r)}const[Cu,vt]=oe(),Nr=rt({api:Object.assign(yt(),{logOut:$u}),status:Cu,handleAuthReturn:Pu}),ar=()=>nt(Nr),_u=r=>(qe(async()=>{if(await yt().getAccessToken().then(t=>!!t)){const t=await yt().authenticate();vt(t.authenticated?"success":"error.auth_failed")}}),j(Nr.Provider,{get value(){return Nr.defaultValue},get children(){return st(()=>r.children)()}})),rr=r=>r()==="success";function Mu(){const{api:r,status:e}=ar();if(!rr(e)){et(!1);return}r.logOut(),et(!1)}async function Un(r){const{api:e,status:t}=ar();if(rr(t)&&et(!1),Cs(r),et(!0),(await e.authenticate()).accessToken.access_token==="emptyAccessToken")return;const a=await e.currentUser.profile();ku(a),et(!1)}const[Fs,et]=oe(!1),[Qt,ku]=oe(),Ts=rt({logIn:()=>Promise.resolve(),logOut:()=>Promise.resolve(),isAuthenticating:Fs,isAuthenticated:()=>!1,isValid:()=>!1,profile:Qt,errorMessage:()=>{}}),bt=()=>nt(Ts),Au=r=>{const{api:e,status:t}=ar(),{dictionary:n,locale:a}=ye();qe(async()=>{await e.getAccessToken().then(g=>!!g)&&(et(!0),await Un(a()))});const c=()=>rr(t)&&Qt()?.product==="premium",u=()=>{if(t()&&t()!=="success")return t()==="error.access_denied"?n().spotify.errors.access_denied:n().spotify.errors.unknown};return j(Ts.Provider,{get value(){return{isValid:R(c,[t,Qt]),isAuthenticated:R(()=>rr(t),t),errorMessage:u,isAuthenticating:Fs,logIn:()=>Un(a()),logOut:Mu,profile:Qt}},get children(){return st(()=>r.children)()}})},xu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%204c1.93%200%203.5%201.57%203.5%203.5S13.93%2013%2012%2013s-3.5-1.57-3.5-3.5S10.07%206%2012%206zm0%2014c-2.03%200-4.43-.82-6.14-2.88C7.55%2015.8%209.68%2015%2012%2015s4.45.8%206.14%202.12C16.43%2019.18%2014.03%2020%2012%2020z'/%3e%3c/g%3e%3c/svg%3e",Eu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%231ed760'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7%20l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z%20M10.09,16.72l-3.8-3.81l1.48-1.48l2.32,2.33%20l5.85-5.87l1.48,1.48L10.09,16.72z'/%3e%3c/g%3e%3c/svg%3e",Fu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23d71e1e'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M1%2021h22L12%202%201%2021zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3e%3c/svg%3e",Tu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%207l-1.41%201.41L18.17%2011H8v2h10.17l-2.58%202.58L17%2017l5-5zM4%205h8V3H4c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h8v-2H4V5z'/%3e%3c/svg%3e",Ru="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z%20M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z'/%3e%3c/g%3e%3c/svg%3e";var Ou=D("<div class=spotify-card><h2>"),Bu=D('<div class="spotify-login-card card"><div class=details><p></p><p></p></div><div class=controls><button>'),Lu=D("<p class=error>"),Wn=D("<span>"),Nu=D("<img>"),qu=D("<img class=placeholder>"),Iu=D('<div class="spotify-profile-card card"><div class=thumbnail></div><p class=stats><b></b><i></i></p><p class=stats><b></b><i></i></p><p class=stats><b></b><i><img></i></p><div class=details><h3></h3></div><div class=controls><button><span></span><img>'),zn=D("<p>"),ju=D("<p class=no-premium>");const Du=()=>{const r=bt(),{hasMediaSupport:e}=He();if(!e())return null;const{dictionary:t}=ye(),n=()=>!bt().isAuthenticating()&&r.isAuthenticated()?j(Uu,{}):j(Vu,{});return(()=>{var a=Ou(),c=a.firstChild;return x(c,()=>t().spotify.title),x(a,n,null),a})()},Vu=()=>{const r=bt(),{dictionary:e}=ye();return(()=>{var t=Bu(),n=t.firstChild,a=n.firstChild,c=a.nextSibling,u=n.nextSibling,d=u.firstChild;return x(a,()=>e().spotify.explainer[0]),x(c,()=>e().spotify.explainer[1]),x(n,(()=>{var g=R(()=>!!r.errorMessage());return()=>g()&&(()=>{var o=Lu();return x(o,()=>r.errorMessage()),o})()})(),null),d.$$click=()=>{r.logIn()},x(d,(()=>{var g=R(()=>!!r.isAuthenticating());return()=>g()?(()=>{var o=Wn();return x(o,()=>e().spotify.signingIn),o})():(()=>{var o=Wn();return x(o,()=>e().spotify.signIn),o})()})(),null),x(d,(()=>{var g=R(()=>!r.isAuthenticating());return()=>g()&&(()=>{var o=Nu();return de(o,"src",Ru),o})()})(),null),we(()=>d.disabled=r.isAuthenticating()),t})()},Uu=()=>{const r=bt(),{dictionary:e}=ye(),t=r.profile();if(!t)return null;const n=t.images?.find(d=>d.width===300)??void 0,[a,c]=oe((()=>{var d=qu();return de(d,"src",xu),d})());Vr(()=>{if(!n||a().src===n.url)return;const d=a().cloneNode(!0);d.className="",d.addEventListener("load",()=>c(d),{once:!0}),d.src=n.url},n);const u=r.isValid();return(()=>{var d=Iu(),g=d.firstChild,o=g.nextSibling,f=o.firstChild,p=f.nextSibling,P=o.nextSibling,b=P.firstChild,C=b.nextSibling,S=P.nextSibling,k=S.firstChild,E=k.nextSibling,T=E.firstChild,G=S.nextSibling,te=G.firstChild,ce=G.nextSibling,J=ce.firstChild,Q=J.firstChild,V=Q.nextSibling;return x(g,a),x(f,()=>e().spotify.stats.country),x(p,()=>t.country),x(b,()=>e().spotify.stats.followers),x(C,()=>t.followers.total),x(k,()=>e().spotify.stats.premium),de(T,"src",u?Eu:Fu),x(te,()=>t.display_name),x(G,u?(()=>{var Y=zn();return x(Y,()=>e().spotify.details.hasPremium),Y})():[(()=>{var Y=ju();return x(Y,()=>e().spotify.details.noPremium),Y})(),(()=>{var Y=zn();return x(Y,()=>e().spotify.explainer[1]),Y})()],null),J.$$click=()=>r.logOut(),x(Q,()=>e().spotify.signOut),de(V,"src",Tu),d})()};sr(["click"]);const Wu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M9.4%2010.5l4.77-8.26C13.47%202.09%2012.75%202%2012%202c-2.4%200-4.6.85-6.32%202.25l3.66%206.35.06-.1zM21.54%209c-.92-2.92-3.15-5.26-6-6.34L11.88%209h9.66zm.26%201h-7.49l.29.5%204.76%208.25C21%2016.97%2022%2014.61%2022%2012c0-.69-.07-1.35-.2-2zM8.54%2012l-3.9-6.75C3.01%207.03%202%209.39%202%2012c0%20.69.07%201.35.2%202h7.49l-1.15-2zm-6.08%203c.92%202.92%203.15%205.26%206%206.34L12.12%2015H2.46zm11.27%200l-3.9%206.76c.7.15%201.42.24%202.17.24%202.4%200%204.6-.85%206.32-2.25l-3.66-6.35-.93%201.6z'/%3e%3c/svg%3e",zu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3.2'/%3e%3cpath%20d='M9%202L7.17%204H4c-1.1%200-2%20.9-2%202v12c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2h-3.17L15%202H9zm3%2015c-2.76%200-5-2.24-5-5s2.24-5%205-5%205%202.24%205%205-2.24%205-5%205z'/%3e%3c/svg%3e",Hu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M12%2012c2.21%200%204-1.79%204-4s-1.79-4-4-4-4%201.79-4%204%201.79%204%204%204zm0%202c-2.67%200-8%201.34-8%204v2h16v-2c0-2.66-5.33-4-8-4z'/%3e%3c/svg%3e",Gu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='rgb(32,%2032,%2032)'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M21%2019V5c0-1.1-.9-2-2-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2zM8.5%2013.5l2.5%203.01L14.5%2012l4.5%206H5l3.5-4.5z'/%3e%3c/svg%3e",Qu="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3cpath%20d='M3,4V1h2v3h3v2H5v3H3V6H0V4H3z%20M6,10V7h3V4h7l1.83,2H21c1.1,0,2,0.9,2,2v12c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V10H6z%20M13,19c2.76,0,5-2.24,5-5s-2.24-5-5-5s-5,2.24-5,5S10.24,19,13,19z%20M9.8,14c0,1.77,1.43,3.2,3.2,3.2s3.2-1.43,3.2-3.2%20s-1.43-3.2-3.2-3.2S9.8,12.23,9.8,14z'/%3e%3c/svg%3e",Ku="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3cpath%20d='M0,0h24v24H0V0z'%20fill='none'/%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M16,7h-1l-1-1h-4L9,7H8C6.9,7,6,7.9,6,9v6c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V9C18,7.9,17.1,7,16,7z%20M12,14%20c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2C14,13.1,13.1,14,12,14z'/%3e%3cpath%20d='M8.57,0.51l4.48,4.48V2.04c4.72,0.47,8.48,4.23,8.95,8.95c0,0,2,0,2,0C23.34,3.02,15.49-1.59,8.57,0.51z'/%3e%3cpath%20d='M10.95,21.96C6.23,21.49,2.47,17.73,2,13.01c0,0-2,0-2,0c0.66,7.97,8.51,12.58,15.43,10.48l-4.48-4.48V21.96z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ju="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e";var Xu=D('<dialog><div class="reset-permissions-modal card"><div class=details><h2></h2><p></p><p><a href=#todo target=_blank></a></p><details><summary></summary><pre></pre></details><p></p></div><div class=controls><button><span></span><img>'),Zu=D("<a href=#instructions>");const Yu=()=>{const{locale:r,dictionary:e}=ye(),t=(()=>{var u=Xu(),d=u.firstChild,g=d.firstChild,o=g.firstChild,f=o.nextSibling,p=f.nextSibling,P=p.firstChild,b=p.nextSibling,C=b.firstChild,S=C.nextSibling,k=g.nextSibling,E=k.firstChild,T=E.firstChild,G=T.nextSibling;return x(o,()=>e().camera.permissions.title),x(f,()=>e().camera.permissions.explainer),x(p,()=>e().camera.permissions.cta[0],P),x(P,()=>e().camera.permissions.cta[1]),x(p,()=>e().camera.permissions.cta[2],null),x(C,()=>e().camera.permissions.deviceDetails),x(S,()=>JSON.stringify(Lr(),null,4)),E.$$click=()=>n.close(),x(T,()=>e().common.close),de(G,"src",Ju),u})(),n=t,a=u=>{n.hidden||n.addEventListener("click",function(d){const g=n.getBoundingClientRect();g.top<=d.clientY&&d.clientY<=g.top+g.height&&g.left<=d.clientX&&d.clientX<=g.left+g.width||n.close()},{once:!0})};qe(()=>{n.addEventListener("click",a)}),St(()=>{n.removeEventListener("click",a)});const c=async()=>{const u=Lr(),d=el(u,r());if(!d)return n.showModal();window.open(d,"_blank")};return[(()=>{var u=Zu();return u.$$click=c,x(u,()=>e().camera.permissions.permissionLink),u})(),t]};function el(r,e){if(r.browser.name==="Chrome"){if(r.platform.type==="desktop")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DDesktop`;if(r.os.name==="Android")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DAndroid`;if(r.os.name==="IOS")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DiOS`}}sr(["click"]);var tl=D("<div class=camera-card><h2>"),rl=D('<div class="camera-request-card card no-controls"><div class=details><p></p><p> </p><p> '),nl=D('<div class="camera-request-card card no-controls"><div class=details><p></p><p></p><p> <!>.'),sl=D('<div class="camera-request-card card"><div class=details><p></p><p></p></div><div class=controls><button><img>'),Hn=D("<span>"),Gn=D("<video>"),il=D("<option>"),zt=D("<img>"),al=D('<div class="camera-request-card card"><div class=video-overlay></div><div class=details><p></p><p><i></i></p></div><div class=controls><select></select><div><span></span><img>'),ol=D("<div class=stats><span>");const cl=()=>{const r=He(),{dictionary:e}=ye(),t=R(()=>r.hasMediaSupport()?r.canPrompt()||r.permission()==="pending"?j(dl,{}):r.hasPermission()?j(fl,{}):j(ll,{}):j(ul,{}),[r.hasMediaSupport,r.canPrompt,r.hasPermission]);return(()=>{var n=tl(),a=n.firstChild;return x(a,()=>e().camera.title),x(n,t,null),n})()},ul=()=>{const{dictionary:r}=ye();return(()=>{var e=rl(),t=e.firstChild,n=t.firstChild,a=n.nextSibling,c=a.firstChild,u=a.nextSibling,d=u.firstChild;return x(n,()=>r().camera.explainer[0]),x(a,()=>r().camera.noSupport[0],c),x(u,()=>r().camera.noSupport[1],d),e})()},ll=()=>{const{dictionary:r}=ye();return(()=>{var e=nl(),t=e.firstChild,n=t.firstChild,a=n.nextSibling,c=a.nextSibling,u=c.firstChild,d=u.nextSibling;return d.nextSibling,x(n,()=>r().camera.explainer[0]),x(a,()=>r().camera.noPermission[0]),x(c,()=>r().camera.noPermission[1],u),x(c,j(Yu,{}),d),e})()},dl=()=>{const r=He(),{dictionary:e}=ye();return(()=>{var t=sl(),n=t.firstChild,a=n.firstChild,c=a.nextSibling,u=n.nextSibling,d=u.firstChild,g=d.firstChild;return x(a,()=>e().camera.explainer[0]),x(c,()=>e().camera.explainer[1]),d.$$click=()=>{r.requestPermission()},x(d,(()=>{var o=R(()=>r.permission()==="pending");return()=>o()?(()=>{var f=Hn();return x(f,()=>e().camera.requestingPermission),f})():(()=>{var f=Hn();return x(f,()=>e().camera.requestPermission),f})()})(),g),de(g,"src",Qu),we(()=>d.disabled=!r.canPrompt()),t})()},fl=()=>{const r=He(),{dictionary:e,template:t}=ye(),[n,a]=oe(),c=R(()=>n()?.stream??null,n),u=Gn(),d=u,g=R(()=>(d.srcObject=c(),d.srcObject?(d.removeAttribute("src"),d.onloadedmetadata=()=>{d.play()},u):(d.src="",d.srcObject=null,d.pause(),Gn())),[c]);qe(()=>{r.getCamera().then(a).catch(console.error)});const o=R(()=>r.devices().map(p=>(()=>{var P=il();return x(P,()=>p.label),we(()=>P.selected=p.deviceId===n()?.id),we(()=>P.value=p.deviceId),P})()),[r.devices,n]),f=R(()=>{const p=n()?.facing;return p==="loading"?null:p==="desktop"?(()=>{var P=zt();return de(P,"src",zu),P})():p==="user"?(()=>{var P=zt();return de(P,"src",Hu),P})():p==="environment"?(()=>{var P=zt();return de(P,"src",Gu),P})():(()=>{var P=zt();return de(P,"src",Wu),P})()},n);return(()=>{var p=al(),P=p.firstChild,b=P.nextSibling,C=b.firstChild,S=C.nextSibling,k=S.firstChild,E=b.nextSibling,T=E.firstChild,G=T.nextSibling,te=G.firstChild,ce=te.nextSibling;return x(p,g,P),x(P,(()=>{var J=R(()=>!!n());return()=>J()&&(()=>{var Q=ol(),V=Q.firstChild;return x(Q,f,V),x(V,()=>e().camera.type[n()?.facing??"unknown"]),Q})()})()),x(C,()=>t(e().camera.selectedCamera,{label:n()?.label??"?"})),x(k,()=>e().camera.switchBanner),T.addEventListener("change",async J=>{const Q=n();if(J.target.value===Q?.id)return;d.pause(),d.srcObject=null;const V=J.target.value;a(void 0),await r.getCamera(V).then(a).catch(Y=>{a(Q),console.error(Y)})}),x(T,o),x(te,()=>n()?.name??e().camera.openingCam),de(ce,"src",Ku),we(J=>{var Q=n()?.id,V=!n(),Y=n()?"fake-button":"fake-button disabled";return Q!==J.e&&de(T,"data-value",J.e=Q),V!==J.t&&(T.disabled=J.t=V),Y!==J.a&&ps(G,J.a=Y),J},{e:void 0,t:void 0,a:void 0}),p})()};sr(["click"]);const qr="/guessify/assets/guessify-logo-DT33HoF3.svg",[Ir,Qn]=oe(window.navigator.onLine?"online":"offline"),hl=R(()=>Ir()!=="offline",Ir),jr=rt({status:Ir,online:hl}),pl=()=>nt(jr),ml=r=>{const e=()=>Qn("online"),t=()=>Qn("offline");return qe(()=>{window.addEventListener("online",e),window.addEventListener("offline",t)}),St(()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}),j(jr.Provider,{get value(){return jr.defaultValue},get children(){return st(()=>r.children)()}})};var gl=D("<div class=dependency-gate><h1 class=logo><img> Guessify</h1><p>"),vl=D("<div class=dependency-gate><h1 class=logo><img> Guessify");const wl=({children:r})=>{const e=bt(),t=He(),{online:n}=pl(),{dictionary:a}=ye();if(!n())return(()=>{var u=gl(),d=u.firstChild,g=d.firstChild,o=d.nextSibling;return de(g,"src",qr),x(o,()=>a().common.offline),u})();const c=R(()=>e.isValid()&&t.hasPermission(),[e.isValid,t.hasPermission,t.permission]);return R(()=>R(()=>c()?r:(()=>{var u=vl(),d=u.firstChild,g=d.firstChild;return de(g,"src",qr),x(u,j(Du,{}),null),x(u,j(cl,{}),null),u})(),c)())},yl="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16.24%207.76C15.07%206.59%2013.54%206%2012%206v6l-4.24%204.24c2.34%202.34%206.14%202.34%208.49%200%202.34-2.34%202.34-6.14-.01-8.48zM12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%2018c-4.42%200-8-3.58-8-8s3.58-8%208-8%208%203.58%208%208-3.58%208-8%208z'/%3e%3c/svg%3e";var bl=D("<div class=auth><h1 class=logo><img> Guessify</h1><div class=details><p><img>");const Sl=()=>{const r=ec(),{handleAuthReturn:e}=ar(),t=ir(),n=t?kc(t).spotify.signingIn:"...";return Vr(()=>{e().then(a=>{r(a,{replace:!0})})}),(()=>{var a=bl(),c=a.firstChild,u=c.firstChild,d=c.nextSibling,g=d.firstChild,o=g.firstChild;return de(u,"src",qr),de(o,"src",yl),x(g,n,null),a})()};var Rs=r=>{throw TypeError(r)},Os=(r,e,t)=>e.has(r)||Rs("Cannot "+t),$l=(r,e,t)=>(Os(r,e,"read from private field"),t?t.call(r):e.get(r)),Pl=(r,e,t)=>e.has(r)?Rs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),Cl=(r,e,t,n)=>(Os(r,e,"write to private field"),e.set(r,t),t);const Kn=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataBarLimited","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function _l(r){return r.join("|")}function Ml(r){const e=Jn(r);let t=0,n=Kn.length-1;for(;t<=n;){const a=Math.floor((t+n)/2),c=Kn[a],u=Jn(c);if(u===e)return c;u<e?t=a+1:n=a-1}return"None"}function Jn(r){return r.toLowerCase().replace(/_-\[\]/g,"")}function kl(r,e){return r.Binarizer[e]}function Al(r,e){return r.CharacterSet[e]}const xl=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function El(r){return xl[r.value]}function Fl(r,e){return r.EanAddOnSymbol[e]}function Tl(r,e){return r.TextMode[e]}const tt={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function Bs(r,e){return{...e,formats:_l(e.formats),binarizer:kl(r,e.binarizer),eanAddOnSymbol:Fl(r,e.eanAddOnSymbol),textMode:Tl(r,e.textMode),characterSet:Al(r,e.characterSet)}}function Ls(r){return{...r,format:Ml(r.format),eccLevel:r.eccLevel,contentType:El(r.contentType)}}const Rl={locateFile:(r,e)=>{const t=r.match(/_(.+?)\.wasm$/);return t?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.3.4/dist/${t[1]}/${r}`:e+r}};let Xn=new WeakMap;function Jr(r,e){var t;const n=Xn.get(r);if(n!=null&&n.modulePromise&&e===void 0)return n.modulePromise;const a=(t=n?.moduleOverrides)!=null?t:Rl,c=r({...a});return Xn.set(r,{moduleOverrides:a,modulePromise:c}),c}async function Ol(r,e,t=tt){const n={...tt,...t},a=await Jr(r),{size:c}=e,u=new Uint8Array(await e.arrayBuffer()),d=a._malloc(c);a.HEAPU8.set(u,d);const g=a.readBarcodesFromImage(d,c,Bs(a,n));a._free(d);const o=[];for(let f=0;f<g.size();++f)o.push(Ls(g.get(f)));return o}async function Bl(r,e,t=tt){const n={...tt,...t},a=await Jr(r),{data:c,width:u,height:d,data:{byteLength:g}}=e,o=a._malloc(g);a.HEAPU8.set(c,o);const f=a.readBarcodesFromPixmap(o,u,d,Bs(a,n));a._free(o);const p=[];for(let P=0;P<f.size();++P)p.push(Ls(f.get(P)));return p}({...tt,formats:[...tt.formats]});var Xr=(()=>{var r,e=typeof document<"u"&&((r=document.currentScript)==null?void 0:r.tagName.toUpperCase())==="SCRIPT"?document.currentScript.src:void 0;return function(t={}){var n,a=t,c,u,d=new Promise((s,i)=>{c=s,u=i}),g=typeof window=="object",o=typeof Bun<"u",f=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";var p=Object.assign({},a),P="./this.program",b="";function C(s){return a.locateFile?a.locateFile(s,b):b+s}var S,k;if(g||f||o){var E;f?b=self.location.href:typeof document<"u"&&((E=document.currentScript)===null||E===void 0?void 0:E.tagName.toUpperCase())==="SCRIPT"&&(b=document.currentScript.src),e&&(b=e),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),f&&(k=s=>{var i=new XMLHttpRequest;return i.open("GET",s,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),S=s=>fetch(s,{credentials:"same-origin"}).then(i=>i.ok?i.arrayBuffer():Promise.reject(new Error(i.status+" : "+i.url)))}var T=a.print||console.log.bind(console),G=a.printErr||console.error.bind(console);Object.assign(a,p),p=null,a.arguments&&a.arguments,a.thisProgram&&(P=a.thisProgram);var te=a.wasmBinary,ce,J=!1,Q,V,Y,Pe,ue,L,Pt,H;function K(){var s=ce.buffer;a.HEAP8=Q=new Int8Array(s),a.HEAP16=Y=new Int16Array(s),a.HEAPU8=V=new Uint8Array(s),a.HEAPU16=Pe=new Uint16Array(s),a.HEAP32=ue=new Int32Array(s),a.HEAPU32=L=new Uint32Array(s),a.HEAPF32=Pt=new Float32Array(s),a.HEAPF64=H=new Float64Array(s)}var he=[],Me=[],Ge=[];function Re(){var s=a.preRun;s&&(typeof s=="function"&&(s=[s]),s.forEach(Qe)),cr(he)}function it(){cr(Me)}function je(){var s=a.postRun;s&&(typeof s=="function"&&(s=[s]),s.forEach(Gs)),cr(Ge)}function Qe(s){he.unshift(s)}function Ct(s){Me.unshift(s)}function Gs(s){Ge.unshift(s)}var De=0,at=null;function Qs(s){var i;De++,(i=a.monitorRunDependencies)===null||i===void 0||i.call(a,De)}function Ks(s){var i;if(De--,(i=a.monitorRunDependencies)===null||i===void 0||i.call(a,De),De==0&&at){var l=at;at=null,l()}}function or(s){var i;(i=a.onAbort)===null||i===void 0||i.call(a,s),s="Aborted("+s+")",G(s),J=!0,s+=". Build with -sASSERTIONS for more info.";var l=new WebAssembly.RuntimeError(s);throw u(l),l}var Js="data:application/octet-stream;base64,",Zr=s=>s.startsWith(Js);function Xs(){var s="zxing_reader.wasm";return Zr(s)?s:C(s)}var _t;function Yr(s){if(s==_t&&te)return new Uint8Array(te);if(k)return k(s);throw"both async and sync fetching of the wasm failed"}function Zs(s){return te?Promise.resolve().then(()=>Yr(s)):S(s).then(i=>new Uint8Array(i),()=>Yr(s))}function en(s,i,l){return Zs(s).then(h=>WebAssembly.instantiate(h,i)).then(l,h=>{G(`failed to asynchronously prepare wasm: ${h}`),or(h)})}function Ys(s,i,l,h){return!s&&typeof WebAssembly.instantiateStreaming=="function"&&!Zr(i)&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(m=>{var v=WebAssembly.instantiateStreaming(m,l);return v.then(h,function(y){return G(`wasm streaming compile failed: ${y}`),G("falling back to ArrayBuffer instantiation"),en(i,l,h)})}):en(i,l,h)}function ei(){return{a:Va}}function ti(){var s,i=ei();function l(m,v){return re=m.exports,ce=re.za,K(),ln=re.Da,Ct(re.Aa),Ks(),re}Qs();function h(m){l(m.instance)}if(a.instantiateWasm)try{return a.instantiateWasm(i,l)}catch(m){G(`Module.instantiateWasm callback failed with error: ${m}`),u(m)}return(s=_t)!==null&&s!==void 0||(_t=Xs()),Ys(te,_t,i,h).catch(u),{}}var cr=s=>{s.forEach(i=>i(a))};a.noExitRuntime;var N=s=>$n(s),q=()=>Pn(),Mt=[],kt=0,ri=s=>{var i=new ur(s);return i.get_caught()||(i.set_caught(!0),kt--),i.set_rethrown(!1),Mt.push(i),_n(s),bn(s)},ke=0,ni=()=>{O(0,0);var s=Mt.pop();Cn(s.excPtr),ke=0};class ur{constructor(i){this.excPtr=i,this.ptr=i-24}set_type(i){L[this.ptr+4>>2]=i}get_type(){return L[this.ptr+4>>2]}set_destructor(i){L[this.ptr+8>>2]=i}get_destructor(){return L[this.ptr+8>>2]}set_caught(i){i=i?1:0,Q[this.ptr+12]=i}get_caught(){return Q[this.ptr+12]!=0}set_rethrown(i){i=i?1:0,Q[this.ptr+13]=i}get_rethrown(){return Q[this.ptr+13]!=0}init(i,l){this.set_adjusted_ptr(0),this.set_type(i),this.set_destructor(l)}set_adjusted_ptr(i){L[this.ptr+16>>2]=i}get_adjusted_ptr(){return L[this.ptr+16>>2]}}var si=s=>{throw ke||(ke=s),ke},At=s=>Sn(s),lr=s=>{var i=ke;if(!i)return At(0),0;var l=new ur(i);l.set_adjusted_ptr(i);var h=l.get_type();if(!h)return At(0),i;for(var m of s){if(m===0||m===h)break;var v=l.ptr+16;if(Mn(m,h,v))return At(m),i}return At(h),i},ii=()=>lr([]),ai=s=>lr([s]),oi=(s,i)=>lr([s,i]),ci=()=>{var s=Mt.pop();s||or("no exception to throw");var i=s.excPtr;throw s.get_rethrown()||(Mt.push(s),s.set_rethrown(!0),s.set_caught(!1),kt++),ke=i,ke},ui=(s,i,l)=>{var h=new ur(s);throw h.init(i,l),ke=s,kt++,ke},li=()=>kt,di=()=>{or("")},xt={},dr=s=>{for(;s.length;){var i=s.pop(),l=s.pop();l(i)}};function ot(s){return this.fromWireType(L[s>>2])}var Ke={},Ve={},Et={},tn,Ft=s=>{throw new tn(s)},Ue=(s,i,l)=>{s.forEach(w=>Et[w]=i);function h(w){var $=l(w);$.length!==s.length&&Ft("Mismatched type converter count");for(var M=0;M<s.length;++M)be(s[M],$[M])}var m=new Array(i.length),v=[],y=0;i.forEach((w,$)=>{Ve.hasOwnProperty(w)?m[$]=Ve[w]:(v.push(w),Ke.hasOwnProperty(w)||(Ke[w]=[]),Ke[w].push(()=>{m[$]=Ve[w],++y,y===v.length&&h(m)}))}),v.length===0&&h(m)},fi=s=>{var i=xt[s];delete xt[s];var l=i.rawConstructor,h=i.rawDestructor,m=i.fields,v=m.map(y=>y.getterReturnType).concat(m.map(y=>y.setterArgumentType));Ue([s],v,y=>{var w={};return m.forEach(($,M)=>{var A=$.fieldName,F=y[M],B=$.getter,W=$.getterContext,ee=y[M+m.length],le=$.setter,ie=$.setterContext;w[A]={read:ae=>F.fromWireType(B(W,ae)),write:(ae,We)=>{var me=[];le(ie,ae,ee.toWireType(me,We)),dr(me)}}}),[{name:i.name,fromWireType:$=>{var M={};for(var A in w)M[A]=w[A].read($);return h($),M},toWireType:($,M)=>{for(var A in w)if(!(A in M))throw new TypeError(`Missing field: "${A}"`);var F=l();for(A in w)w[A].write(F,M[A]);return $!==null&&$.push(h,F),F},argPackAdvance:Ce,readValueFromPointer:ot,destructorFunction:h}]})},hi=(s,i,l,h,m)=>{},pi=()=>{for(var s=new Array(256),i=0;i<256;++i)s[i]=String.fromCharCode(i);rn=s},rn,fe=s=>{for(var i="",l=s;V[l];)i+=rn[V[l++]];return i},Je,U=s=>{throw new Je(s)};function mi(s,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var h=i.name;if(s||U(`type "${h}" must have a positive integer typeid pointer`),Ve.hasOwnProperty(s)){if(l.ignoreDuplicateRegistrations)return;U(`Cannot register type '${h}' twice`)}if(Ve[s]=i,delete Et[s],Ke.hasOwnProperty(s)){var m=Ke[s];delete Ke[s],m.forEach(v=>v())}}function be(s,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return mi(s,i,l)}var Ce=8,gi=(s,i,l,h)=>{i=fe(i),be(s,{name:i,fromWireType:function(m){return!!m},toWireType:function(m,v){return v?l:h},argPackAdvance:Ce,readValueFromPointer:function(m){return this.fromWireType(V[m])},destructorFunction:null})},vi=s=>({count:s.count,deleteScheduled:s.deleteScheduled,preservePointerOnDelete:s.preservePointerOnDelete,ptr:s.ptr,ptrType:s.ptrType,smartPtr:s.smartPtr,smartPtrType:s.smartPtrType}),fr=s=>{function i(l){return l.$$.ptrType.registeredClass.name}U(i(s)+" instance already deleted")},hr=!1,nn=s=>{},wi=s=>{s.smartPtr?s.smartPtrType.rawDestructor(s.smartPtr):s.ptrType.registeredClass.rawDestructor(s.ptr)},sn=s=>{s.count.value-=1;var i=s.count.value===0;i&&wi(s)},an=(s,i,l)=>{if(i===l)return s;if(l.baseClass===void 0)return null;var h=an(s,i,l.baseClass);return h===null?null:l.downcast(h)},on={},yi={},bi=(s,i)=>{for(i===void 0&&U("ptr should not be undefined");s.baseClass;)i=s.upcast(i),s=s.baseClass;return i},Si=(s,i)=>(i=bi(s,i),yi[i]),Tt=(s,i)=>{(!i.ptrType||!i.ptr)&&Ft("makeClassHandle requires ptr and ptrType");var l=!!i.smartPtrType,h=!!i.smartPtr;return l!==h&&Ft("Both smartPtrType and smartPtr must be specified"),i.count={value:1},ct(Object.create(s,{$$:{value:i,writable:!0}}))};function $i(s){var i=this.getPointee(s);if(!i)return this.destructor(s),null;var l=Si(this.registeredClass,i);if(l!==void 0){if(l.$$.count.value===0)return l.$$.ptr=i,l.$$.smartPtr=s,l.clone();var h=l.clone();return this.destructor(s),h}function m(){return this.isSmartPointer?Tt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:i,smartPtrType:this,smartPtr:s}):Tt(this.registeredClass.instancePrototype,{ptrType:this,ptr:s})}var v=this.registeredClass.getActualType(i),y=on[v];if(!y)return m.call(this);var w;this.isConst?w=y.constPointerType:w=y.pointerType;var $=an(i,this.registeredClass,w.registeredClass);return $===null?m.call(this):this.isSmartPointer?Tt(w.registeredClass.instancePrototype,{ptrType:w,ptr:$,smartPtrType:this,smartPtr:s}):Tt(w.registeredClass.instancePrototype,{ptrType:w,ptr:$})}var ct=s=>typeof FinalizationRegistry>"u"?(ct=i=>i,s):(hr=new FinalizationRegistry(i=>{sn(i.$$)}),ct=i=>{var l=i.$$,h=!!l.smartPtr;if(h){var m={$$:l};hr.register(i,m,i)}return i},nn=i=>hr.unregister(i),ct(s)),Pi=()=>{Object.assign(Rt.prototype,{isAliasOf(s){if(!(this instanceof Rt)||!(s instanceof Rt))return!1;var i=this.$$.ptrType.registeredClass,l=this.$$.ptr;s.$$=s.$$;for(var h=s.$$.ptrType.registeredClass,m=s.$$.ptr;i.baseClass;)l=i.upcast(l),i=i.baseClass;for(;h.baseClass;)m=h.upcast(m),h=h.baseClass;return i===h&&l===m},clone(){if(this.$$.ptr||fr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var s=ct(Object.create(Object.getPrototypeOf(this),{$$:{value:vi(this.$$)}}));return s.$$.count.value+=1,s.$$.deleteScheduled=!1,s},delete(){this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&U("Object already scheduled for deletion"),nn(this),sn(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||fr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&U("Object already scheduled for deletion"),this.$$.deleteScheduled=!0,this}})};function Rt(){}var ut=(s,i)=>Object.defineProperty(i,"name",{value:s}),cn=(s,i,l)=>{if(s[i].overloadTable===void 0){var h=s[i];s[i]=function(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];return s[i].overloadTable.hasOwnProperty(v.length)||U(`Function '${l}' called with an invalid number of arguments (${v.length}) - expects one of (${s[i].overloadTable})!`),s[i].overloadTable[v.length].apply(this,v)},s[i].overloadTable=[],s[i].overloadTable[h.argCount]=h}},pr=(s,i,l)=>{a.hasOwnProperty(s)?((l===void 0||a[s].overloadTable!==void 0&&a[s].overloadTable[l]!==void 0)&&U(`Cannot register public name '${s}' twice`),cn(a,s,s),a.hasOwnProperty(l)&&U(`Cannot register multiple overloads of a function with the same number of arguments (${l})!`),a[s].overloadTable[l]=i):(a[s]=i,l!==void 0&&(a[s].numArguments=l))},Ci=48,_i=57,Mi=s=>{s=s.replace(/[^a-zA-Z0-9_]/g,"$");var i=s.charCodeAt(0);return i>=Ci&&i<=_i?`_${s}`:s};function ki(s,i,l,h,m,v,y,w){this.name=s,this.constructor=i,this.instancePrototype=l,this.rawDestructor=h,this.baseClass=m,this.getActualType=v,this.upcast=y,this.downcast=w,this.pureVirtualFunctions=[]}var mr=(s,i,l)=>{for(;i!==l;)i.upcast||U(`Expected null or instance of ${l.name}, got an instance of ${i.name}`),s=i.upcast(s),i=i.baseClass;return s};function Ai(s,i){if(i===null)return this.isReference&&U(`null is not a valid ${this.name}`),0;i.$$||U(`Cannot pass "${Sr(i)}" as a ${this.name}`),i.$$.ptr||U(`Cannot pass deleted object as a pointer of type ${this.name}`);var l=i.$$.ptrType.registeredClass,h=mr(i.$$.ptr,l,this.registeredClass);return h}function xi(s,i){var l;if(i===null)return this.isReference&&U(`null is not a valid ${this.name}`),this.isSmartPointer?(l=this.rawConstructor(),s!==null&&s.push(this.rawDestructor,l),l):0;(!i||!i.$$)&&U(`Cannot pass "${Sr(i)}" as a ${this.name}`),i.$$.ptr||U(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&i.$$.ptrType.isConst&&U(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);var h=i.$$.ptrType.registeredClass;if(l=mr(i.$$.ptr,h,this.registeredClass),this.isSmartPointer)switch(i.$$.smartPtr===void 0&&U("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:i.$$.smartPtrType===this?l=i.$$.smartPtr:U(`Cannot convert argument of type ${i.$$.smartPtrType?i.$$.smartPtrType.name:i.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:l=i.$$.smartPtr;break;case 2:if(i.$$.smartPtrType===this)l=i.$$.smartPtr;else{var m=i.clone();l=this.rawShare(l,xe.toHandle(()=>m.delete())),s!==null&&s.push(this.rawDestructor,l)}break;default:U("Unsupporting sharing policy")}return l}function Ei(s,i){if(i===null)return this.isReference&&U(`null is not a valid ${this.name}`),0;i.$$||U(`Cannot pass "${Sr(i)}" as a ${this.name}`),i.$$.ptr||U(`Cannot pass deleted object as a pointer of type ${this.name}`),i.$$.ptrType.isConst&&U(`Cannot convert argument of type ${i.$$.ptrType.name} to parameter type ${this.name}`);var l=i.$$.ptrType.registeredClass,h=mr(i.$$.ptr,l,this.registeredClass);return h}var Fi=()=>{Object.assign(Ot.prototype,{getPointee(s){return this.rawGetPointee&&(s=this.rawGetPointee(s)),s},destructor(s){var i;(i=this.rawDestructor)===null||i===void 0||i.call(this,s)},argPackAdvance:Ce,readValueFromPointer:ot,fromWireType:$i})};function Ot(s,i,l,h,m,v,y,w,$,M,A){this.name=s,this.registeredClass=i,this.isReference=l,this.isConst=h,this.isSmartPointer=m,this.pointeeType=v,this.sharingPolicy=y,this.rawGetPointee=w,this.rawConstructor=$,this.rawShare=M,this.rawDestructor=A,!m&&i.baseClass===void 0?h?(this.toWireType=Ai,this.destructorFunction=null):(this.toWireType=Ei,this.destructorFunction=null):this.toWireType=xi}var un=(s,i,l)=>{a.hasOwnProperty(s)||Ft("Replacing nonexistent public symbol"),a[s].overloadTable!==void 0&&l!==void 0?a[s].overloadTable[l]=i:(a[s]=i,a[s].argCount=l)},Ti=(s,i,l)=>{s=s.replace(/p/g,"i");var h=a["dynCall_"+s];return h(i,...l)},Bt=[],ln,I=s=>{var i=Bt[s];return i||(s>=Bt.length&&(Bt.length=s+1),Bt[s]=i=ln.get(s)),i},Ri=function(s,i){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(s.includes("j"))return Ti(s,i,l);var h=I(i)(...l);return h},Oi=(s,i)=>function(){for(var l=arguments.length,h=new Array(l),m=0;m<l;m++)h[m]=arguments[m];return Ri(s,i,h)},Se=(s,i)=>{s=fe(s);function l(){return s.includes("j")?Oi(s,i):I(i)}var h=l();return typeof h!="function"&&U(`unknown function pointer with signature ${s}: ${i}`),h},Bi=(s,i)=>{var l=ut(i,function(h){this.name=i,this.message=h;var m=new Error(h).stack;m!==void 0&&(this.stack=this.toString()+`
`+m.replace(/^Error(:[^\n]*)?\n/,""))});return l.prototype=Object.create(s.prototype),l.prototype.constructor=l,l.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},l},dn,fn=s=>{var i=yn(s),l=fe(i);return Ee(i),l},Lt=(s,i)=>{var l=[],h={};function m(v){if(!h[v]&&!Ve[v]){if(Et[v]){Et[v].forEach(m);return}l.push(v),h[v]=!0}}throw i.forEach(m),new dn(`${s}: `+l.map(fn).join([", "]))},Li=(s,i,l,h,m,v,y,w,$,M,A,F,B)=>{A=fe(A),v=Se(m,v),w&&(w=Se(y,w)),M&&(M=Se($,M)),B=Se(F,B);var W=Mi(A);pr(W,function(){Lt(`Cannot construct ${A} due to unbound types`,[h])}),Ue([s,i,l],h?[h]:[],ee=>{ee=ee[0];var le,ie;h?(le=ee.registeredClass,ie=le.instancePrototype):ie=Rt.prototype;var ae=ut(A,function(){if(Object.getPrototypeOf(this)!==We)throw new Je("Use 'new' to construct "+A);if(me.constructor_body===void 0)throw new Je(A+" has no accessible constructor");for(var Rn=arguments.length,It=new Array(Rn),jt=0;jt<Rn;jt++)It[jt]=arguments[jt];var On=me.constructor_body[It.length];if(On===void 0)throw new Je(`Tried to invoke ctor of ${A} with invalid number of parameters (${It.length}) - expected (${Object.keys(me.constructor_body).toString()}) parameters instead!`);return On.apply(this,It)}),We=Object.create(ie,{constructor:{value:ae}});ae.prototype=We;var me=new ki(A,ae,We,B,le,v,w,M);if(me.baseClass){var Fe,qt;(qt=(Fe=me.baseClass).__derivedClasses)!==null&&qt!==void 0||(Fe.__derivedClasses=[]),me.baseClass.__derivedClasses.push(me)}var Co=new Ot(A,me,!0,!1,!1),Fn=new Ot(A+"*",me,!1,!1,!1),Tn=new Ot(A+" const*",me,!1,!0,!1);return on[s]={pointerType:Fn,constPointerType:Tn},un(W,ae),[Co,Fn,Tn]})},gr=(s,i)=>{for(var l=[],h=0;h<s;h++)l.push(L[i+h*4>>2]);return l};function Ni(s){for(var i=1;i<s.length;++i)if(s[i]!==null&&s[i].destructorFunction===void 0)return!0;return!1}function vr(s,i,l,h,m,v){var y=i.length;y<2&&U("argTypes array size mismatch! Must at least get return value and 'this' types!");var w=i[1]!==null&&l!==null,$=Ni(i),M=i[0].name!=="void",A=y-2,F=new Array(A),B=[],W=[],ee=function(){W.length=0;var le;B.length=w?2:1,B[0]=m,w&&(le=i[1].toWireType(W,this),B[1]=le);for(var ie=0;ie<A;++ie)F[ie]=i[ie+2].toWireType(W,ie<0||arguments.length<=ie?void 0:arguments[ie]),B.push(F[ie]);var ae=h(...B);function We(me){if($)dr(W);else for(var Fe=w?1:2;Fe<i.length;Fe++){var qt=Fe===1?le:F[Fe-2];i[Fe].destructorFunction!==null&&i[Fe].destructorFunction(qt)}if(M)return i[0].fromWireType(me)}return We(ae)};return ut(s,ee)}var qi=(s,i,l,h,m,v)=>{var y=gr(i,l);m=Se(h,m),Ue([],[s],w=>{w=w[0];var $=`constructor ${w.name}`;if(w.registeredClass.constructor_body===void 0&&(w.registeredClass.constructor_body=[]),w.registeredClass.constructor_body[i-1]!==void 0)throw new Je(`Cannot register multiple constructors with identical number of parameters (${i-1}) for class '${w.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return w.registeredClass.constructor_body[i-1]=()=>{Lt(`Cannot construct ${w.name} due to unbound types`,y)},Ue([],y,M=>(M.splice(1,0,null),w.registeredClass.constructor_body[i-1]=vr($,M,null,m,v),[])),[]})},hn=s=>{s=s.trim();const i=s.indexOf("(");return i!==-1?s.substr(0,i):s},Ii=(s,i,l,h,m,v,y,w,$,M)=>{var A=gr(l,h);i=fe(i),i=hn(i),v=Se(m,v),Ue([],[s],F=>{F=F[0];var B=`${F.name}.${i}`;i.startsWith("@@")&&(i=Symbol[i.substring(2)]),w&&F.registeredClass.pureVirtualFunctions.push(i);function W(){Lt(`Cannot call ${B} due to unbound types`,A)}var ee=F.registeredClass.instancePrototype,le=ee[i];return le===void 0||le.overloadTable===void 0&&le.className!==F.name&&le.argCount===l-2?(W.argCount=l-2,W.className=F.name,ee[i]=W):(cn(ee,i,B),ee[i].overloadTable[l-2]=W),Ue([],A,ie=>{var ae=vr(B,ie,F,v,y);return ee[i].overloadTable===void 0?(ae.argCount=l-2,ee[i]=ae):ee[i].overloadTable[l-2]=ae,[]}),[]})},wr=[],Ae=[],yr=s=>{s>9&&--Ae[s+1]===0&&(Ae[s]=void 0,wr.push(s))},ji=()=>Ae.length/2-5-wr.length,Di=()=>{Ae.push(0,1,void 0,1,null,1,!0,1,!1,1),a.count_emval_handles=ji},xe={toValue:s=>(s||U("Cannot use deleted val. handle = "+s),Ae[s]),toHandle:s=>{switch(s){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const i=wr.pop()||Ae.length;return Ae[i]=s,Ae[i+1]=1,i}}}},pn={name:"emscripten::val",fromWireType:s=>{var i=xe.toValue(s);return yr(s),i},toWireType:(s,i)=>xe.toHandle(i),argPackAdvance:Ce,readValueFromPointer:ot,destructorFunction:null},Vi=s=>be(s,pn),Ui=(s,i,l)=>{switch(i){case 1:return l?function(h){return this.fromWireType(Q[h])}:function(h){return this.fromWireType(V[h])};case 2:return l?function(h){return this.fromWireType(Y[h>>1])}:function(h){return this.fromWireType(Pe[h>>1])};case 4:return l?function(h){return this.fromWireType(ue[h>>2])}:function(h){return this.fromWireType(L[h>>2])};default:throw new TypeError(`invalid integer width (${i}): ${s}`)}},Wi=(s,i,l,h)=>{i=fe(i);function m(){}m.values={},be(s,{name:i,constructor:m,fromWireType:function(v){return this.constructor.values[v]},toWireType:(v,y)=>y.value,argPackAdvance:Ce,readValueFromPointer:Ui(i,l,h),destructorFunction:null}),pr(i,m)},br=(s,i)=>{var l=Ve[s];return l===void 0&&U(`${i} has unknown type ${fn(s)}`),l},zi=(s,i,l)=>{var h=br(s,"enum");i=fe(i);var m=h.constructor,v=Object.create(h.constructor.prototype,{value:{value:l},constructor:{value:ut(`${h.name}_${i}`,function(){})}});m.values[l]=v,m[i]=v},Sr=s=>{if(s===null)return"null";var i=typeof s;return i==="object"||i==="array"||i==="function"?s.toString():""+s},Hi=(s,i)=>{switch(i){case 4:return function(l){return this.fromWireType(Pt[l>>2])};case 8:return function(l){return this.fromWireType(H[l>>3])};default:throw new TypeError(`invalid float width (${i}): ${s}`)}},Gi=(s,i,l)=>{i=fe(i),be(s,{name:i,fromWireType:h=>h,toWireType:(h,m)=>m,argPackAdvance:Ce,readValueFromPointer:Hi(i,l),destructorFunction:null})},Qi=(s,i,l,h,m,v,y,w)=>{var $=gr(i,l);s=fe(s),s=hn(s),m=Se(h,m),pr(s,function(){Lt(`Cannot call ${s} due to unbound types`,$)},i-1),Ue([],$,M=>{var A=[M[0],null].concat(M.slice(1));return un(s,vr(s,A,null,m,v),i-1),[]})},Ki=(s,i,l)=>{switch(i){case 1:return l?h=>Q[h]:h=>V[h];case 2:return l?h=>Y[h>>1]:h=>Pe[h>>1];case 4:return l?h=>ue[h>>2]:h=>L[h>>2];default:throw new TypeError(`invalid integer width (${i}): ${s}`)}},Ji=(s,i,l,h,m)=>{i=fe(i);var v=A=>A;if(h===0){var y=32-8*l;v=A=>A<<y>>>y}var w=i.includes("unsigned"),$=(A,F)=>{},M;w?M=function(A,F){return $(F,this.name),F>>>0}:M=function(A,F){return $(F,this.name),F},be(s,{name:i,fromWireType:v,toWireType:M,argPackAdvance:Ce,readValueFromPointer:Ki(i,l,h!==0),destructorFunction:null})},Xi=(s,i,l)=>{var h=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],m=h[i];function v(y){var w=L[y>>2],$=L[y+4>>2];return new m(Q.buffer,$,w)}l=fe(l),be(s,{name:l,fromWireType:v,argPackAdvance:Ce,readValueFromPointer:v},{ignoreDuplicateRegistrations:!0})},Zi=Object.assign({optional:!0},pn),Yi=(s,i)=>{be(s,Zi)},ea=(s,i,l,h)=>{if(!(h>0))return 0;for(var m=l,v=l+h-1,y=0;y<s.length;++y){var w=s.charCodeAt(y);if(w>=55296&&w<=57343){var $=s.charCodeAt(++y);w=65536+((w&1023)<<10)|$&1023}if(w<=127){if(l>=v)break;i[l++]=w}else if(w<=2047){if(l+1>=v)break;i[l++]=192|w>>6,i[l++]=128|w&63}else if(w<=65535){if(l+2>=v)break;i[l++]=224|w>>12,i[l++]=128|w>>6&63,i[l++]=128|w&63}else{if(l+3>=v)break;i[l++]=240|w>>18,i[l++]=128|w>>12&63,i[l++]=128|w>>6&63,i[l++]=128|w&63}}return i[l]=0,l-m},lt=(s,i,l)=>ea(s,V,i,l),ta=s=>{for(var i=0,l=0;l<s.length;++l){var h=s.charCodeAt(l);h<=127?i++:h<=2047?i+=2:h>=55296&&h<=57343?(i+=4,++l):i+=3}return i},mn=typeof TextDecoder<"u"?new TextDecoder:void 0,gn=function(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NaN;for(var h=i+l,m=i;s[m]&&!(m>=h);)++m;if(m-i>16&&s.buffer&&mn)return mn.decode(s.subarray(i,m));for(var v="";i<m;){var y=s[i++];if(!(y&128)){v+=String.fromCharCode(y);continue}var w=s[i++]&63;if((y&224)==192){v+=String.fromCharCode((y&31)<<6|w);continue}var $=s[i++]&63;if((y&240)==224?y=(y&15)<<12|w<<6|$:y=(y&7)<<18|w<<12|$<<6|s[i++]&63,y<65536)v+=String.fromCharCode(y);else{var M=y-65536;v+=String.fromCharCode(55296|M>>10,56320|M&1023)}}return v},ra=(s,i)=>s?gn(V,s,i):"",na=(s,i)=>{i=fe(i);var l=i==="std::string";be(s,{name:i,fromWireType(h){var m=L[h>>2],v=h+4,y;if(l)for(var w=v,$=0;$<=m;++$){var M=v+$;if($==m||V[M]==0){var A=M-w,F=ra(w,A);y===void 0?y=F:(y+="\0",y+=F),w=M+1}}else{for(var B=new Array(m),$=0;$<m;++$)B[$]=String.fromCharCode(V[v+$]);y=B.join("")}return Ee(h),y},toWireType(h,m){m instanceof ArrayBuffer&&(m=new Uint8Array(m));var v,y=typeof m=="string";y||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof Int8Array||U("Cannot pass non-string to std::string"),l&&y?v=ta(m):v=m.length;var w=Cr(4+v+1),$=w+4;if(L[w>>2]=v,l&&y)lt(m,$,v+1);else if(y)for(var M=0;M<v;++M){var A=m.charCodeAt(M);A>255&&(Ee($),U("String has UTF-16 code units that do not fit in 8 bits")),V[$+M]=A}else for(var M=0;M<v;++M)V[$+M]=m[M];return h!==null&&h.push(Ee,w),w},argPackAdvance:Ce,readValueFromPointer:ot,destructorFunction(h){Ee(h)}})},vn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,sa=(s,i)=>{for(var l=s,h=l>>1,m=h+i/2;!(h>=m)&&Pe[h];)++h;if(l=h<<1,l-s>32&&vn)return vn.decode(V.subarray(s,l));for(var v="",y=0;!(y>=i/2);++y){var w=Y[s+y*2>>1];if(w==0)break;v+=String.fromCharCode(w)}return v},ia=(s,i,l)=>{var h;if((h=l)!==null&&h!==void 0||(l=2147483647),l<2)return 0;l-=2;for(var m=i,v=l<s.length*2?l/2:s.length,y=0;y<v;++y){var w=s.charCodeAt(y);Y[i>>1]=w,i+=2}return Y[i>>1]=0,i-m},aa=s=>s.length*2,oa=(s,i)=>{for(var l=0,h="";!(l>=i/4);){var m=ue[s+l*4>>2];if(m==0)break;if(++l,m>=65536){var v=m-65536;h+=String.fromCharCode(55296|v>>10,56320|v&1023)}else h+=String.fromCharCode(m)}return h},ca=(s,i,l)=>{var h;if((h=l)!==null&&h!==void 0||(l=2147483647),l<4)return 0;for(var m=i,v=m+l-4,y=0;y<s.length;++y){var w=s.charCodeAt(y);if(w>=55296&&w<=57343){var $=s.charCodeAt(++y);w=65536+((w&1023)<<10)|$&1023}if(ue[i>>2]=w,i+=4,i+4>v)break}return ue[i>>2]=0,i-m},ua=s=>{for(var i=0,l=0;l<s.length;++l){var h=s.charCodeAt(l);h>=55296&&h<=57343&&++l,i+=4}return i},la=(s,i,l)=>{l=fe(l);var h,m,v,y;i===2?(h=sa,m=ia,y=aa,v=w=>Pe[w>>1]):i===4&&(h=oa,m=ca,y=ua,v=w=>L[w>>2]),be(s,{name:l,fromWireType:w=>{for(var $=L[w>>2],M,A=w+4,F=0;F<=$;++F){var B=w+4+F*i;if(F==$||v(B)==0){var W=B-A,ee=h(A,W);M===void 0?M=ee:(M+="\0",M+=ee),A=B+i}}return Ee(w),M},toWireType:(w,$)=>{typeof $!="string"&&U(`Cannot pass non-string to C++ string type ${l}`);var M=y($),A=Cr(4+M+i);return L[A>>2]=M/i,m($,A+4,M+i),w!==null&&w.push(Ee,A),A},argPackAdvance:Ce,readValueFromPointer:ot,destructorFunction(w){Ee(w)}})},da=(s,i,l,h,m,v)=>{xt[s]={name:fe(i),rawConstructor:Se(l,h),rawDestructor:Se(m,v),fields:[]}},fa=(s,i,l,h,m,v,y,w,$,M)=>{xt[s].fields.push({fieldName:fe(i),getterReturnType:l,getter:Se(h,m),getterContext:v,setterArgumentType:y,setter:Se(w,$),setterContext:M})},ha=(s,i)=>{i=fe(i),be(s,{isVoid:!0,name:i,argPackAdvance:0,fromWireType:()=>{},toWireType:(l,h)=>{}})},pa=(s,i,l)=>V.copyWithin(s,i,i+l),$r=[],ma=(s,i,l,h)=>(s=$r[s],i=xe.toValue(i),s(null,i,l,h)),ga={},va=s=>{var i=ga[s];return i===void 0?fe(s):i},wn=()=>{if(typeof globalThis=="object")return globalThis;function s(i){i.$$$embind_global$$$=i;var l=typeof $$$embind_global$$$=="object"&&i.$$$embind_global$$$==i;return l||delete i.$$$embind_global$$$,l}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&s(global)?$$$embind_global$$$=global:typeof self=="object"&&s(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},wa=s=>s===0?xe.toHandle(wn()):(s=va(s),xe.toHandle(wn()[s])),ya=s=>{var i=$r.length;return $r.push(s),i},ba=(s,i)=>{for(var l=new Array(s),h=0;h<s;++h)l[h]=br(L[i+h*4>>2],"parameter "+h);return l},Sa=Reflect.construct,$a=(s,i,l)=>{var h=[],m=s.toWireType(h,l);return h.length&&(L[i>>2]=xe.toHandle(h)),m},Pa=(s,i,l)=>{var h=ba(s,i),m=h.shift();s--;var v=new Array(s),y=($,M,A,F)=>{for(var B=0,W=0;W<s;++W)v[W]=h[W].readValueFromPointer(F+B),B+=h[W].argPackAdvance;var ee=l===1?Sa(M,v):M.apply($,v);return $a(m,A,ee)},w=`methodCaller<(${h.map($=>$.name).join(", ")}) => ${m.name}>`;return ya(ut(w,y))},Ca=s=>{s>9&&(Ae[s+1]+=1)},_a=s=>{var i=xe.toValue(s);dr(i),yr(s)},Ma=(s,i)=>{s=br(s,"_emval_take_value");var l=s.readValueFromPointer(i);return xe.toHandle(l)},ka=(s,i,l,h)=>{var m=new Date().getFullYear(),v=new Date(m,0,1),y=new Date(m,6,1),w=v.getTimezoneOffset(),$=y.getTimezoneOffset(),M=Math.max(w,$);L[s>>2]=M*60,ue[i>>2]=+(w!=$);var A=W=>{var ee=W>=0?"-":"+",le=Math.abs(W),ie=String(Math.floor(le/60)).padStart(2,"0"),ae=String(le%60).padStart(2,"0");return`UTC${ee}${ie}${ae}`},F=A(w),B=A($);$<w?(lt(F,l,17),lt(B,h,17)):(lt(F,h,17),lt(B,l,17))},Aa=()=>2147483648,xa=(s,i)=>Math.ceil(s/i)*i,Ea=s=>{var i=ce.buffer,l=(s-i.byteLength+65535)/65536|0;try{return ce.grow(l),K(),1}catch{}},Fa=s=>{var i=V.length;s>>>=0;var l=Aa();if(s>l)return!1;for(var h=1;h<=4;h*=2){var m=i*(1+.2/h);m=Math.min(m,s+100663296);var v=Math.min(l,xa(Math.max(s,m),65536)),y=Ea(v);if(y)return!0}return!1},Pr={},Ta=()=>P||"./this.program",dt=()=>{if(!dt.strings){var s=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",i={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:s,_:Ta()};for(var l in Pr)Pr[l]===void 0?delete i[l]:i[l]=Pr[l];var h=[];for(var l in i)h.push(`${l}=${i[l]}`);dt.strings=h}return dt.strings},Ra=(s,i)=>{for(var l=0;l<s.length;++l)Q[i++]=s.charCodeAt(l);Q[i]=0},Oa=(s,i)=>{var l=0;return dt().forEach((h,m)=>{var v=i+l;L[s+m*4>>2]=v,Ra(h,v),l+=h.length+1}),0},Ba=(s,i)=>{var l=dt();L[s>>2]=l.length;var h=0;return l.forEach(m=>h+=m.length+1),L[i>>2]=h,0},La=s=>52;function Na(s,i,l,h,m){return 70}var qa=[null,[],[]],Ia=(s,i)=>{var l=qa[s];i===0||i===10?((s===1?T:G)(gn(l)),l.length=0):l.push(i)},ja=(s,i,l,h)=>{for(var m=0,v=0;v<l;v++){var y=L[i>>2],w=L[i+4>>2];i+=8;for(var $=0;$<w;$++)Ia(s,V[y+$]);m+=w}return L[h>>2]=m,0},Da=s=>s;tn=a.InternalError=class extends Error{constructor(s){super(s),this.name="InternalError"}},pi(),Je=a.BindingError=class extends Error{constructor(s){super(s),this.name="BindingError"}},Pi(),Fi(),dn=a.UnboundTypeError=Bi(Error,"UnboundTypeError"),Di();var Va={t:ri,x:ni,a:ii,j:ai,k:oi,O:ci,q:ui,ga:li,d:si,ca:di,va:fi,ba:hi,pa:gi,ta:Li,sa:qi,E:Ii,oa:Vi,F:Wi,n:zi,W:Gi,X:Qi,y:Ji,u:Xi,ua:Yi,V:na,P:la,L:da,wa:fa,qa:ha,ja:pa,T:ma,xa:yr,ya:wa,U:Pa,Y:Ca,Z:_a,ra:Ma,da:ka,ha:Fa,ea:Oa,fa:Ba,ia:La,$:Na,S:ja,J:uo,C:fo,Q:Ga,R:yo,r:io,b:Ua,D:co,la:po,c:Ka,ka:mo,h:Ha,i:Ya,s:eo,N:oo,w:ro,I:vo,K:ao,z:ho,H:bo,aa:$o,_:Po,l:Ja,f:Qa,e:za,g:Wa,M:wo,m:Za,ma:lo,p:to,v:no,na:so,B:go,o:Xa,G:So,A:Da},re=ti(),yn=s=>(yn=re.Ba)(s),Ee=a._free=s=>(Ee=a._free=re.Ca)(s),Cr=a._malloc=s=>(Cr=a._malloc=re.Ea)(s),bn=s=>(bn=re.Fa)(s),O=(s,i)=>(O=re.Ga)(s,i),Sn=s=>(Sn=re.Ha)(s),$n=s=>($n=re.Ia)(s),Pn=()=>(Pn=re.Ja)(),Cn=s=>(Cn=re.Ka)(s),_n=s=>(_n=re.La)(s),Mn=(s,i,l)=>(Mn=re.Ma)(s,i,l);a.dynCall_viijii=(s,i,l,h,m,v,y)=>(a.dynCall_viijii=re.Na)(s,i,l,h,m,v,y);var kn=a.dynCall_jiii=(s,i,l,h)=>(kn=a.dynCall_jiii=re.Oa)(s,i,l,h);a.dynCall_jiji=(s,i,l,h,m)=>(a.dynCall_jiji=re.Pa)(s,i,l,h,m);var An=a.dynCall_jiiii=(s,i,l,h,m)=>(An=a.dynCall_jiiii=re.Qa)(s,i,l,h,m);a.dynCall_iiiiij=(s,i,l,h,m,v,y)=>(a.dynCall_iiiiij=re.Ra)(s,i,l,h,m,v,y),a.dynCall_iiiiijj=(s,i,l,h,m,v,y,w,$)=>(a.dynCall_iiiiijj=re.Sa)(s,i,l,h,m,v,y,w,$),a.dynCall_iiiiiijj=(s,i,l,h,m,v,y,w,$,M)=>(a.dynCall_iiiiiijj=re.Ta)(s,i,l,h,m,v,y,w,$,M);function Ua(s,i){var l=q();try{return I(s)(i)}catch(h){if(N(l),h!==h+0)throw h;O(1,0)}}function Wa(s,i,l,h){var m=q();try{I(s)(i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function za(s,i,l){var h=q();try{I(s)(i,l)}catch(m){if(N(h),m!==m+0)throw m;O(1,0)}}function Ha(s,i,l,h){var m=q();try{return I(s)(i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function Ga(s,i,l,h,m){var v=q();try{return I(s)(i,l,h,m)}catch(y){if(N(v),y!==y+0)throw y;O(1,0)}}function Qa(s,i){var l=q();try{I(s)(i)}catch(h){if(N(l),h!==h+0)throw h;O(1,0)}}function Ka(s,i,l){var h=q();try{return I(s)(i,l)}catch(m){if(N(h),m!==m+0)throw m;O(1,0)}}function Ja(s){var i=q();try{I(s)()}catch(l){if(N(i),l!==l+0)throw l;O(1,0)}}function Xa(s,i,l,h,m,v,y,w,$,M,A){var F=q();try{I(s)(i,l,h,m,v,y,w,$,M,A)}catch(B){if(N(F),B!==B+0)throw B;O(1,0)}}function Za(s,i,l,h,m){var v=q();try{I(s)(i,l,h,m)}catch(y){if(N(v),y!==y+0)throw y;O(1,0)}}function Ya(s,i,l,h,m){var v=q();try{return I(s)(i,l,h,m)}catch(y){if(N(v),y!==y+0)throw y;O(1,0)}}function eo(s,i,l,h,m,v){var y=q();try{return I(s)(i,l,h,m,v)}catch(w){if(N(y),w!==w+0)throw w;O(1,0)}}function to(s,i,l,h,m,v){var y=q();try{I(s)(i,l,h,m,v)}catch(w){if(N(y),w!==w+0)throw w;O(1,0)}}function ro(s,i,l,h,m,v,y){var w=q();try{return I(s)(i,l,h,m,v,y)}catch($){if(N(w),$!==$+0)throw $;O(1,0)}}function no(s,i,l,h,m,v,y,w){var $=q();try{I(s)(i,l,h,m,v,y,w)}catch(M){if(N($),M!==M+0)throw M;O(1,0)}}function so(s,i,l,h,m,v,y,w,$){var M=q();try{I(s)(i,l,h,m,v,y,w,$)}catch(A){if(N(M),A!==A+0)throw A;O(1,0)}}function io(s){var i=q();try{return I(s)()}catch(l){if(N(i),l!==l+0)throw l;O(1,0)}}function ao(s,i,l,h,m,v,y,w,$){var M=q();try{return I(s)(i,l,h,m,v,y,w,$)}catch(A){if(N(M),A!==A+0)throw A;O(1,0)}}function oo(s,i,l,h,m,v,y){var w=q();try{return I(s)(i,l,h,m,v,y)}catch($){if(N(w),$!==$+0)throw $;O(1,0)}}function co(s,i,l,h){var m=q();try{return I(s)(i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function uo(s,i,l,h){var m=q();try{return I(s)(i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function lo(s,i,l,h,m,v,y,w){var $=q();try{I(s)(i,l,h,m,v,y,w)}catch(M){if(N($),M!==M+0)throw M;O(1,0)}}function fo(s,i,l,h,m,v){var y=q();try{return I(s)(i,l,h,m,v)}catch(w){if(N(y),w!==w+0)throw w;O(1,0)}}function ho(s,i,l,h,m,v,y,w,$,M){var A=q();try{return I(s)(i,l,h,m,v,y,w,$,M)}catch(F){if(N(A),F!==F+0)throw F;O(1,0)}}function po(s,i,l){var h=q();try{return I(s)(i,l)}catch(m){if(N(h),m!==m+0)throw m;O(1,0)}}function mo(s,i,l,h,m){var v=q();try{return I(s)(i,l,h,m)}catch(y){if(N(v),y!==y+0)throw y;O(1,0)}}function go(s,i,l,h,m,v,y,w,$,M){var A=q();try{I(s)(i,l,h,m,v,y,w,$,M)}catch(F){if(N(A),F!==F+0)throw F;O(1,0)}}function vo(s,i,l,h,m,v,y,w){var $=q();try{return I(s)(i,l,h,m,v,y,w)}catch(M){if(N($),M!==M+0)throw M;O(1,0)}}function wo(s,i,l,h,m,v,y){var w=q();try{I(s)(i,l,h,m,v,y)}catch($){if(N(w),$!==$+0)throw $;O(1,0)}}function yo(s,i,l,h){var m=q();try{return I(s)(i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function bo(s,i,l,h,m,v,y,w,$,M,A,F){var B=q();try{return I(s)(i,l,h,m,v,y,w,$,M,A,F)}catch(W){if(N(B),W!==W+0)throw W;O(1,0)}}function So(s,i,l,h,m,v,y,w,$,M,A,F,B,W,ee,le){var ie=q();try{I(s)(i,l,h,m,v,y,w,$,M,A,F,B,W,ee,le)}catch(ae){if(N(ie),ae!==ae+0)throw ae;O(1,0)}}function $o(s,i,l,h){var m=q();try{return kn(s,i,l,h)}catch(v){if(N(m),v!==v+0)throw v;O(1,0)}}function Po(s,i,l,h,m){var v=q();try{return An(s,i,l,h,m)}catch(y){if(N(v),y!==y+0)throw y;O(1,0)}}var Nt,xn;at=function s(){Nt||En(),Nt||(at=s)};function En(){if(De>0||!xn&&(xn=1,Re(),De>0))return;function s(){var i;Nt||(Nt=1,a.calledRun=1,!J&&(it(),c(a),(i=a.onRuntimeInitialized)===null||i===void 0||i.call(a),je()))}a.setStatus?(a.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>a.setStatus(""),1),s()},1)):s()}if(a.preInit)for(typeof a.preInit=="function"&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();return En(),n=d,n}})();function Ll(r){return Jr(Xr,r)}async function Nl(r,e){return Ol(Xr,r,e)}async function ql(r,e){return Bl(Xr,r,e)}const Ns=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["databar_limited","DataBarLimited"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],Il=[...Ns,["unknown"]].map(r=>r[0]),Dr=new Map(Ns);function jl(r){for(const[e,t]of Dr)if(r===t)return e;return"unknown"}function Dl(r){if(qs(r))return{width:r.naturalWidth,height:r.naturalHeight};if(Is(r))return{width:r.width.baseVal.value,height:r.height.baseVal.value};if(js(r))return{width:r.videoWidth,height:r.videoHeight};if(Vs(r))return{width:r.width,height:r.height};if(Ws(r))return{width:r.displayWidth,height:r.displayHeight};if(Ds(r))return{width:r.width,height:r.height};if(Us(r))return{width:r.width,height:r.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function qs(r){var e,t;try{return r instanceof((t=(e=r?.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLImageElement)}catch{return!1}}function Is(r){var e,t;try{return r instanceof((t=(e=r?.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.SVGImageElement)}catch{return!1}}function js(r){var e,t;try{return r instanceof((t=(e=r?.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLVideoElement)}catch{return!1}}function Ds(r){var e,t;try{return r instanceof((t=(e=r?.ownerDocument)==null?void 0:e.defaultView)==null?void 0:t.HTMLCanvasElement)}catch{return!1}}function Vs(r){try{return r instanceof ImageBitmap||Object.prototype.toString.call(r)==="[object ImageBitmap]"}catch{return!1}}function Us(r){try{return r instanceof OffscreenCanvas||Object.prototype.toString.call(r)==="[object OffscreenCanvas]"}catch{return!1}}function Ws(r){try{return r instanceof VideoFrame||Object.prototype.toString.call(r)==="[object VideoFrame]"}catch{return!1}}function zs(r){try{return r instanceof Blob||Object.prototype.toString.call(r)==="[object Blob]"}catch{return!1}}function Vl(r){try{return r instanceof ImageData||Object.prototype.toString.call(r)==="[object ImageData]"}catch{return!1}}function Ul(r,e){try{const t=new OffscreenCanvas(r,e);if(t.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return t;throw void 0}catch{const t=document.createElement("canvas");return t.width=r,t.height=e,t}}async function Hs(r){if(qs(r)&&!await Gl(r))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Is(r)&&!await Ql(r))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Ws(r)&&Kl(r))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(js(r)&&(r.readyState===0||r.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Vs(r)&&Xl(r))throw new DOMException("The image source is detached.","InvalidStateError");const{width:e,height:t}=Dl(r);if(e===0||t===0)return null;const n=Ul(e,t).getContext("2d");n.drawImage(r,0,0);try{return n.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Wl(r){let e;try{if(globalThis.createImageBitmap)e=await createImageBitmap(r);else if(globalThis.Image){e=new Image;let t="";try{t=URL.createObjectURL(r),e.src=t,await e.decode()}finally{URL.revokeObjectURL(t)}}else return r}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Hs(e)}function zl(r){const{width:e,height:t}=r;if(e===0||t===0)return null;const n=r.getContext("2d");try{return n.getImageData(0,0,e,t)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Hl(r){if(zs(r))return await Wl(r);if(Vl(r)){if(Jl(r))throw new DOMException("The image data has been detached.","InvalidStateError");return r}return Ds(r)||Us(r)?zl(r):await Hs(r)}async function Gl(r){try{return await r.decode(),!0}catch{return!1}}async function Ql(r){var e;try{return await((e=r.decode)==null?void 0:e.call(r)),!0}catch{return!1}}function Kl(r){return r.format===null}function Jl(r){return r.data.buffer.byteLength===0}function Xl(r){return r.width===0&&r.height===0}function Zn(r,e){return Zl(r)?new DOMException(`${e}: ${r.message}`,r.name):Yl(r)?new r.constructor(`${e}: ${r.message}`):new Error(`${e}: ${r}`)}function Zl(r){return r instanceof DOMException||Object.prototype.toString.call(r)==="[object DOMException]"}function Yl(r){return r instanceof Error||Object.prototype.toString.call(r)==="[object Error]"}var Kt;class ed extends EventTarget{constructor(e={}){var t;super(),Pl(this,Kt);try{const n=(t=e?.formats)==null?void 0:t.filter(a=>a!=="unknown");if(n?.length===0)throw new TypeError("Hint option provided, but is empty.");for(const a of n??[])if(!Dr.has(a))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${a}' is not a valid enum value of type BarcodeFormat.`);Cl(this,Kt,n??[]),Ll().then(a=>{this.dispatchEvent(new CustomEvent("load",{detail:a}))}).catch(a=>{this.dispatchEvent(new CustomEvent("error",{detail:a}))})}catch(n){throw Zn(n,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Il.filter(e=>e!=="unknown")}async detect(e){try{const t=await Hl(e);if(t===null)return[];let n;const a={tryHarder:!0,returnCodabarStartEnd:!0,formats:$l(this,Kt).map(c=>Dr.get(c))};try{zs(t)?n=await Nl(t,a):n=await ql(t,a)}catch(c){throw console.error(c),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return n.map(c=>{const{topLeft:{x:u,y:d},topRight:{x:g,y:o},bottomLeft:{x:f,y:p},bottomRight:{x:P,y:b}}=c.position,C=Math.min(u,g,f,P),S=Math.min(d,o,p,b),k=Math.max(u,g,f,P),E=Math.max(d,o,p,b);return{boundingBox:new DOMRectReadOnly(C,S,k-C,E-S),rawValue:c.text,format:jl(c.format),cornerPoints:[{x:u,y:d},{x:g,y:o},{x:P,y:b},{x:f,y:p}]}})}catch(t){throw Zn(t,"Failed to execute 'detect' on 'BarcodeDetector'")}}}Kt=new WeakMap;function td(r,e,t){const n=Math.abs(r-t),a=Math.abs(e-t),c=Math.abs(r-e);return Math.max(n,a,c)}function rd(r,e,t){const n=td(r,e,t),a=100,c=180,u=180,d=[255,255,255,255],g=[220,220,220,255],o=40,f=50,p=120,P=[0,0,0,255],b=[80,80,80,255];return n<a&&r>c&&e>c&&t>c?d:n<o&&r<f&&e<f&&t<f?P:r>u&&e>u&&t>u?g:r<p&&e<p&&t<p?b:[2,2,2,0]}function nd(r){const e=r.data;for(var t=0;t<e.length;t+=4){const n=e[t],a=e[t+1],c=e[t+2],[u,d,g,o]=rd(n,a,c);e[t]=u,e[t+1]=d,e[t+2]=g,e[t+3]=o}return r}var sd=D("<canvas>"),id=D("<div>"),ad=D("<div class=lens-feedback>");const od=new ed({}),[cd,Yn]=oe(""),[ud,es]=oe(!1),[ts,ld]=oe(),[Be,dd]=oe(new DOMRect);function Fr(){ts()&&(dd(ts().getBoundingClientRect()),console.log(Be()))}const fd=({videoElement:r})=>{const e=He(),t=R(()=>(()=>{var u=sd();return we(d=>{var g=Be().width,o=Be().height;return g!==d.e&&de(u,"width",d.e=g),o!==d.t&&de(u,"height",d.t=o),d},{e:void 0,t:void 0}),u})(),Be),n=()=>t();let a;async function c(){await e.hasPermission()||window.location.reload();const u=await e.getCamera();if(!u)return;const d=u.stream.getVideoTracks()[0];(!u.stream.active||!d.enabled)&&window.location.reload();const g=d.getSettings(),o=g.width*.15,f=g.width*.7,p=g.height*.355,P=g.height*.3,b=n().getContext("2d",{willReadFrequently:!0,desynchronized:!0});b.drawImage(r,o,p,f,P,0,0,Be().width,Be().height),b.filter="brightness(1) contrast(2)";const C=b.getImageData(0,0,Be().width,Be().height);nd(C);const S=await od.detect(C);S.length?(es(!0),Yn(S[0].rawValue),console.log(S)):(es(!1),Yn(""))}return qe(async()=>{!e.hasPermission()||!await e.getCamera()||(window.addEventListener("resize",Fr),Fr(),a=setInterval(()=>requestAnimationFrame(c),200))}),St(()=>{window.removeEventListener("resize",Fr),clearInterval(a)}),[(()=>{var u=id();return Do(ld,u),x(u,t),we(()=>ps(u,ud()?"camera-lens scanning":"camera-lens")),u})(),(()=>{var u=ad();return x(u,cd),u})()]};var rs=D("<video>"),hd=D("<div class=camera-canvas><div class=video-overlay></div><div class=video-lens>");const pd=()=>{const r=He(),[e,t]=oe(),n=R(()=>e()?.stream??null,e),a=rs(),c=a,u=R(()=>(c.srcObject=n(),c.srcObject?(c.removeAttribute("src"),c.onloadedmetadata=()=>{c.play()},a):(c.src="",c.srcObject=null,c.pause(),rs())),[n]);return qe(()=>{r.hasPermission()&&r.getCamera().then(t).catch(console.error)}),(()=>{var d=hd(),g=d.firstChild,o=g.nextSibling;return x(d,u,g),x(o,j(fd,{videoElement:c})),d})()};var md=D("<p>TODO, language selector <a href=/guessify/en>English</a> / <a href=/guessify/nl>Nederlands");const gd=()=>j(Au,{get children(){return j(wl,{get children(){return j(pd,{})}})}}),ns=()=>md(),vd=()=>j(Sl,{}),wd=document.getElementById("root");jo(()=>j(ml,{get children(){return j(_u,{get children(){return j(vc,{get base(){return"/guessify/"},get children(){return[j(Vt,{path:"/spotify-auth",component:vd}),j(Vt,{path:"/:locale",component:gd}),j(Vt,{path:"/",component:ns}),j(Vt,{path:"/*",component:ns})]}})}})}}),wd);

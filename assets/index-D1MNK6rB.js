(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();const dt=(r,e)=>r===e,oe={equals:dt};let Ue=Qe;const z=1,ce=2,Ve={owned:null,cleanups:null,context:null,owner:null};var v=null;let me=null,ft=null,k=null,A=null,I=null,fe=0;function ht(r,e){const t=k,s=v,a=r.length===0,o=e===void 0?s:e,u=a?Ve:{owned:null,cleanups:null,context:o?o.context:null,owner:o},c=a?r:()=>r(()=>X(()=>Y(u)));v=u,k=null;try{return te(c,!0)}finally{k=t,v=s}}function q(r,e){e=e?Object.assign({},oe,e):oe;const t={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},s=a=>(typeof a=="function"&&(a=a(t.value)),He(t,a));return[Ge.bind(t),s]}function U(r,e,t){const s=ke(r,e,!1,z);ee(s)}function je(r,e,t){Ue=wt;const s=ke(r,e,!1,z);s.user=!0,I?I.push(s):ee(s)}function S(r,e,t){t=t?Object.assign({},oe,t):oe;const s=ke(r,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=t.equals||void 0,ee(s),Ge.bind(s)}function X(r){if(k===null)return r();const e=k;k=null;try{return r()}finally{k=e}}function he(r){je(()=>X(r))}function De(r){return v===null||(v.cleanups===null?v.cleanups=[r]:v.cleanups.push(r)),r}function ze(r,e){const t=Symbol("context");return{id:t,Provider:vt(t),defaultValue:r}}function We(r){let e;return v&&v.context&&(e=v.context[r.id])!==void 0?e:r.defaultValue}function pt(r){const e=S(r),t=S(()=>we(e()));return t.toArray=()=>{const s=t();return Array.isArray(s)?s:s!=null?[s]:[]},t}function Ge(){if(this.sources&&this.state)if(this.state===z)ee(this);else{const r=A;A=null,te(()=>le(this),!1),A=r}if(k){const r=this.observers?this.observers.length:0;k.sources?(k.sources.push(this),k.sourceSlots.push(r)):(k.sources=[this],k.sourceSlots=[r]),this.observers?(this.observers.push(k),this.observerSlots.push(k.sources.length-1)):(this.observers=[k],this.observerSlots=[k.sources.length-1])}return this.value}function He(r,e,t){let s=r.value;return(!r.comparator||!r.comparator(s,e))&&(r.value=e,r.observers&&r.observers.length&&te(()=>{for(let a=0;a<r.observers.length;a+=1){const o=r.observers[a],u=me&&me.running;u&&me.disposed.has(o),(u?!o.tState:!o.state)&&(o.pure?A.push(o):I.push(o),o.observers&&Je(o)),u||(o.state=z)}if(A.length>1e6)throw A=[],new Error},!1)),e}function ee(r){if(!r.fn)return;Y(r);const e=fe;mt(r,r.value,e)}function mt(r,e,t){let s;const a=v,o=k;k=v=r;try{s=r.fn(e)}catch(u){return r.pure&&(r.state=z,r.owned&&r.owned.forEach(Y),r.owned=null),r.updatedAt=t+1,Ke(u)}finally{k=o,v=a}(!r.updatedAt||r.updatedAt<=t)&&(r.updatedAt!=null&&"observers"in r?He(r,s):r.value=s,r.updatedAt=t)}function ke(r,e,t,s=z,a){const o={fn:r,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:v,context:v?v.context:null,pure:t};return v===null||v!==Ve&&(v.owned?v.owned.push(o):v.owned=[o]),o}function ue(r){if(r.state===0)return;if(r.state===ce)return le(r);if(r.suspense&&X(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<fe);)r.state&&e.push(r);for(let t=e.length-1;t>=0;t--)if(r=e[t],r.state===z)ee(r);else if(r.state===ce){const s=A;A=null,te(()=>le(r,e[0]),!1),A=s}}function te(r,e){if(A)return r();let t=!1;e||(A=[]),I?t=!0:I=[],fe++;try{const s=r();return gt(t),s}catch(s){t||(I=null),A=null,Ke(s)}}function gt(r){if(A&&(Qe(A),A=null),r)return;const e=I;I=null,e.length&&te(()=>Ue(e),!1)}function Qe(r){for(let e=0;e<r.length;e++)ue(r[e])}function wt(r){let e,t=0;for(e=0;e<r.length;e++){const s=r[e];s.user?r[t++]=s:ue(s)}for(e=0;e<t;e++)ue(r[e])}function le(r,e){r.state=0;for(let t=0;t<r.sources.length;t+=1){const s=r.sources[t];if(s.sources){const a=s.state;a===z?s!==e&&(!s.updatedAt||s.updatedAt<fe)&&ue(s):a===ce&&le(s,e)}}}function Je(r){for(let e=0;e<r.observers.length;e+=1){const t=r.observers[e];t.state||(t.state=ce,t.pure?A.push(t):I.push(t),t.observers&&Je(t))}}function Y(r){let e;if(r.sources)for(;r.sources.length;){const t=r.sources.pop(),s=r.sourceSlots.pop(),a=t.observers;if(a&&a.length){const o=a.pop(),u=t.observerSlots.pop();s<a.length&&(o.sourceSlots[u]=s,a[s]=o,t.observerSlots[s]=u)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)Y(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)Y(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function yt(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Ke(r,e=v){throw yt(r)}function we(r){if(typeof r=="function"&&!r.length)return we(r());if(Array.isArray(r)){const e=[];for(let t=0;t<r.length;t++){const s=we(r[t]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return r}function vt(r,e){return function(s){let a;return U(()=>a=X(()=>(v.context={...v.context,[r]:s.value},pt(()=>s.children))),void 0),a}}function C(r,e){return X(()=>r(e||{}))}function bt(r,e,t){let s=t.length,a=e.length,o=s,u=0,c=0,d=e[a-1].nextSibling,n=null;for(;u<a||c<o;){if(e[u]===t[c]){u++,c++;continue}for(;e[a-1]===t[o-1];)a--,o--;if(a===u){const i=o<s?c?t[c-1].nextSibling:t[o-c]:d;for(;c<o;)r.insertBefore(t[c++],i)}else if(o===c)for(;u<a;)(!n||!n.has(e[u]))&&e[u].remove(),u++;else if(e[u]===t[o-1]&&t[c]===e[a-1]){const i=e[--a].nextSibling;r.insertBefore(t[c++],e[u++].nextSibling),r.insertBefore(t[--o],i),e[a]=t[o]}else{if(!n){n=new Map;let l=c;for(;l<o;)n.set(t[l],l++)}const i=n.get(e[u]);if(i!=null)if(c<i&&i<o){let l=u,g=1,h;for(;++l<a&&l<o&&!((h=n.get(e[l]))==null||h!==i+g);)g++;if(g>i-c){const f=e[u];for(;c<i;)r.insertBefore(t[c++],f)}else r.replaceChild(t[c++],e[u++])}else u++;else e[u++].remove()}}}const $e="_$DX_DELEGATE";function St(r,e,t,s={}){let a;return ht(o=>{a=o,e===document?r():m(e,r(),e.firstChild?null:void 0,t)},s.owner),()=>{a(),e.textContent=""}}function b(r,e,t){let s;const a=()=>{const u=document.createElement("template");return u.innerHTML=r,u.content.firstChild},o=()=>(s||(s=a())).cloneNode(!0);return o.cloneNode=o,o}function Me(r,e=window.document){const t=e[$e]||(e[$e]=new Set);for(let s=0,a=r.length;s<a;s++){const o=r[s];t.has(o)||(t.add(o),e.addEventListener(o,kt))}}function V(r,e,t){t==null?r.removeAttribute(e):r.setAttribute(e,t)}function _t(r,e){e==null?r.removeAttribute("class"):r.className=e}function m(r,e,t,s){if(t!==void 0&&!s&&(s=[]),typeof e!="function")return de(r,e,s,t);U(a=>de(r,e(),a,t),s)}function kt(r){let e=r.target;const t=`$$${r.type}`,s=r.target,a=r.currentTarget,o=d=>Object.defineProperty(r,"target",{configurable:!0,value:d}),u=()=>{const d=e[t];if(d&&!e.disabled){const n=e[`${t}Data`];if(n!==void 0?d.call(e,n,r):d.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&o(e.host),!0},c=()=>{for(;u()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const d=r.composedPath();o(d[0]);for(let n=0;n<d.length-2&&(e=d[n],!!u());n++){if(e._$host){e=e._$host,c();break}if(e.parentNode===a)break}}else c();o(s)}function de(r,e,t,s,a){for(;typeof t=="function";)t=t();if(e===t)return t;const o=typeof e,u=s!==void 0;if(r=u&&t[0]&&t[0].parentNode||r,o==="string"||o==="number"){if(o==="number"&&(e=e.toString(),e===t))return t;if(u){let c=t[0];c&&c.nodeType===3?c.data!==e&&(c.data=e):c=document.createTextNode(e),t=W(r,t,s,c)}else t!==""&&typeof t=="string"?t=r.firstChild.data=e:t=r.textContent=e}else if(e==null||o==="boolean")t=W(r,t,s);else{if(o==="function")return U(()=>{let c=e();for(;typeof c=="function";)c=c();t=de(r,c,t,s)}),()=>t;if(Array.isArray(e)){const c=[],d=t&&Array.isArray(t);if(ye(c,e,t,a))return U(()=>t=de(r,c,t,s,!0)),()=>t;if(c.length===0){if(t=W(r,t,s),u)return t}else d?t.length===0?xe(r,c,s):bt(r,t,c):(t&&W(r),xe(r,c));t=c}else if(e.nodeType){if(Array.isArray(t)){if(u)return t=W(r,t,s,e);W(r,t,null,e)}else t==null||t===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);t=e}}return t}function ye(r,e,t,s){let a=!1;for(let o=0,u=e.length;o<u;o++){let c=e[o],d=t&&t[r.length],n;if(!(c==null||c===!0||c===!1))if((n=typeof c)=="object"&&c.nodeType)r.push(c);else if(Array.isArray(c))a=ye(r,c,d)||a;else if(n==="function")if(s){for(;typeof c=="function";)c=c();a=ye(r,Array.isArray(c)?c:[c],Array.isArray(d)?d:[d])||a}else r.push(c),a=!0;else{const i=String(c);d&&d.nodeType===3&&d.data===i?r.push(d):r.push(document.createTextNode(i))}}return a}function xe(r,e,t=null){for(let s=0,a=e.length;s<a;s++)r.insertBefore(e[s],t)}function W(r,e,t,s){if(t===void 0)return r.textContent="";const a=s||document.createTextNode("");if(e.length){let o=!1;for(let u=e.length-1;u>=0;u--){const c=e[u];if(a!==c){const d=c.parentNode===r;!o&&!u?d?r.replaceChild(a,c):r.insertBefore(a,t):d&&c.remove()}else o=!0}}else r.insertBefore(a,t);return[a]}var ge={},ne={},ie={exports:{}},Mt=ie.exports,Re;function Pt(){return Re||(Re=1,function(r,e){(function(t,s){r.exports=s()})(Mt,function(){return function(t){var s={};function a(o){if(s[o])return s[o].exports;var u=s[o]={i:o,l:!1,exports:{}};return t[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=t,a.c=s,a.d=function(o,u,c){a.o(o,u)||Object.defineProperty(o,u,{enumerable:!0,get:c})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,u){if(1&u&&(o=a(o)),8&u||4&u&&typeof o=="object"&&o&&o.__esModule)return o;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:o}),2&u&&typeof o!="string")for(var d in o)a.d(c,d,function(n){return o[n]}.bind(null,d));return c},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s=90)}({17:function(t,s,a){s.__esModule=!0,s.default=void 0;var o=a(18),u=function(){function c(){}return c.getFirstMatch=function(d,n){var i=n.match(d);return i&&i.length>0&&i[1]||""},c.getSecondMatch=function(d,n){var i=n.match(d);return i&&i.length>1&&i[2]||""},c.matchAndReturnConst=function(d,n,i){if(d.test(n))return i},c.getWindowsVersionName=function(d){switch(d){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},c.getMacOSVersionName=function(d){var n=d.split(".").splice(0,2).map(function(i){return parseInt(i,10)||0});if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},c.getAndroidVersionName=function(d){var n=d.split(".").splice(0,2).map(function(i){return parseInt(i,10)||0});if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0},c.getVersionPrecision=function(d){return d.split(".").length},c.compareVersions=function(d,n,i){i===void 0&&(i=!1);var l=c.getVersionPrecision(d),g=c.getVersionPrecision(n),h=Math.max(l,g),f=0,p=c.map([d,n],function(w){var y=h-c.getVersionPrecision(w),M=w+new Array(y+1).join(".0");return c.map(M.split("."),function($){return new Array(20-$.length).join("0")+$}).reverse()});for(i&&(f=h-Math.min(l,g)),h-=1;h>=f;){if(p[0][h]>p[1][h])return 1;if(p[0][h]===p[1][h]){if(h===f)return 0;h-=1}else if(p[0][h]<p[1][h])return-1}},c.map=function(d,n){var i,l=[];if(Array.prototype.map)return Array.prototype.map.call(d,n);for(i=0;i<d.length;i+=1)l.push(n(d[i]));return l},c.find=function(d,n){var i,l;if(Array.prototype.find)return Array.prototype.find.call(d,n);for(i=0,l=d.length;i<l;i+=1){var g=d[i];if(n(g,i))return g}},c.assign=function(d){for(var n,i,l=d,g=arguments.length,h=new Array(g>1?g-1:0),f=1;f<g;f++)h[f-1]=arguments[f];if(Object.assign)return Object.assign.apply(Object,[d].concat(h));var p=function(){var w=h[n];typeof w=="object"&&w!==null&&Object.keys(w).forEach(function(y){l[y]=w[y]})};for(n=0,i=h.length;n<i;n+=1)p();return d},c.getBrowserAlias=function(d){return o.BROWSER_ALIASES_MAP[d]},c.getBrowserTypeByAlias=function(d){return o.BROWSER_MAP[d]||""},c}();s.default=u,t.exports=s.default},18:function(t,s,a){s.__esModule=!0,s.ENGINE_MAP=s.OS_MAP=s.PLATFORMS_MAP=s.BROWSER_MAP=s.BROWSER_ALIASES_MAP=void 0,s.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},s.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},s.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},s.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},s.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,s,a){s.__esModule=!0,s.default=void 0;var o,u=(o=a(91))&&o.__esModule?o:{default:o},c=a(18);function d(i,l){for(var g=0;g<l.length;g++){var h=l[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}var n=function(){function i(){}var l,g,h;return i.getParser=function(f,p){if(p===void 0&&(p=!1),typeof f!="string")throw new Error("UserAgent should be a string");return new u.default(f,p)},i.parse=function(f){return new u.default(f).getResult()},l=i,h=[{key:"BROWSER_MAP",get:function(){return c.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return c.ENGINE_MAP}},{key:"OS_MAP",get:function(){return c.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return c.PLATFORMS_MAP}}],(g=null)&&d(l.prototype,g),h&&d(l,h),i}();s.default=n,t.exports=s.default},91:function(t,s,a){s.__esModule=!0,s.default=void 0;var o=i(a(92)),u=i(a(93)),c=i(a(94)),d=i(a(95)),n=i(a(17));function i(g){return g&&g.__esModule?g:{default:g}}var l=function(){function g(f,p){if(p===void 0&&(p=!1),f==null||f==="")throw new Error("UserAgent parameter can't be empty");this._ua=f,this.parsedResult={},p!==!0&&this.parse()}var h=g.prototype;return h.getUA=function(){return this._ua},h.test=function(f){return f.test(this._ua)},h.parseBrowser=function(){var f=this;this.parsedResult.browser={};var p=n.default.find(o.default,function(w){if(typeof w.test=="function")return w.test(f);if(w.test instanceof Array)return w.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.browser=p.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(f){return f?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var f=this;this.parsedResult.os={};var p=n.default.find(u.default,function(w){if(typeof w.test=="function")return w.test(f);if(w.test instanceof Array)return w.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.os=p.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(f){var p=this.getOS().name;return f?String(p).toLowerCase()||"":p||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(f){f===void 0&&(f=!1);var p=this.getPlatform().type;return f?String(p).toLowerCase()||"":p||""},h.parsePlatform=function(){var f=this;this.parsedResult.platform={};var p=n.default.find(c.default,function(w){if(typeof w.test=="function")return w.test(f);if(w.test instanceof Array)return w.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.platform=p.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(f){return f?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var f=this;this.parsedResult.engine={};var p=n.default.find(d.default,function(w){if(typeof w.test=="function")return w.test(f);if(w.test instanceof Array)return w.test.some(function(y){return f.test(y)});throw new Error("Browser's test function is not valid")});return p&&(this.parsedResult.engine=p.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return n.default.assign({},this.parsedResult)},h.satisfies=function(f){var p=this,w={},y=0,M={},$=0;if(Object.keys(f).forEach(function(L){var re=f[L];typeof re=="string"?(M[L]=re,$+=1):typeof re=="object"&&(w[L]=re,y+=1)}),y>0){var j=Object.keys(w),P=n.default.find(j,function(L){return p.isOS(L)});if(P){var x=this.satisfies(w[P]);if(x!==void 0)return x}var T=n.default.find(j,function(L){return p.isPlatform(L)});if(T){var N=this.satisfies(w[T]);if(N!==void 0)return N}}if($>0){var B=Object.keys(M),Ce=n.default.find(B,function(L){return p.isBrowser(L,!0)});if(Ce!==void 0)return this.compareVersion(M[Ce])}},h.isBrowser=function(f,p){p===void 0&&(p=!1);var w=this.getBrowserName().toLowerCase(),y=f.toLowerCase(),M=n.default.getBrowserTypeByAlias(y);return p&&M&&(y=M.toLowerCase()),y===w},h.compareVersion=function(f){var p=[0],w=f,y=!1,M=this.getBrowserVersion();if(typeof M=="string")return f[0]===">"||f[0]==="<"?(w=f.substr(1),f[1]==="="?(y=!0,w=f.substr(2)):p=[],f[0]===">"?p.push(1):p.push(-1)):f[0]==="="?w=f.substr(1):f[0]==="~"&&(y=!0,w=f.substr(1)),p.indexOf(n.default.compareVersions(M,w,y))>-1},h.isOS=function(f){return this.getOSName(!0)===String(f).toLowerCase()},h.isPlatform=function(f){return this.getPlatformType(!0)===String(f).toLowerCase()},h.isEngine=function(f){return this.getEngineName(!0)===String(f).toLowerCase()},h.is=function(f,p){return p===void 0&&(p=!1),this.isBrowser(f,p)||this.isOS(f)||this.isPlatform(f)},h.some=function(f){var p=this;return f===void 0&&(f=[]),f.some(function(w){return p.is(w)})},g}();s.default=l,t.exports=s.default},92:function(t,s,a){s.__esModule=!0,s.default=void 0;var o,u=(o=a(17))&&o.__esModule?o:{default:o},c=/version\/(\d+(\.?_?\d+)+)/i,d=[{test:[/googlebot/i],describe:function(n){var i={name:"Googlebot"},l=u.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/opera/i],describe:function(n){var i={name:"Opera"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/opr\/|opios/i],describe:function(n){var i={name:"Opera"},l=u.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/SamsungBrowser/i],describe:function(n){var i={name:"Samsung Internet for Android"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/Whale/i],describe:function(n){var i={name:"NAVER Whale Browser"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/MZBrowser/i],describe:function(n){var i={name:"MZ Browser"},l=u.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/focus/i],describe:function(n){var i={name:"Focus"},l=u.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/swing/i],describe:function(n){var i={name:"Swing"},l=u.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/coast/i],describe:function(n){var i={name:"Opera Coast"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(n){var i={name:"Opera Touch"},l=u.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/yabrowser/i],describe:function(n){var i={name:"Yandex Browser"},l=u.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/ucbrowser/i],describe:function(n){var i={name:"UC Browser"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/Maxthon|mxios/i],describe:function(n){var i={name:"Maxthon"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/epiphany/i],describe:function(n){var i={name:"Epiphany"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/puffin/i],describe:function(n){var i={name:"Puffin"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/sleipnir/i],describe:function(n){var i={name:"Sleipnir"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/k-meleon/i],describe:function(n){var i={name:"K-Meleon"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/micromessenger/i],describe:function(n){var i={name:"WeChat"},l=u.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/qqbrowser/i],describe:function(n){var i={name:/qqbrowserlite/i.test(n)?"QQ Browser Lite":"QQ Browser"},l=u.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/msie|trident/i],describe:function(n){var i={name:"Internet Explorer"},l=u.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/\sedg\//i],describe:function(n){var i={name:"Microsoft Edge"},l=u.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/edg([ea]|ios)/i],describe:function(n){var i={name:"Microsoft Edge"},l=u.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/vivaldi/i],describe:function(n){var i={name:"Vivaldi"},l=u.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/seamonkey/i],describe:function(n){var i={name:"SeaMonkey"},l=u.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/sailfish/i],describe:function(n){var i={name:"Sailfish"},l=u.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,n);return l&&(i.version=l),i}},{test:[/silk/i],describe:function(n){var i={name:"Amazon Silk"},l=u.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/phantom/i],describe:function(n){var i={name:"PhantomJS"},l=u.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/slimerjs/i],describe:function(n){var i={name:"SlimerJS"},l=u.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(n){var i={name:"BlackBerry"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/(web|hpw)[o0]s/i],describe:function(n){var i={name:"WebOS Browser"},l=u.default.getFirstMatch(c,n)||u.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/bada/i],describe:function(n){var i={name:"Bada"},l=u.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/tizen/i],describe:function(n){var i={name:"Tizen"},l=u.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/qupzilla/i],describe:function(n){var i={name:"QupZilla"},l=u.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/firefox|iceweasel|fxios/i],describe:function(n){var i={name:"Firefox"},l=u.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/electron/i],describe:function(n){var i={name:"Electron"},l=u.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/MiuiBrowser/i],describe:function(n){var i={name:"Miui"},l=u.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/chromium/i],describe:function(n){var i={name:"Chromium"},l=u.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,n)||u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/chrome|crios|crmo/i],describe:function(n){var i={name:"Chrome"},l=u.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/GSA/i],describe:function(n){var i={name:"Google Search"},l=u.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:function(n){var i=!n.test(/like android/i),l=n.test(/android/i);return i&&l},describe:function(n){var i={name:"Android Browser"},l=u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/playstation 4/i],describe:function(n){var i={name:"PlayStation 4"},l=u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/safari|applewebkit/i],describe:function(n){var i={name:"Safari"},l=u.default.getFirstMatch(c,n);return l&&(i.version=l),i}},{test:[/.*/i],describe:function(n){var i=n.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:u.default.getFirstMatch(i,n),version:u.default.getSecondMatch(i,n)}}}];s.default=d,t.exports=s.default},93:function(t,s,a){s.__esModule=!0,s.default=void 0;var o,u=(o=a(17))&&o.__esModule?o:{default:o},c=a(18),d=[{test:[/Roku\/DVP/],describe:function(n){var i=u.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,n);return{name:c.OS_MAP.Roku,version:i}}},{test:[/windows phone/i],describe:function(n){var i=u.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,n);return{name:c.OS_MAP.WindowsPhone,version:i}}},{test:[/windows /i],describe:function(n){var i=u.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,n),l=u.default.getWindowsVersionName(i);return{name:c.OS_MAP.Windows,version:i,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(n){var i={name:c.OS_MAP.iOS},l=u.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,n);return l&&(i.version=l),i}},{test:[/macintosh/i],describe:function(n){var i=u.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,n).replace(/[_\s]/g,"."),l=u.default.getMacOSVersionName(i),g={name:c.OS_MAP.MacOS,version:i};return l&&(g.versionName=l),g}},{test:[/(ipod|iphone|ipad)/i],describe:function(n){var i=u.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,n).replace(/[_\s]/g,".");return{name:c.OS_MAP.iOS,version:i}}},{test:function(n){var i=!n.test(/like android/i),l=n.test(/android/i);return i&&l},describe:function(n){var i=u.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,n),l=u.default.getAndroidVersionName(i),g={name:c.OS_MAP.Android,version:i};return l&&(g.versionName=l),g}},{test:[/(web|hpw)[o0]s/i],describe:function(n){var i=u.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,n),l={name:c.OS_MAP.WebOS};return i&&i.length&&(l.version=i),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(n){var i=u.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,n)||u.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,n)||u.default.getFirstMatch(/\bbb(\d+)/i,n);return{name:c.OS_MAP.BlackBerry,version:i}}},{test:[/bada/i],describe:function(n){var i=u.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,n);return{name:c.OS_MAP.Bada,version:i}}},{test:[/tizen/i],describe:function(n){var i=u.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,n);return{name:c.OS_MAP.Tizen,version:i}}},{test:[/linux/i],describe:function(){return{name:c.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:c.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(n){var i=u.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,n);return{name:c.OS_MAP.PlayStation4,version:i}}}];s.default=d,t.exports=s.default},94:function(t,s,a){s.__esModule=!0,s.default=void 0;var o,u=(o=a(17))&&o.__esModule?o:{default:o},c=a(18),d=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(n){var i=u.default.getFirstMatch(/(can-l01)/i,n)&&"Nova",l={type:c.PLATFORMS_MAP.mobile,vendor:"Huawei"};return i&&(l.model=i),l}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(n){var i=n.test(/ipod|iphone/i),l=n.test(/like (ipod|iphone)/i);return i&&!l},describe:function(n){var i=u.default.getFirstMatch(/(ipod|iphone)/i,n);return{type:c.PLATFORMS_MAP.mobile,vendor:"Apple",model:i}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(n){return n.getBrowserName(!0)==="blackberry"},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(n){return n.getBrowserName(!0)==="bada"},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(n){return n.getBrowserName()==="windows phone"},describe:function(){return{type:c.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(n){var i=Number(String(n.getOSVersion()).split(".")[0]);return n.getOSName(!0)==="android"&&i>=3},describe:function(){return{type:c.PLATFORMS_MAP.tablet}}},{test:function(n){return n.getOSName(!0)==="android"},describe:function(){return{type:c.PLATFORMS_MAP.mobile}}},{test:function(n){return n.getOSName(!0)==="macos"},describe:function(){return{type:c.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(n){return n.getOSName(!0)==="windows"},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(n){return n.getOSName(!0)==="linux"},describe:function(){return{type:c.PLATFORMS_MAP.desktop}}},{test:function(n){return n.getOSName(!0)==="playstation 4"},describe:function(){return{type:c.PLATFORMS_MAP.tv}}},{test:function(n){return n.getOSName(!0)==="roku"},describe:function(){return{type:c.PLATFORMS_MAP.tv}}}];s.default=d,t.exports=s.default},95:function(t,s,a){s.__esModule=!0,s.default=void 0;var o,u=(o=a(17))&&o.__esModule?o:{default:o},c=a(18),d=[{test:function(n){return n.getBrowserName(!0)==="microsoft edge"},describe:function(n){if(/\sedg\//i.test(n))return{name:c.ENGINE_MAP.Blink};var i=u.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,n);return{name:c.ENGINE_MAP.EdgeHTML,version:i}}},{test:[/trident/i],describe:function(n){var i={name:c.ENGINE_MAP.Trident},l=u.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:function(n){return n.test(/presto/i)},describe:function(n){var i={name:c.ENGINE_MAP.Presto},l=u.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:function(n){var i=n.test(/gecko/i),l=n.test(/like gecko/i);return i&&!l},describe:function(n){var i={name:c.ENGINE_MAP.Gecko},l=u.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:c.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(n){var i={name:c.ENGINE_MAP.WebKit},l=u.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,n);return l&&(i.version=l),i}}];s.default=d,t.exports=s.default}})})}(ie)),ie.exports}var Ee;function At(){return Ee||(Ee=1,function(r){var e=ne.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(r,"__esModule",{value:!0}),r.requestVideoPermissions=r.requestAudioPermissions=r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;const t=e(Pt());var s;(function(c){c.SystemPermissionDenied="SystemPermissionDenied",c.UserPermissionDenied="UserPermissionDenied",c.CouldNotStartVideoSource="CouldNotStartVideoSource",c.Generic="Generic"})(s=r.MediaPermissionsErrorType||(r.MediaPermissionsErrorType={}));const a=c=>new Promise((d,n)=>{navigator.mediaDevices.getUserMedia(c??{audio:!0,video:!0}).then(i=>{i.getTracks().forEach(l=>{l.stop()}),d(!0)}).catch(i=>{const g=t.default.getParser(window.navigator.userAgent).getBrowserName(),h=i.name,f=i.message;let p=s.Generic;g==="Chrome"?h==="NotAllowedError"?f==="Permission denied by system"?p=s.SystemPermissionDenied:f==="Permission denied"&&(p=s.UserPermissionDenied):h==="NotReadableError"&&(p=s.CouldNotStartVideoSource):g==="Safari"?h==="NotAllowedError"&&(p=s.UserPermissionDenied):g==="Microsoft Edge"?h==="NotAllowedError"?p=s.UserPermissionDenied:h==="NotReadableError"&&(p=s.CouldNotStartVideoSource):g==="Firefox"&&(h==="NotFoundError"||h==="NotReadableError"?p=s.SystemPermissionDenied:h==="NotAllowedError"?p=s.UserPermissionDenied:h==="AbortError"&&(p=s.CouldNotStartVideoSource)),n({type:p,name:i.name,message:i.message})})});r.requestMediaPermissions=a;const o=()=>(0,r.requestMediaPermissions)({audio:!0,video:!1});r.requestAudioPermissions=o;const u=()=>(0,r.requestMediaPermissions)({audio:!1,video:!0});r.requestVideoPermissions=u}(ne)),ne}var Fe;function Ct(){return Fe||(Fe=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.requestMediaPermissions=r.MediaPermissionsErrorType=void 0;var e=At();Object.defineProperty(r,"MediaPermissionsErrorType",{enumerable:!0,get:function(){return e.MediaPermissionsErrorType}}),Object.defineProperty(r,"requestMediaPermissions",{enumerable:!0,get:function(){return e.requestMediaPermissions}})}(ge)),ge}var H=Ct(),$t=(r,e)=>{if(e)for(const[t,s]of Object.entries(e))r=r.replace(new RegExp(`{{\\s*${t}\\s*}}`,"g"),s);return r},xt=b("<br>");const Rt={common:{close:"Close"},spotify:{title:"Spotify",explainer:[["Please connect to Spotify. ",xt(),"We need you to log into Spotify to be able to play music in the browser."],"For Spotify to allow this app to play music, your account needs to be a premium subscription."],signingIn:"Signing in...",signIn:"Sign in to Spotify",signOut:"Sign out",errors:{access_denied:"Access denied, please try again!",unknown:"Something went wrong, please try again!"},stats:{country:"Country",followers:"Followers",premium:"Premium"},details:{hasPremium:"Spotify premium user.",noPremium:"User doesn't have premium account!"}},camera:{title:"Camera",openingCam:"Connecting...",explainer:["To be able to scan the codes, we need access to your device's camera.","Please, give your browser permission to access the camera."],noSupport:["Your device likely doesn't have a camera, or your system doesn't allow your browser to access the camera.","Sadly, you cannot use the app."],noPermission:["Your browser doesn't have the correct permissions, possibly you denied the use of the camera.","To use this application, you need to "],selectedCamera:'You selected "{{label}}" to scan the codes.',switchBanner:"When using the app, you can change the camera at any time.",requestPermission:"Request permission",requestingPermission:"Requesting permission...",permissions:{title:"Reset browser permissions",permissionLink:"reset your browser permissions",deviceDetails:"Device details",explainer:"We couldn't find a page for your browser, please look in your settings to reset the browser permissions.",cta:["If you like, you can ","file a request"," to add your browser to our instructions."]}}};var Et=b("<br>");const Ft={common:{close:"Sluiten"},spotify:{title:"Spotify",explainer:[["Wilt u a.u.b met Spotify verbinden? ",Et(),"U moet ingelogd zijn bij Spotify om muziek in de browser te kunnen spelen."],"Spotify vereist een premuim account voor muziek in de browser."],signingIn:"Inloggen...",signIn:"Log in bij Spotify",signOut:"Uitloggen",errors:{access_denied:"Toegang geweigerd, probeer opnieuw!",unknown:"Er ging iets mis, probeer opnieuw!"},stats:{country:"Land",followers:"Volgers",premium:"Premium"},details:{hasPremium:"Spotify premium gebruiker.",noPremium:"Gebruiker heeft geen premium account!"}},camera:{title:"Video camera",openingCam:"Verbinden...",explainer:["Om de codes te kunnen scannen hebben wij toegang nodig tot uw camera.","Verleen uw browser a.u.b. toegang tot de camera."],noSupport:["Uw apparaat heeft mogelijk geen camera, of uw besturingssysteem staat het gebruik hiervan niet toe.","Helaas kunt u deze applicatie niet gebruiken."],noPermission:["Uw browser geeft geen toestemming tot het gebruik van de camera. Mogelijk heeft u de toestemming geweigerd.","Om gebruik te kunnen maken van de camera moet u "],selectedCamera:'U heeft "{{label}}" geselecteerd voor het scannen.',switchBanner:"U kunt dit later altijd nog veranderen.",requestPermission:"Vraag toestemming",requestingPermission:"Toestemming vragen...",permissions:{title:"Browser toestemming herstellen",deviceDetails:"Apparaat details",permissionLink:"uw browser toestemming herstellen",explainer:"Wij konden geen uitleg vinden voor jouw browser, probeer a.u.b. in uw instellingen te zoeken hoe u de camera toestemming kunt herstellen.",cta:["Wilt u a.u.b. ook ","een verzoek indienen"," om uw eigen browser toe te voegen aan onze instructies?"]}}},Tt={en:Rt,nl:Ft},[Te]=q("nl"),O=()=>{const r=S(()=>Tt[Te()]);return{locale:Te,dictionary:r(),template:$t}};function Ye(r){return{...Oe,video:{...Oe.video,deviceId:{exact:r}}}}const Oe={audio:!1,video:{facingMode:{ideal:"environment"},frameRate:{ideal:60,min:30},sampleRate:{ideal:60,min:30}}},[Ze,Ot]=q([]);async function Xe(){const r=await navigator.mediaDevices?.enumerateDevices();Ot(r.filter(e=>e.kind==="videoinput"))}function qt(){if(!("mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices)){E("error:nosupport");return}navigator.permissions.query({name:"camera"}).then(e=>{e.state==="granted"&&E("granted"),e.state==="denied"&&E("denied")}).catch(e=>{console.error(e)}).finally(async()=>{navigator.mediaDevices?.enumerateDevices&&Ze().length===0&&await Xe()})}const[R,E]=q("unknown");qt();const[et,tt]=q();async function st(){const r=et();if(!r)return;const e=await navigator.mediaDevices.getUserMedia({video:{deviceId:r}});if(e.active){e.getTracks().forEach(t=>{t.readyState!=="ended"&&(t.stop(),t.enabled=!1)});try{e.stop&&e.stop()}catch{}tt(void 0)}}const ve=ze({permission:R,hasPermission:()=>R()==="granted",canPrompt:()=>R()==="unknown"||R()==="error:inuse",hasMediaSupport:()=>R()!=="error:nosupport",getCamera:Nt,stopCameraStream:st,requestPermission:Bt,devices:Ze}),se=()=>We(ve);async function Bt(){E("pending");const r=localStorage.getItem("camera")??void 0;return await H.requestMediaPermissions(Ye(r)).then(async()=>(navigator.mediaDevices?.enumerateDevices&&await Xe(),E("granted"))).catch(e=>{const{type:t,message:s}=e;return t===H.MediaPermissionsErrorType.SystemPermissionDenied?E("denied:system"):t===H.MediaPermissionsErrorType.UserPermissionDenied?E("denied"):t===H.MediaPermissionsErrorType.CouldNotStartVideoSource?E("error:inuse"):t===H.MediaPermissionsErrorType.Generic&&s==="Permission dismissed"?E("unknown"):(console.error(e),E("error"))})}async function Nt(r){if(R()!=="granted")throw new Error("Call 'requestPermission' before 'getStream'");const e=localStorage.getItem("camera"),t=r??e??void 0;et()!==t&&await st();const s=await navigator.mediaDevices.getUserMedia(Ye(t)).catch(o=>{if(o.name!=="NotReadableError")throw o;return new MediaStream});if(!s.active){localStorage.setItem("camera",t),window.location.reload();const{dictionary:o}=O();return{id:t,label:"?",name:o.camera.openingCam,stream:s}}const a=s.getTracks()[0].getSettings().deviceId;return tt(a),localStorage.setItem("camera",a),{id:a,name:s.getTracks()[0].label,label:s.getTracks()[0].label.split("(")[0].trim(),stream:s}}const Lt=()=>{const r=e=>t=>{e.state==="granted"&&E("granted"),e.state==="denied"&&E("denied"),e.state==="prompt"&&E("unknown")};return he(()=>{navigator.permissions.query({name:"camera"}).then(e=>{const t=r(e);e.addEventListener("change",t),De(()=>{e.removeEventListener("change",t)})}).catch(()=>{})}),C(ve.Provider,{get value(){return{...ve.defaultValue,hasPermission:S(()=>R()==="granted",R),canPrompt:S(()=>R()==="unknown"||R()==="error:inuse",R),hasMediaSupport:S(()=>R()!=="error:nosupport",R)}},get children(){return[]}})};class _{api;constructor(e){this.api=e}async getRequest(e){return await this.api.makeRequest("GET",e)}async postRequest(e,t,s=void 0){return await this.api.makeRequest("POST",e,t,s)}async putRequest(e,t,s=void 0){return await this.api.makeRequest("PUT",e,t,s)}async deleteRequest(e,t){return await this.api.makeRequest("DELETE",e,t)}paramsFor(e){const t=new URLSearchParams;for(let s of Object.getOwnPropertyNames(e))(e[s]||e[s]===0||!e[s]&&typeof e[s]=="boolean")&&t.append(s,e[s].toString());return[...t].length>0?`?${t.toString()}`:""}}class It extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return await this.getRequest(`albums/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`albums${s}`)).albums}tracks(e,t,s,a){const o=this.paramsFor({market:t,limit:s,offset:a});return this.getRequest(`albums/${e}/tracks${o}`)}}class Ut extends _{async get(e){if(typeof e=="string")return this.getRequest(`artists/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`artists${t}`)).artists}albums(e,t,s,a,o){const u=this.paramsFor({include_groups:t,market:s,limit:a,offset:o});return this.getRequest(`artists/${e}/albums${u}`)}topTracks(e,t){const s=this.paramsFor({market:t});return this.getRequest(`artists/${e}/top-tracks${s}`)}relatedArtists(e){return this.getRequest(`artists/${e}/related-artists`)}}class Vt extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return this.getRequest(`audiobooks/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`audiobooks${s}`)).audiobooks}getAudiobookChapters(e,t,s,a){const o=this.paramsFor({market:t,limit:s,offset:a});return this.getRequest(`audiobooks/${e}/chapters${o}`)}}class jt extends _{getCategories(e,t,s,a){const o=this.paramsFor({country:e,locale:t,limit:s,offset:a});return this.getRequest(`browse/categories${o}`)}getCategory(e,t,s){const a=this.paramsFor({country:t,locale:s});return this.getRequest(`browse/categories/${e}${a}`)}getNewReleases(e,t,s){const a=this.paramsFor({country:e,limit:t,offset:s});return this.getRequest(`browse/new-releases${a}`)}getFeaturedPlaylists(e,t,s,a,o){const u=this.paramsFor({country:e,locale:t,timestamp:s,limit:a,offset:o});return this.getRequest(`browse/featured-playlists${u}`)}getPlaylistsForCategory(e,t,s,a){const o=this.paramsFor({country:t,limit:s,offset:a});return this.getRequest(`browse/categories/${e}/playlists${o}`)}}class Dt extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return this.getRequest(`chapters/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`chapters${s}`)).chapters}}class zt extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return this.getRequest(`episodes/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`episodes${s}`)).episodes}}class Wt extends _{get(e){const t=this.paramsFor(e);return this.getRequest(`recommendations${t}`)}genreSeeds(){return this.getRequest("recommendations/available-genre-seeds")}}class Gt extends _{getAvailableMarkets(){return this.getRequest("markets")}}class Ht extends _{getPlaybackState(e,t){const s=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player${s}`)}getAvailableDevices(){return this.getRequest("me/player/devices")}getCurrentlyPlayingTrack(e,t){const s=this.paramsFor({market:e,additional_types:t});return this.getRequest(`me/player/currently-playing${s}`)}getRecentlyPlayedTracks(e,t){const s={limit:e};t&&(t.type==="before"?s.before=t.timestamp:t.type==="after"&&(s.after=t.timestamp));const a=this.paramsFor(s);return this.getRequest(`me/player/recently-played${a}`)}getUsersQueue(){return this.getRequest("me/player/queue")}async transferPlayback(e,t){if(e.length>1)throw new Error("Although an array is accepted, only a single device_id is currently supported. Supplying more than one will return 400 Bad Request");await this.putRequest("me/player",{device_ids:e,play:t})}async startResumePlayback(e,t,s,a,o){const u=this.paramsFor({device_id:e});await this.putRequest(`me/player/play${u}`,{context_uri:t,uris:s,offset:a,positionMs:o})}async pausePlayback(e){const t=this.paramsFor({device_id:e});await this.putRequest(`me/player/pause${t}`)}async skipToNext(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/next${t}`)}async skipToPrevious(e){const t=this.paramsFor({device_id:e});await this.postRequest(`me/player/previous${t}`)}async seekToPosition(e,t){const s=this.paramsFor({position_ms:e,device_id:t});await this.putRequest(`me/player/seek${s}`)}async setRepeatMode(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/repeat${s}`)}async setPlaybackVolume(e,t){const s=this.paramsFor({volume_percent:e,device_id:t});await this.putRequest(`me/player/volume${s}`)}async togglePlaybackShuffle(e,t){const s=this.paramsFor({state:e,device_id:t});await this.putRequest(`me/player/shuffle${s}`)}async addItemToPlaybackQueue(e,t){const s=this.paramsFor({uri:e,device_id:t});await this.postRequest(`me/player/queue${s}`)}}class Qt extends _{getPlaylist(e,t,s,a){const o=this.paramsFor({market:t,fields:s,additional_types:a?.join(",")});return this.getRequest(`playlists/${e}${o}`)}getPlaylistItems(e,t,s,a,o,u){const c=this.paramsFor({market:t,fields:s,limit:a,offset:o,additional_types:u?.join(",")});return this.getRequest(`playlists/${e}/tracks${c}`)}async changePlaylistDetails(e,t){await this.putRequest(`playlists/${e}`,t)}movePlaylistItems(e,t,s,a){return this.updatePlaylistItems(e,{range_start:t,range_length:s,insert_before:a})}updatePlaylistItems(e,t){return this.putRequest(`playlists/${e}/tracks`,t)}async addItemsToPlaylist(e,t,s){await this.postRequest(`playlists/${e}/tracks`,{position:s,uris:t})}async removeItemsFromPlaylist(e,t){await this.deleteRequest(`playlists/${e}/tracks`,t)}getUsersPlaylists(e,t,s){const a=this.paramsFor({limit:t,offset:s});return this.getRequest(`users/${e}/playlists${a}`)}createPlaylist(e,t){return this.postRequest(`users/${e}/playlists`,t)}getPlaylistCoverImage(e){return this.getRequest(`playlists/${e}/images`)}async addCustomPlaylistCoverImage(e,t){let s="";if(t instanceof Buffer)s=t.toString("base64");else if(t instanceof HTMLCanvasElement)s=t.toDataURL("image/jpeg").split(";base64,")[1];else if(t instanceof HTMLImageElement){const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const o=a.getContext("2d");if(!o)throw new Error("Could not get canvas context");o.drawImage(t,0,0),s=a.toDataURL("image/jpeg").split(";base64,")[1]}else if(typeof t=="string")s=t;else throw new Error("ImageData must be a Buffer, HTMLImageElement, HTMLCanvasElement, or string containing a base64 encoded jpeg");await this.addCustomPlaylistCoverImageFromBase64String(e,s)}async addCustomPlaylistCoverImageFromBase64String(e,t){await this.putRequest(`playlists/${e}/images`,t,"image/jpeg")}}class Jt extends _{async execute(e,t,s,a,o,u){const c=this.paramsFor({q:e,type:t,market:s,limit:a,offset:o,include_external:u});return await this.getRequest(`search${c}`)}}class Kt extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return this.getRequest(`shows/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`shows${s}`)).shows}episodes(e,t,s,a){const o=this.paramsFor({market:t,limit:s,offset:a});return this.getRequest(`shows/${e}/episodes${o}`)}}class Yt extends _{async get(e,t){if(typeof e=="string"){const o=this.paramsFor({market:t});return this.getRequest(`tracks/${e}${o}`)}const s=this.paramsFor({ids:e,market:t});return(await this.getRequest(`tracks${s}`)).tracks}async audioFeatures(e){if(typeof e=="string")return this.getRequest(`audio-features/${e}`);const t=this.paramsFor({ids:e});return(await this.getRequest(`audio-features${t}`)).audio_features}audioAnalysis(e){return this.getRequest(`audio-analysis/${e}`)}}const Pe={access_token:"emptyAccessToken",token_type:"",expires_in:0,refresh_token:"",expires:-1};function Q(r){return r===Pe}class Zt extends _{profile(e){return this.getRequest(`users/${e}`)}}class Xt extends _{albums;audiobooks;episodes;playlists;shows;tracks;constructor(e){super(e),this.albums=new es(e),this.audiobooks=new ts(e),this.episodes=new ss(e),this.playlists=new rs(e),this.shows=new ns(e),this.tracks=new is(e)}profile(){return this.getRequest("me")}topItems(e,t,s,a){const o=this.paramsFor({time_range:t,limit:s,offset:a});return this.getRequest(`me/top/${e}${o}`)}followedArtists(e,t){const s=this.paramsFor({type:"artist",after:e,limit:t});return this.getRequest(`me/following${s}`)}async followArtistsOrUsers(e,t){const s=this.paramsFor({type:t});await this.putRequest(`me/following${s}`,{ids:e})}async unfollowArtistsOrUsers(e,t){const s=this.paramsFor({type:t});await this.deleteRequest(`me/following${s}`,{ids:e})}followsArtistsOrUsers(e,t){const s=this.paramsFor({ids:e,type:t});return this.getRequest(`me/following/contains${s}`)}}class es extends _{savedAlbums(e,t,s){const a=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/albums${a}`)}async saveAlbums(e){await this.putRequest("me/albums",e)}async removeSavedAlbums(e){await this.deleteRequest("me/albums",e)}hasSavedAlbums(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/albums/contains${t}`)}}class ts extends _{savedAudiobooks(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/audiobooks${s}`)}async saveAudiobooks(e){await this.putRequest("me/audiobooks",e)}async removeSavedAudiobooks(e){await this.deleteRequest("me/audiobooks",e)}hasSavedAudiobooks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/audiobooks/contains${t}`)}}class ss extends _{savedEpisodes(e,t,s){const a=this.paramsFor({market:e,limit:t,offset:s});return this.getRequest(`me/episodes${a}`)}async saveEpisodes(e){await this.putRequest("me/episodes",e)}async removeSavedEpisodes(e){await this.deleteRequest("me/episodes",e)}hasSavedEpisodes(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/episodes/contains${t}`)}}class rs extends _{playlists(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/playlists${s}`)}async follow(e){await this.putRequest(`playlists/${e}/followers`)}async unfollow(e){await this.deleteRequest(`playlists/${e}/followers`)}isFollowing(e,t){const s=this.paramsFor({ids:t});return this.getRequest(`playlists/${e}/followers/contains${s}`)}}class ns extends _{savedShows(e,t){const s=this.paramsFor({limit:e,offset:t});return this.getRequest(`me/shows${s}`)}saveShows(e){const t=this.paramsFor({ids:e});return this.putRequest(`me/shows${t}`)}removeSavedShows(e,t){const s=this.paramsFor({ids:e,market:t});return this.deleteRequest(`me/shows${s}`)}hasSavedShow(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/shows/contains${t}`)}}class is extends _{savedTracks(e,t,s){const a=this.paramsFor({limit:e,offset:t,market:s});return this.getRequest(`me/tracks${a}`)}async saveTracks(e){await this.putRequest("me/tracks",e)}async removeSavedTracks(e){await this.deleteRequest("me/tracks",e)}hasSavedTracks(e){const t=this.paramsFor({ids:e});return this.getRequest(`me/tracks/contains${t}`)}}class as{static get current(){return this.hasSubtleCrypto?window.crypto:this.tryLoadNodeWebCrypto()}static get hasSubtleCrypto(){return typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.subtle<"u"}static tryLoadNodeWebCrypto(){try{const{webcrypto:e}=require("crypto");return e}catch(e){throw e}}}class F{static async refreshCachedAccessToken(e,t){const s=await F.refreshToken(e,t.refresh_token);return F.toCachable(s)}static toCachable(e){return e.expires&&e.expires===-1?e:{...e,expires:this.calculateExpiry(e)}}static calculateExpiry(e){return Date.now()+e.expires_in*1e3}static async refreshToken(e,t){const s=new URLSearchParams;s.append("client_id",e),s.append("grant_type","refresh_token"),s.append("refresh_token",t);const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),o=await a.text();if(!a.ok)throw new Error(`Failed to refresh token: ${a.statusText}, ${o}`);return JSON.parse(o)}static generateCodeVerifier(e){let t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}static async generateCodeChallenge(e){const t=new TextEncoder().encode(e),s=await as.current.subtle.digest("SHA-256",t),a=[...new Uint8Array(s)];return(typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(String.fromCharCode.apply(null,a))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}}class J{clientId;clientSecret;scopes;static cacheKey="spotify-sdk:ClientCredentialsStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s=[]){this.clientId=e,this.clientSecret=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(J.cacheKey,async()=>{const t=await this.getTokenFromApi();return F.toCachable(t)},async t=>{const s=await this.getTokenFromApi();return F.toCachable(s)})}async getAccessToken(){return await this.cache.get(J.cacheKey)}removeAccessToken(){this.cache.remove(J.cacheKey)}async getTokenFromApi(){const e={grant_type:"client_credentials",scope:this.scopes.join(" ")},t=Object.keys(e).map(d=>d+"="+e[d]).join("&"),s=typeof Buffer<"u",a=`${this.clientId}:${this.clientSecret}`,o=s?Buffer.from(a).toString("base64"):btoa(a),u=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${o}`},body:t});if(u.status!==200)throw new Error("Failed to get access token.");return await u.json()}}class K{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:ImplicitGrantStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s){this.clientId=e,this.redirectUri=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(K.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return F.toCachable(t)},async t=>F.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(K.cacheKey)}removeAccessToken(){this.cache.remove(K.cacheKey)}async redirectOrVerifyToken(){const e=new URLSearchParams(window.location.hash.substring(1)),t=e.get("access_token");if(t)return Promise.resolve({access_token:t,token_type:e.get("token_type")??"",expires_in:parseInt(e.get("expires_in")??"0"),refresh_token:e.get("refresh_token")??"",expires:Number(e.get("expires"))||0});var a=(this.scopes??[]).join(" ");const o=new URLSearchParams;o.append("client_id",this.clientId),o.append("response_type","token"),o.append("redirect_uri",this.redirectUri),o.append("scope",a);const u="https://accounts.spotify.com/authorize?"+o.toString();return this.configuration.redirectionStrategy.redirect(u),Pe}}class G{clientId;redirectUri;scopes;static cacheKey="spotify-sdk:AuthorizationCodeWithPKCEStrategy:token";configuration=null;get cache(){return this.configuration.cachingStrategy}constructor(e,t,s){this.clientId=e,this.redirectUri=t,this.scopes=s}setConfiguration(e){this.configuration=e}async getOrCreateAccessToken(){return await this.cache.getOrCreate(G.cacheKey,async()=>{const t=await this.redirectOrVerifyToken();return F.toCachable(t)},async t=>F.refreshCachedAccessToken(this.clientId,t))}async getAccessToken(){return await this.cache.get(G.cacheKey)}removeAccessToken(){this.cache.remove(G.cacheKey)}async redirectOrVerifyToken(){const t=new URLSearchParams(window.location.search).get("code");if(t){const s=await this.verifyAndExchangeCode(t);return this.removeCodeFromUrl(),s}return this.redirectToSpotify(),Pe}async redirectToSpotify(){const e=F.generateCodeVerifier(128),t=await F.generateCodeChallenge(e),s={verifier:e,expiresOnAccess:!0};this.cache.setCacheItem("spotify-sdk:verifier",s);const a=await this.generateRedirectUrlForUser(this.scopes,t);await this.configuration.redirectionStrategy.redirect(a)}async verifyAndExchangeCode(e){const s=(await this.cache.get("spotify-sdk:verifier"))?.verifier;if(!s)throw new Error("No verifier found in cache - can't validate query string callback parameters.");return await this.configuration.redirectionStrategy.onReturnFromRedirect(),await this.exchangeCodeForToken(e,s)}removeCodeFromUrl(){const e=new URL(window.location.href);e.searchParams.delete("code");const t=e.search?e.href:e.href.replace("?","");window.history.replaceState({},document.title,t)}async generateRedirectUrlForUser(e,t){const s=e.join(" "),a=new URLSearchParams;return a.append("client_id",this.clientId),a.append("response_type","code"),a.append("redirect_uri",this.redirectUri),a.append("scope",s),a.append("code_challenge_method","S256"),a.append("code_challenge",t),`https://accounts.spotify.com/authorize?${a.toString()}`}async exchangeCodeForToken(e,t){const s=new URLSearchParams;s.append("client_id",this.clientId),s.append("grant_type","authorization_code"),s.append("code",e),s.append("redirect_uri",this.redirectUri),s.append("code_verifier",t);const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),o=await a.text();if(!a.ok)throw new Error(`Failed to exchange code for token: ${a.statusText}, ${o}`);return JSON.parse(o)}}class os{async deserialize(e){const t=await e.text();return t.length>0?JSON.parse(t):null}}class cs{async validateResponse(e){switch(e.status){case 401:throw new Error("Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.");case 403:const t=await e.text();throw new Error(`Bad OAuth request (wrong consumer key, bad nonce, expired timestamp...). Unfortunately, re-authenticating the user won't help here. Body: ${t}`);case 429:throw new Error("The app has exceeded its rate limits.");default:if(!e.status.toString().startsWith("20")){const s=await e.text();throw new Error(`Unrecognised response code: ${e.status} - ${e.statusText}. Body: ${s}`)}}}}class us{async handleErrors(e){return!1}}class ls{async redirect(e){document.location=e.toString()}async onReturnFromRedirect(){}}class rt{storage;updateFunctions;autoRenewInterval;autoRenewWindow;constructor(e,t=new Map,s=0,a=2*60*1e3){this.storage=e,this.updateFunctions=t,this.autoRenewInterval=s,this.autoRenewWindow=a,this.autoRenewInterval>0&&setInterval(()=>this.autoRenewRenewableItems(),this.autoRenewInterval)}async getOrCreate(e,t,s){s&&this.updateFunctions.set(e,s);const a=await this.get(e);if(a)return a;const o=await t();if(!o)throw new Error("Could not create cache item");return Q(o)||this.setCacheItem(e,o),o}async get(e){let t=this.storage.get(e),s=t?JSON.parse(t):null;if(this.itemDueToExpire(s)&&this.updateFunctions.has(e)){const a=this.updateFunctions.get(e);await this.tryUpdateItem(e,s,a),t=this.storage.get(e),s=t?JSON.parse(t):null}return s?s.expires&&(s.expires===-1||s.expires<=Date.now())?(this.remove(e),null):(s.expiresOnAccess&&s.expiresOnAccess===!0&&this.remove(e),s):null}set(e,t,s){const a=Date.now()+s,o={...t,expires:a};this.setCacheItem(e,o)}setCacheItem(e,t){const s=JSON.stringify(t);this.storage.set(e,s)}remove(e){this.storage.remove(e)}itemDueToExpire(e){return!e||!e.expires?!1:e.expires-Date.now()<this.autoRenewWindow}async autoRenewRenewableItems(){this.updateFunctions.forEach(async(e,t)=>{const s=await this.get(t);s&&e&&this.itemDueToExpire(s)&&await this.tryUpdateItem(t,s,e)})}async tryUpdateItem(e,t,s){try{const a=await s(t);a&&this.setCacheItem(e,a)}catch(a){console.error(a)}}}class ds extends rt{constructor(){super(new fs)}}class fs{get(e){return localStorage.getItem(e)}set(e,t){localStorage.setItem(e,t)}remove(e){localStorage.removeItem(e)}}class hs extends rt{constructor(){super(new ps)}}class ps{cache=new Map;get(e){return this.cache.get(e)??null}set(e,t){this.cache.set(e,t)}remove(e){this.cache.delete(e)}}class ms{clientId;accessToken;refreshTokenAction;constructor(e,t,s){this.clientId=e,this.accessToken=t,this.refreshTokenAction=s||F.refreshCachedAccessToken,this.accessToken.expires||(this.accessToken.expires=F.calculateExpiry(this.accessToken))}setConfiguration(e){}async getOrCreateAccessToken(){if(this.accessToken.expires&&this.accessToken.expires<=Date.now()){const e=await this.refreshTokenAction(this.clientId,this.accessToken);this.accessToken=e}return this.accessToken}async getAccessToken(){return this.accessToken}removeAccessToken(){this.accessToken={access_token:"",token_type:"",expires_in:0,refresh_token:"",expires:0}}}class D{sdkConfig;static rootUrl="https://api.spotify.com/v1/";authenticationStrategy;albums;artists;audiobooks;browse;chapters;episodes;recommendations;markets;player;playlists;shows;tracks;users;search;currentUser;constructor(e,t){this.sdkConfig=this.initializeSdk(t),this.albums=new It(this),this.artists=new Ut(this),this.audiobooks=new Vt(this),this.browse=new jt(this),this.chapters=new Dt(this),this.episodes=new zt(this),this.recommendations=new Wt(this),this.markets=new Gt(this),this.player=new Ht(this),this.playlists=new Qt(this),this.shows=new Kt(this),this.tracks=new Yt(this),this.users=new Zt(this),this.currentUser=new Xt(this);const s=new Jt(this);this.search=s.execute.bind(s),this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig)}async makeRequest(e,t,s=void 0,a=void 0){try{const o=await this.authenticationStrategy.getOrCreateAccessToken();if(Q(o))return console.warn("No access token found, authenticating now."),null;const u=o?.access_token,c=D.rootUrl+t,d={method:e,headers:{Authorization:`Bearer ${u}`,"Content-Type":a??"application/json"},body:s?typeof s=="string"?s:JSON.stringify(s):void 0};this.sdkConfig.beforeRequest(c,d);const n=await this.sdkConfig.fetch(c,d);return this.sdkConfig.afterRequest(c,d,n),n.status===204?null:(await this.sdkConfig.responseValidator.validateResponse(n),this.sdkConfig.deserializer.deserialize(n))}catch(o){if(!await this.sdkConfig.errorHandler.handleErrors(o))throw o;return null}}initializeSdk(e){const t=typeof window<"u";return{...{fetch:(a,o)=>fetch(a,o),beforeRequest:(a,o)=>{},afterRequest:(a,o,u)=>{},deserializer:new os,responseValidator:new cs,errorHandler:new us,redirectionStrategy:new ls,cachingStrategy:t?new ds:new hs},...e}}switchAuthenticationStrategy(e){this.authenticationStrategy=e,this.authenticationStrategy.setConfiguration(this.sdkConfig),this.authenticationStrategy.getOrCreateAccessToken()}async authenticate(){const e=await this.authenticationStrategy.getOrCreateAccessToken();return{authenticated:e.expires>Date.now()&&!Q(e),accessToken:e}}async getAccessToken(){return this.authenticationStrategy.getAccessToken()}logOut(){this.authenticationStrategy.removeAccessToken()}static withUserAuthorization(e,t,s=[],a){const o=new G(e,t,s);return new D(o,a)}static withClientCredentials(e,t,s=[],a){const o=new J(e,t,s);return new D(o,a)}static withImplicitGrant(e,t,s=[],a){const o=new K(e,t,s);return new D(o,a)}static withAccessToken(e,t,s){const a=new ms(e,t);return new D(a,s)}static async performUserAuthorization(e,t,s,a,o){const u=new G(e,t,s),d=await new D(u,o).authenticationStrategy.getOrCreateAccessToken();return Q(d)||(typeof a=="string"?(console.log("Posting access token to postback URL."),await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})):await a(d)),{authenticated:d.expires>Date.now()&&!Q(d),accessToken:d}}}const gs="fea5ab12dbbb422485f6621e2cf89e24",ws="https://marvin-brouwer.github.io/guessify/",Z=D.withUserAuthorization(gs,ws,["streaming","user-read-private","user-read-email"]),ae=new URL(window.location.href);ae.searchParams.has("code")&&await Z.authenticate();function ys(){Z.logOut(),at(!1),be(!1)}async function nt(){be(!0),ot(void 0);const r=await Z.authenticate();if(r.accessToken.access_token==="emptyAccessToken")return;const e=await Z.currentUser.profile();bs(e),at(r.authenticated),be(!1)}const it=await Z.getAccessToken().then(r=>!!r),[vs,be]=q(it),[Ae,at]=q(!1),[Se,ot]=q();if(ae.searchParams.has("error")){ot(ae.searchParams.get("error"));const r=new URL(ae);r.searchParams.delete("error"),history.replaceState(null,"",r)}const ct=()=>{if(!Se())return;const{dictionary:r}=O();return Se()==="access_denied"?r.spotify.errors.access_denied:r.spotify.errors.unknown},[ut,bs]=q(),lt=()=>Ae()&&ut()?.product==="premium",_e=ze({logIn:nt,logOut:ys,isAuthenticating:vs,isAuthenticated:Ae,isValid:lt,profile:ut,errorMessage:ct}),pe=()=>We(_e),Ss=()=>{he(()=>{it&&nt()});const{dictionary:r,locale:e}=O();return C(_e.Provider,{get value(){return{..._e.defaultValue,isValid:S(lt,Ae),errorMessage:S(ct,[r,e,Se])}},get children(){return[]}})},_s="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202zm0%204c1.93%200%203.5%201.57%203.5%203.5S13.93%2013%2012%2013s-3.5-1.57-3.5-3.5S10.07%206%2012%206zm0%2014c-2.03%200-4.43-.82-6.14-2.88C7.55%2015.8%209.68%2015%2012%2015s4.45.8%206.14%202.12C16.43%2019.18%2014.03%2020%2012%2020z'/%3e%3c/g%3e%3c/svg%3e",ks="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%231ed760'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M23,12l-2.44-2.79l0.34-3.69l-3.61-0.82L15.4,1.5L12,2.96L8.6,1.5L6.71,4.69L3.1,5.5L3.44,9.2L1,12l2.44,2.79l-0.34,3.7%20l3.61,0.82L8.6,22.5l3.4-1.47l3.4,1.46l1.89-3.19l3.61-0.82l-0.34-3.69L23,12z%20M10.09,16.72l-3.8-3.81l1.48-1.48l2.32,2.33%20l5.85-5.87l1.48,1.48L10.09,16.72z'/%3e%3c/g%3e%3c/svg%3e",Ms="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23d71e1e'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M1%2021h22L12%202%201%2021zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'/%3e%3c/svg%3e",Ps="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M17%207l-1.41%201.41L18.17%2011H8v2h10.17l-2.58%202.58L17%2017l5-5zM4%205h8V3H4c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h8v-2H4V5z'/%3e%3c/svg%3e",As="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cg%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3c/g%3e%3cg%3e%3cpath%20d='M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z%20M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z'/%3e%3c/g%3e%3c/svg%3e";var Cs=b("<div class=spotify-card><h2>"),$s=b('<div class="spotify-login-card card"><div class=details><p></p><p></p></div><div class=controls><button>'),xs=b("<p class=error>"),qe=b("<span>"),Rs=b("<img>"),Es=b("<img class=placeholder>"),Fs=b('<div class="spotify-profile-card card"><div class=thumbnail></div><p class=stats><b></b><i></i></p><p class=stats><b></b><i></i></p><p class=stats><b></b><i><img></i></p><div class=details><h3></h3></div><div class=controls><button><span></span><img>'),Be=b("<p>"),Ts=b("<p class=no-premium>");const Os=()=>{const r=pe(),{hasMediaSupport:e}=se();if(!e())return null;const{dictionary:t}=O(),s=S(()=>!r.isAuthenticating()&&r.isAuthenticated()?C(Bs,{}):C(qs,{}),[r.isAuthenticated,r.isAuthenticating]);return(()=>{var a=Cs(),o=a.firstChild;return m(o,()=>t.spotify.title),m(a,s,null),a})()},qs=()=>{const r=pe(),{dictionary:e}=O();return(()=>{var t=$s(),s=t.firstChild,a=s.firstChild,o=a.nextSibling,u=s.nextSibling,c=u.firstChild;return m(a,()=>e.spotify.explainer[0]),m(o,()=>e.spotify.explainer[1]),m(s,(()=>{var d=S(()=>!!r.errorMessage());return()=>d()&&(()=>{var n=xs();return m(n,()=>r.errorMessage()),n})()})(),null),c.$$click=()=>{r.logIn()},m(c,(()=>{var d=S(()=>!!r.isAuthenticating());return()=>d()?(()=>{var n=qe();return m(n,()=>e.spotify.signingIn),n})():(()=>{var n=qe();return m(n,()=>e.spotify.signIn),n})()})(),null),m(c,(()=>{var d=S(()=>!r.isAuthenticating());return()=>d()&&(()=>{var n=Rs();return V(n,"src",As),n})()})(),null),U(()=>c.disabled=r.isAuthenticating()),t})()},Bs=()=>{const r=pe(),{dictionary:e}=O(),t=r.profile();if(!t)return null;const s=t.images?.find(c=>c.width===300)??void 0,[a,o]=q((()=>{var c=Es();return V(c,"src",_s),c})());je(()=>{if(!s||a().src===s.url)return;const c=a().cloneNode(!0);c.className="",c.addEventListener("load",()=>o(c),{once:!0}),c.src=s.url},s);const u=r.isValid();return(()=>{var c=Fs(),d=c.firstChild,n=d.nextSibling,i=n.firstChild,l=i.nextSibling,g=n.nextSibling,h=g.firstChild,f=h.nextSibling,p=g.nextSibling,w=p.firstChild,y=w.nextSibling,M=y.firstChild,$=p.nextSibling,j=$.firstChild,P=$.nextSibling,x=P.firstChild,T=x.firstChild,N=T.nextSibling;return m(d,a),m(i,()=>e.spotify.stats.country),m(l,()=>t.country),m(h,()=>e.spotify.stats.followers),m(f,()=>t.followers.total),m(w,()=>e.spotify.stats.premium),V(M,"src",u?ks:Ms),m(j,()=>t.display_name),m($,u?(()=>{var B=Be();return m(B,()=>e.spotify.details.hasPremium),B})():[(()=>{var B=Ts();return m(B,()=>e.spotify.details.noPremium),B})(),(()=>{var B=Be();return m(B,()=>e.spotify.explainer[1]),B})()],null),x.$$click=()=>r.logOut(),m(T,()=>e.spotify.signOut),V(N,"src",Ps),c})()};Me(["click"]);const Ns="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20enable-background='new%200%200%2024%2024'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3crect%20fill='none'%20height='24'%20width='24'/%3e%3cpath%20d='M3,4V1h2v3h3v2H5v3H3V6H0V4H3z%20M6,10V7h3V4h7l1.83,2H21c1.1,0,2,0.9,2,2v12c0,1.1-0.9,2-2,2H5c-1.1,0-2-0.9-2-2V10H6z%20M13,19c2.76,0,5-2.24,5-5s-2.24-5-5-5s-5,2.24-5,5S10.24,19,13,19z%20M9.8,14c0,1.77,1.43,3.2,3.2,3.2s3.2-1.43,3.2-3.2%20s-1.43-3.2-3.2-3.2S9.8,12.23,9.8,14z'/%3e%3c/svg%3e",Ls="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3.2'/%3e%3cpath%20d='M9%202L7.17%204H4c-1.1%200-2%20.9-2%202v12c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2h-3.17L15%202H9zm3%2015c-2.76%200-5-2.24-5-5s2.24-5%205-5%205%202.24%205%205-2.24%205-5%205z'/%3e%3c/svg%3e",Is="modulepreload",Us=function(r){return"/guessify/"+r},Ne={},Vs=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=Promise.allSettled(t.map(d=>{if(d=Us(d),d in Ne)return;Ne[d]=!0;const n=d.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${i}`))return;const l=document.createElement("link");if(l.rel=n?"stylesheet":Is,n||(l.as="script"),l.crossOrigin="",l.href=d,c&&l.setAttribute("nonce",c),document.head.appendChild(l),n)return new Promise((g,h)=>{l.addEventListener("load",g),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},js="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e";var Ds=b('<dialog><div class="reset-permissions-modal card"><div class=details><h2></h2><p></p><p><a href=#todo target=_blank></a></p><p></p></div><div class=controls><button><span></span><img>'),zs=b("<details><summary></summary><pre>"),Ws=b("<a href=#instructions>");async function Gs(){const{default:r}=await Vs(async()=>{const{default:e}=await import("./bowser-CaSxt9Ck.js");return{default:e}},[]);return r.parse(window.navigator.userAgent)}const Hs=()=>{const{locale:r,dictionary:e}=O(),[t,s]=q(),a=(()=>{var d=Ds(),n=d.firstChild,i=n.firstChild,l=i.firstChild,g=l.nextSibling,h=g.nextSibling,f=h.firstChild,p=h.nextSibling,w=i.nextSibling,y=w.firstChild,M=y.firstChild,$=M.nextSibling;return m(l,()=>e.camera.permissions.title),m(g,()=>e.camera.permissions.explainer),m(h,()=>e.camera.permissions.cta[0],f),m(f,()=>e.camera.permissions.cta[1]),m(h,()=>e.camera.permissions.cta[2],null),m(i,(()=>{var j=S(()=>!!t());return()=>j()&&(()=>{var P=zs(),x=P.firstChild,T=x.nextSibling;return m(x,()=>e.camera.permissions.deviceDetails),m(T,()=>JSON.stringify(t(),null,4)),P})()})(),p),y.$$click=()=>o.close(),m(M,()=>e.common.close),V($,"src",js),d})(),o=a,u=d=>{o.hidden||o.addEventListener("click",function(n){const i=o.getBoundingClientRect();i.top<=n.clientY&&n.clientY<=i.top+i.height&&i.left<=n.clientX&&n.clientX<=i.left+i.width||o.close()},{once:!0})};he(()=>{o.addEventListener("click",u)}),De(()=>{o.removeEventListener("click",u)});const c=async()=>{const d=t()??await Gs();s(d);const n=Qs(d,r());if(!n)return o.showModal();window.open(n,"_blank")};return[(()=>{var d=Ws();return d.$$click=c,m(d,()=>e.camera.permissions.permissionLink),d})(),a]};function Qs(r,e){if(r.browser.name==="Chrome"){if(r.platform.type==="desktop")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DDesktop`;if(r.os.name==="android")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DAndroid`;if(r.os.name==="ios")return`https://support.google.com/chrome/answer/114662?hl=${e}&co=GENIE.Platform%3DiOS`}}Me(["click"]);var Js=b("<div class=camera-card><h2>"),Ks=b('<div class="camera-request-card card no-controls"><div class=details><p></p><p> </p><p> '),Ys=b('<div class="camera-request-card card no-controls"><div class=details><p></p><p></p><p> <!>.'),Zs=b('<div class="camera-request-card card"><div class=details><p></p><p></p></div><div class=controls><button><img>'),Le=b("<span>"),Ie=b("<video>"),Xs=b("<option>"),er=b('<div class="camera-request-card card"><div class=video-blur></div><div class=details><p></p><p><i></i></p></div><div class=controls><select></select><div><span></span><img>');const tr=()=>{const r=se(),{dictionary:e}=O(),t=S(()=>r.hasMediaSupport()?r.canPrompt()||r.permission()==="pending"?C(nr,{}):r.hasPermission()?C(ir,{}):C(rr,{}):C(sr,{}),[r.hasMediaSupport,r.canPrompt,r.hasPermission]);return(()=>{var s=Js(),a=s.firstChild;return m(a,()=>e.camera.title),m(s,t,null),s})()},sr=()=>{const{dictionary:r}=O();return(()=>{var e=Ks(),t=e.firstChild,s=t.firstChild,a=s.nextSibling,o=a.firstChild,u=a.nextSibling,c=u.firstChild;return m(s,()=>r.camera.explainer[0]),m(a,()=>r.camera.noSupport[0],o),m(u,()=>r.camera.noSupport[1],c),e})()},rr=()=>{const{dictionary:r}=O();return(()=>{var e=Ys(),t=e.firstChild,s=t.firstChild,a=s.nextSibling,o=a.nextSibling,u=o.firstChild,c=u.nextSibling;return c.nextSibling,m(s,()=>r.camera.explainer[0]),m(a,()=>r.camera.noPermission[0]),m(o,()=>r.camera.noPermission[1],u),m(o,C(Hs,{}),c),e})()},nr=()=>{const r=se(),{dictionary:e}=O();return(()=>{var t=Zs(),s=t.firstChild,a=s.firstChild,o=a.nextSibling,u=s.nextSibling,c=u.firstChild,d=c.firstChild;return m(a,()=>e.camera.explainer[0]),m(o,()=>e.camera.explainer[1]),c.$$click=()=>{r.requestPermission()},m(c,(()=>{var n=S(()=>r.permission()==="pending");return()=>n()?(()=>{var i=Le();return m(i,()=>e.camera.requestingPermission),i})():(()=>{var i=Le();return m(i,()=>e.camera.requestPermission),i})()})(),d),V(d,"src",Ns),U(()=>c.disabled=!r.canPrompt()),t})()},ir=()=>{const r=se(),{dictionary:e,template:t}=O(),[s,a]=q(),o=S(()=>s()?.stream??null,s),u=Ie(),c=u,d=S(()=>(c.srcObject=o(),c.srcObject?(c.removeAttribute("src"),c.onloadedmetadata=()=>{c.play()},u):(c.src="",c.srcObject=null,c.pause(),Ie())),[o]);he(()=>{r.getCamera().then(a).catch(console.error)});const n=S(()=>r.devices().map(i=>(()=>{var l=Xs();return m(l,()=>i.label),U(()=>l.selected=i.deviceId===s()?.id),U(()=>l.value=i.deviceId),l})()),[r.devices,s]);return(()=>{var i=er(),l=i.firstChild,g=l.nextSibling,h=g.firstChild,f=h.nextSibling,p=f.firstChild,w=g.nextSibling,y=w.firstChild,M=y.nextSibling,$=M.firstChild,j=$.nextSibling;return m(i,d,l),m(h,()=>t(e.camera.selectedCamera,{label:s()?.label??"?"})),m(p,()=>e.camera.switchBanner),y.addEventListener("change",async P=>{const x=s();if(P.target.value===x?.id)return;c.pause(),c.srcObject=null;const T=P.target.value;a(void 0);const N=await r.getCamera(T);a(N)}),m(y,n),m($,()=>s()?.name??e.camera.openingCam),V(j,"src",Ls),U(P=>{var x=s()?.id,T=!s(),N=s()?"fake-button":"fake-button disabled";return x!==P.e&&V(y,"data-value",P.e=x),T!==P.t&&(y.disabled=P.t=T),N!==P.a&&_t(M,P.a=N),P},{e:void 0,t:void 0,a:void 0}),i})()};Me(["click"]);const ar="/guessify/assets/guessify-logo-DT33HoF3.svg";var or=b("<div class=dependency-gate><h1 class=logo><img> Guessify");const cr=({children:r})=>{const e=pe(),t=se(),s=S(()=>e.isValid()&&t.hasPermission(),[e.isValid,t.hasPermission,t.permission]);return S(()=>S(()=>s()?r:(()=>{var a=or(),o=a.firstChild,u=o.firstChild;return V(u,"src",ar),m(a,C(Os,{}),null),m(a,C(tr,{}),null),a})(),s)())},ur={BASE_URL:"/guessify/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_VERSION:"1.0.0-alpha.5",VITE_SPOTIFY_CLIENT:"fea5ab12dbbb422485f6621e2cf89e24",VITE_SPOTIFY_HOST:"https://marvin-brouwer.github.io/guessify/"};var lr=b("<p>TODO");function dr(){return console.log(ur),[C(Ss,{}),C(Lt,{}),C(cr,{get children(){return lr()}})]}const fr=document.getElementById("root");St(()=>C(dr,{}),fr)})();